webpackJsonp([0],{1260:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=o(a),i=n(1374),s=o(i),l=n(1308),d=n(1307),c=n(1267),u=o(c),p=n(1349),h=o(p),f=n(1348),E=o(f),m=n(1449),_=o(m),S=n(1332),g=n(1448),T=n(1447),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(T),y=u.default.initial,O=s.default.reducers,C=s.default.maskMiddleware;t.default={components:v,reducer:(0,r.default)({im:l.im,signatureEditor:h.default},O),middlewares:[d.imageSignature,d.editorManager,C,E.default],rootSaga:_.default,functions:{initModule:g.initModule},actions:{openImageManager:S.openImageManager,openSignatureManager:S.openSignatureManager,initImageSignatureManager:y}},e.exports=t.default},1267:function(e,t,n){"use strict";var o=n(1296);e.exports={initial:function(){return{type:o.actionTypes.INITIAL}},uploader:function(){return{type:o.actionTypes.UPLOADER}},mobileUploader:function(e){return{type:o.actionTypes.MOBILE_UPLOADER,targetFiles:e}},uploading:function(){return{type:o.actionTypes.UPLOADING}},capture:function(){return{type:o.actionTypes.CAPTURE}},setUploadedPercent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:o.actionTypes.SET_UPLOADED_PERCENT,percent:e}},setError:function(e){return Array.isArray(e)&&e.length&&(e=e[0].error+" "+e[0].brokenCondition),{type:o.actionTypes.ERROR_SET,error:e}},clearErrors:function(){return{type:o.actionTypes.ERRORS_CLEAN}},closeSignature:function(){return{type:o.actionTypes.CLOSE_SIGNATURE}},smInitial:function(){return{type:o.actionTypes.SM_INITIAL}},smSetDrawConfig:function(e){return{type:o.actionTypes.SM_SET_DRAW_CONFIG,config:e}},smChooseSignature:function(){return{type:o.actionTypes.SM_CHOOSE_SIGNATURE}},smTypeSignature:function(){return{type:o.actionTypes.TYPE_SIGNATURE}},smGallery:function(){return{type:o.actionTypes.SM_GALLERY}},smQR:function(){return{type:o.actionTypes.SM_QR}},smSMS:function(){return{type:o.actionTypes.SM_SMS}},smEmail:function(){return{type:o.actionTypes.SM_EMAIL}},smDraw:function(){return{type:o.actionTypes.SM_DRAW}},smSignatureValue:function(e){return{type:o.actionTypes.SM_SIGNATURE_VALUE,value:e.replace(/[^a-zA-Z0-9!?@#$%^&*)(+=.,<>{}_\-[\]\/\\|;:'"`~â„– ]+$/gi,"")}},smSignatureFont:function(e){return{type:o.actionTypes.SM_SIGNATURE_FONT,font:e}},smDrawComponentUpdateHistoryPoint:function(e){return{type:o.actionTypes.SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT,drawConfig:e}},smSaveSignature:function(e){return{type:o.actionTypes.SM_SIGNATURE_SAVE,signature:e}},smUploader:function(){return{type:o.actionTypes.SM_UPLOADER}},smMobileUploader:function(){return{type:o.actionTypes.SM_MOBILE_UPLOADER}},smUploading:function(){return{type:o.actionTypes.SM_UPLOADING}},smCapture:function(){return{type:o.actionTypes.SM_CAPTURE}},smMobileSignLoading:function(){return{type:o.actionTypes.SM_MOBILE_SIGN_LOADING}},smSignatureStatusChange:function(e){return{type:o.actionTypes.SM_SIGNATURE_STATUS_CHANGE,value:e}},smSetUploadFunction:function(e){return{type:o.actionTypes.SM_SET_UPLOAD_FUNCTION,imageUploadFunction:e}},smSetOriginalImage:function(e){return{type:o.actionTypes.SM_SET_ORIGINAL_IMAGE,image:e}},uploadImage:function(e,t,n){return{type:o.actionTypes.LAUNCH_UPLOAD_IMAGE,data:e,callback:t,percentCallback:n}},uploadSignatureImage:function(e,t,n,a){return{type:o.actionTypes.SM_LAUNCH_UPLOAD_IMAGE,data:e,use:t,dimensions:n,callback:a}},disableWebcam:function(){return{type:o.actionTypes.DISABLE_WEBCAM}},setApiRest:function(e){return{type:o.actionTypes.API_REST_SET,config:e}},getQrUrl:function(){return{type:o.actionTypes.SM_GET_QR_URL}},setQrUrl:function(e){return{type:o.actionTypes.SM_SET_QR_URL,url:e}},sendPhoneNumber:function(){return{type:o.actionTypes.SM_SEND_PHONE_NUMBER}},sendEmail:function(){return{type:o.actionTypes.SM_SEND_EMAIL}},savePhoneNumber:function(e){return{type:o.actionTypes.SM_SAVE_PHONE_NUMBER,number:e}},saveEmail:function(e){return{type:o.actionTypes.SM_SAVE_EMAIL,email:e}},setMobileSignatureMethod:function(e){return{type:o.actionTypes.SM_SET_MOBILE_SIGNATURE_METHOD,method:e}},mobileSignatureResend:function(){return{type:o.actionTypes.SM_MOBILE_SIGNATURE_RESEND}},getContactEmail:function(e){return{type:o.actionTypes.SM_GET_CONTACT_EMAIL,contact:e}},getContactPhoneNumber:function(e){return{type:o.actionTypes.SM_GET_CONTACT_PHONE_NUMBER,contact:e}},setAddressBookApiRest:function(e){return{type:o.actionTypes.SM_SET_ADDRESSBOOK_API_REST,apiRest:e}},smOpenEditorPreview:function(){return{type:o.actionTypes.SM_EDITOR_PREVIEW_OPEN}},smOpenEditor:function(){return{type:o.actionTypes.SM_EDITOR_OPEN}},smSetError:function(e){return Array.isArray(e)&&e.length&&(e=e[0].error+" "+e[0].brokenCondition),{type:o.actionTypes.SM_ERROR_SET,error:e}}}},1268:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.METHODS_LIST=t.modalIds=t.DROPZONE_CONFIG=t.RENDER=t.QR_PROPS=t.IMAGES=t.FONTS=t.DRAW_OPTIONS=t.SUB_TYPES=t.MODES=t.MODE_TYPES=t.LOCALE=void 0;var a=n(1580),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),i=n(1286),s=n(1583),l=n(1357),d=o(l),c=n(1576),u=o(c),p=n(1578),h=o(p),f=n(1579),E=o(f),m=n(1584),_=o(m),S=n(1585),g=o(S),T=n(1577),v=o(T),y=n(1582),O=o(y),C=n(1581),D=o(C);t.LOCALE=r,t.MODE_TYPES=i.MODE_TYPES,t.MODES=s.MODES,t.SUB_TYPES=d.default,t.DRAW_OPTIONS=u.default,t.FONTS=h.default,t.IMAGES=E.default,t.QR_PROPS=_.default,t.RENDER=g.default,t.DROPZONE_CONFIG=v.default,t.modalIds=O.default,t.METHODS_LIST=D.default},1269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYSTEM={ADDRESSBOOK_ADDRESS_BOOK:"AddressBook",ADDRESSBOOK_UNDEFINED:"undefined",ADDRESSBOOK_FUNCTION:"function",ADDRESSBOOK_NUMBER:"number",ADDRESSBOOK_STRING:"string",ADDRESSBOOK_LENGTH:"length",ADDRESSBOOK_MODE_TYPE_INITIAL:"initial",ADDRESSBOOK_MODE_TYPE_LIST:"list",ADDRESSBOOK_FIELD_NAME:"name",ADDRESSBOOK_FIELD_NAME_MOBILE:"name-mob",ADDRESSBOOK_FIELD_EMAIL:"email",ADDRESSBOOK_FIELD_EMAIL_MOBILE:"email-mob",ADDRESSBOOK_FIELD_PHONE:"phone",ADDRESSBOOK_FIELD_PHONE_MOBILE:"phone-mob",ADDRESSBOOK_FIELD_FAX:"fax",ADDRESSBOOK_FIELD_FAX_MOBILE:"fax-mob",ADDRESSBOOK_FIELD_MOBILE_PREFIX:"-mob",ADDRESSBOOK_FIELD_SEARCH:"search",ADDRESSBOOK_MODAL_ACTION_EDIT:"edit",ADDRESSBOOK_MODAL_ACTION_ADD:"add",ADDRESSBOOK_MODAL_SEARCH:"search",ADDRESSBOOK_DROPDOWN_SHOW:"show",ADDRESSBOOK_DROPDOWN_HIDE:"hide",ADDRESSBOOK_DROPDOWN_TYPE_SORT:"sort",ADDRESSBOOK_DROPDOWN_TYPE_IMPORT:"import",ADDRESSBOOK_DROPDOWN_TYPE_EDIT:"edit",ADDRESSBOOK_FILTER_TOGGLE_OR:"or",ADDRESSBOOK_FILTER_TOGGLE_AND:"and",ADDRESSBOOK_SORT_DIRECTION_AZ:"A-Z",ADDRESSBOOK_SORT_DIRECTION_ZA:"Z-A",ADDRESSBOOK_MATH_MAX:"max",ADDRESSBOOK_MATH_MIN:"min",ADDRESSBOOK_REGEXP_NAME:/^(.*\S.*)$/,ADDRESSBOOK_REGEXP_PHONE:/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,ADDRESSBOOK_REGEXP_EMAIL:/^([\w\.!#\$%&'\*\+-\/=\?\^_`\{\|}~]+[0-9a-zA-Z_-]+@[a-zA-Z_-]+?\.[a-zA-Z]{2,6}(\.[a-zA-Z]{2,6})?)$/,ADDRESSBOOK_REGEXP_NUMBER:/\{\*number\*\}/gi,ADDRESSBOOK_DEFAULT_WINDOW_INNER_WIDTH:800,ADDRESSBOOK_DEFAULT_WINDOW_INNER_HEIGHT:600,ADDRESSBOOK_MODAL_WIDTH:300,ADDRESSBOOK_MODAL_HEIGHT:248,ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT:748,ADDRESSBOOK_DIALOG_TIMEOUT:2e3,ADDRESSBOOK_BLOCK_POINT_DELAY:450,ADDRESSBOOK_MOBILE_VIEW_TYPE:"mobile",ADDRESSBOOK_DESKTOP_VIEW_TYPE:"desktop",ADDRESSBOOK_MOBILE_VIEW_CLASS:"hold-screen",ADDRESSBOOK_MMC_TYPE_IMPORT_CONTACTS_FINISH:"IMPORT_CONTACTS_FINISH",ADDRESSBOOK_MMC_TYPE_ALERT:"ALERT",ADDRESSBOOK_MMC_EVENT_CLEAR_TOKEN:"CLEAR_TOKEN",ADDRESSBOOK_DIALOG_TYPE_SUCCESS:"success",ADDRESSBOOK_DIALOG_TYPE_WARNING:"warning",ADDRESSBOOK_DIALOG_SIZE_SM:"sm",ADDRESSBOOK_SEARCH_FIELD:"searchField",ADDRESSBOOK_LOGIN_URL:"/en/login.htm?msg=logout"}},1270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getImageManagerLocale=function(e){return e.locale.imageManager},t.getSignatureManagerLocale=function(e){return e.locale.signatureManager}},1271:function(e,t,n){"use strict";function o(e){return{type:U.actionTypes.WS_CONNECTION_ON,wsConnectObj:e}}function a(e,t,n){return{type:U.actionTypes.INIT_CUSTOM,baseUrl:e,appKey:t,userCredentials:n}}function r(e){return{type:U.actionTypes.SET_CONTACTS,contacts:e}}function i(){return{type:U.actionTypes.SET_INITIAL_MODE}}function s(e){return{type:U.actionTypes.SET_LOCAL,local:e}}function l(){return{type:U.actionTypes.SET_SINGLE_PAGE}}function d(e){return{type:U.actionTypes.SET_FIELDS_MASK,fieldsMask:e}}function c(e){return{type:U.actionTypes.SET_ACTIVE_ROWS,activeRows:e}}function u(e){return{type:U.actionTypes.SET_FILTER_MASK,filterMask:e}}function p(e){return{type:U.actionTypes.SET_FILTER_TOGGLE,filterToggle:e}}function h(){return{type:U.actionTypes.CLOSE}}function f(e){return{type:U.actionTypes.OPEN_DIALOG,contactActionType:e}}function E(){return{type:U.actionTypes.CLOSE_DIALOG}}function m(e,t,n){return{type:U.actionTypes.HANDLE_CHANGE,value:e,inputType:t,isCorrect:n}}function _(e){return{type:U.actionTypes.ADD_CONTACT,newContact:e}}function S(){return{type:U.actionTypes.EDIT_CONTACT}}function g(e,t,n,o){return n?{type:U.actionTypes.CLICK_ROW_SHIFT,contactID:e,selectMax:o}:t?{type:U.actionTypes.CLICK_ROW_CTRL,contactID:e,selectMax:o}:{type:U.actionTypes.CLICK_ROW,contactID:e}}function T(e){return{type:U.actionTypes.DOUBLE_CLICK_ROW,contactID:e}}function v(){return{type:U.actionTypes.SELECT_ALL}}function y(){return{type:U.actionTypes.UNSELECT_ALL}}function O(){return{type:U.actionTypes.SELECT_CONTACT_UP}}function C(){return{type:U.actionTypes.SELECT_CONTACT_DOWN}}function D(){return{type:U.actionTypes.DELETE_SELECTED}}function M(){return{type:U.actionTypes.DELETE_ALL}}function A(e,t){return{type:U.actionTypes.SORT_CONTACTS,sortBy:e,sortDirection:t}}function b(e,t){return{type:U.actionTypes.SEARCH_CONTACTS,searchBy:e,fieldsMask:t}}function R(e){return{type:U.actionTypes.SEARCH_UPDATE,searchBy:e}}function I(){return{type:U.actionTypes.CLEAR_SEARCH}}function P(e,t){switch(e){case H.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_IMPORT:return{type:U.actionTypes.TOGGLE_IMPORT,dropdownToggle:t};case H.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_EDIT:return{type:U.actionTypes.TOGGLE_EDIT,dropdownToggle:t}}}function N(e,t){return{type:U.actionTypes.IMPORT_EMAIL,url:e,props:t}}function w(e){return{type:U.actionTypes.ON_RESIZE_WINDOW,viewType:e}}function k(e){return{type:U.actionTypes.HANDLE_ERROR_MODAL,errorModalOpen:e}}function L(e){return{type:U.actionTypes.HANDLE_ALERT_MODAL,alertModalOpen:e}}function B(e){return{type:U.actionTypes.HANDLE_SAVING_CONTACT,saved:e}}function x(e){return{type:U.actionTypes.HANDLE_SEARCH_FIELD,handler:e}}function Y(e){return{type:U.actionTypes.HANDLE_BLOCK_POINT,handler:e}}function F(e,t){return{type:U.actionTypes.SET_WS_CONNECT,connect:e,baseUrl:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.setWindowType=void 0,t.wsConnectionOn=o,t.initCustom=a,t.setContacts=r,t.setInitialMode=i,t.setLocal=s,t.setSinglePage=l,t.setFieldsMask=d,t.setActiveRows=c,t.setFilterMask=u,t.setFilterToggle=p,t.closeModal=h,t.openDialog=f,t.closeDialog=E,t.handleChange=m,t.addContact=_,t.editContact=S,t.clickOnContact=g,t.doubleClickOnContact=T,t.selectAllContacts=v,t.unselectAllContacts=y,t.selectContactUp=O,t.selectContactDown=C,t.deleteSelectedContacts=D,t.deleteAllContacts=M,t.sortContacts=A,t.searchContacts=b,t.searchUpdate=R,t.clearSearch=I,t.dropdownToggle=P,t.importEmail=N,t.onResizeWindow=w,t.handleErrorModal=k,t.handleAlertModal=L,t.handleSavingContact=B,t.handleSearchField=x,t.handleBlockPoint=Y,t.setWsConnect=F;var U=n(1297),H=n(1269),K=t.setWindowType=function(){return{type:U.actionTypes.SET_WINDOW_TYPE}};t.default={wsConnectionOn:o,initCustom:a,setContacts:r,setLocal:s,setFieldsMask:d,setActiveRows:c,setFilterMask:u,setFilterToggle:p,closeModal:h,openDialog:f,closeDialog:E,handleChange:m,addContact:_,clickOnContact:g,doubleClickOnContact:T,selectAllContacts:v,unselectAllContacts:y,deleteSelectedContacts:D,deleteAllContacts:M,editContact:S,sortContacts:A,searchContacts:b,clearSearch:I,dropdownToggle:P,importEmail:N,setInitialMode:i,onResizeWindow:w,handleErrorModal:k,handleAlertModal:L,handleSavingContact:B,handleBlockPoint:Y,setWsConnect:F,setWindowType:K}},1273:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("safari")&&e.indexOf("chrome")<=-1}function r(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)}function i(){("undefined"==typeof window?"undefined":(0,_.default)(window))!==S.SYSTEM.ADDRESSBOOK_UNDEFINED&&r()&&window.focus()}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=screen.height/2-n/2,r=screen.width/2-t/2;o.length>0&&(e.indexOf("?")>=0?e+="&"+o:e+="?"+o),window.childWindow=window.open(e,"sharer","top="+a+",left="+r+",toolbar=0,status=0,width="+t+",height="+n)}function l(e,t){return t===S.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_ZA?function(t,n){if(!t[e])return 1;if(!n[e])return-1;var o=t[e].toLowerCase(),a=n[e].toLowerCase();return o?a?o<a?1:o>a?-1:0:-1:1}:function(t,n){if(!t[e])return 1;if(!n[e])return-1;var o=t[e].toLowerCase(),a=n[e].toLowerCase();return o?a?o<a?-1:o>a?1:0:-1:1}}function d(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})}function c(e,t,n,o){var a=e.length;if(t===n){var r=e.find(function(e){return(0,E.default)(o).find(function(t){return-1!==e.indexOf(t)&&o[t].length>0})});return Boolean(r)}return(0,E.default)(o).filter(function(t){return e.find(function(e){return-1!==e.indexOf(t)&&o[t].length>0})}).length===a}function u(e,t,n){var o=e.getState();("undefined"==typeof window?"undefined":(0,_.default)(window))!==t.ADDRESSBOOK_UNDEFINED&&(window.innerWidth<=t.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?o.modal.itemsToRender.length>0?(e.dispatch(n(t.ADDRESSBOOK_MOBILE_VIEW_TYPE)),document.body.classList.contains(t.ADDRESSBOOK_MOBILE_VIEW_CLASS)||(document.body.className+=" "+t.ADDRESSBOOK_MOBILE_VIEW_CLASS)):(e.dispatch(n(t.ADDRESSBOOK_MOBILE_VIEW_TYPE)),document.body.classList.contains(t.ADDRESSBOOK_MOBILE_VIEW_CLASS)&&(document.body.className=document.body.className.replace(" "+t.ADDRESSBOOK_MOBILE_VIEW_CLASS,""))):(e.dispatch(n(t.ADDRESSBOOK_DESKTOP_VIEW_TYPE)),document.body.classList.contains(t.ADDRESSBOOK_MOBILE_VIEW_CLASS)&&(document.body.className=document.body.className.replace(" "+t.ADDRESSBOOK_MOBILE_VIEW_CLASS,""))))}function p(e,t){return e.find(function(e){return Number(e.id)===Number(t)})}function h(e,t){("undefined"==typeof window?"undefined":(0,_.default)(window))!==S.SYSTEM.ADDRESSBOOK_UNDEFINED&&(window.location=""+e+t)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(26),E=o(f),m=n(30),_=o(m);t.detectSafari=a,t.detectIE=r,t.windowFocus=i,t.openWindow=s,t.compare=l,t.uniqArr=d,t.filterMaskApply=c,t.setWindowType=u,t.findContactById=p,t.redirect=h;var S=n(1269);t.default={detectSafari:a,detectIE:r,windowFocus:i,openWindow:s,compare:l,uniqArr:d,filterMaskApply:c,setWindowType:u,findContactById:p,redirect:h}},1276:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BtnSecondary=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m={addClass:f.PropTypes.string,children:f.PropTypes.string,onClick:f.PropTypes.func,disabled:f.PropTypes.bool};(t.BtnSecondary=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.addClass,o=void 0===n?"":n,a=e.children,r=e.onClick;return E.default.createElement("button",{type:"button",className:"g-btn g-btn-secondary g-btn-auto-width "+o,onClick:r,disabled:t},a)}}]),t}(f.Component)).propTypes=m},1279:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=n(1281);t.default={setLocale:function(e){return{type:r.ACTION_TYPES.SIGNATURE_EDITOR_LOCALE_SET,locale:e}},resetEditor:function(){return{type:r.ACTION_TYPES.EDITOR_RESET}},setEditorDimensions:function(e){return{type:r.ACTION_TYPES.EDITOR_DIMENSIONS_SET,dimensions:e}},restoreInitialState:function(){return{type:r.ACTION_TYPES.INITIAL_STATE_RESTORE}},restoreEditedImage:function(){return{type:r.ACTION_TYPES.EDITED_IMAGE_RESTORE}},selectTool:function(e){return{type:r.ACTION_TYPES.TOOL_SELECT,tool:e}},setImage:function(e){return{type:r.ACTION_TYPES.IMAGE_SET,image:e}},setImageDimensions:function(e){return{type:r.ACTION_TYPES.IMAGE_DIMENSIONS_SET,dimensions:e}},setCroppedImage:function(e){return{type:r.ACTION_TYPES.CROPPED_IMAGE_SET,image:e}},setEditedImage:function(e,t){return{type:r.ACTION_TYPES.EDITED_IMAGE_SET,image:e,totalSteps:t}},resetImageParams:function(){return{type:r.ACTION_TYPES.IMAGE_PARAMS_RESET}},setImageParams:function(e){return{type:r.ACTION_TYPES.IMAGE_PARAMS_SET,params:e}},rotateImage:function(e){return{type:r.ACTION_TYPES.IMAGE_ROTATE,clockwise:e}},flipImage:function(e){return(0,a.default)({type:r.ACTION_TYPES.IMAGE_FLIP},e)},flipImageHorizontally:function(){return{type:r.ACTION_TYPES.IMAGE_HORIZONTAL_FLIP}},flipImageVertically:function(){return{type:r.ACTION_TYPES.IMAGE_VERTICAL_FLIP}},setThickness:function(e){return{type:r.ACTION_TYPES.THICKNESS_SET,size:e}},applyCrop:function(){return{type:r.ACTION_TYPES.CROP_APPLY}},setBrightness:function(e){return{type:r.ACTION_TYPES.BRIGHTNESS_SET,value:e}},setContrast:function(e){return{type:r.ACTION_TYPES.CONTRAST_SET,value:e}},setThreshold:function(e){return{type:r.ACTION_TYPES.THRESHOLD_SET,value:e}},zoomIn:function(){return{type:r.ACTION_TYPES.ZOOM_IN}},zoomOut:function(){return{type:r.ACTION_TYPES.ZOOM_OUT}},addHistoryStep:function(e){return{type:r.ACTION_TYPES.HISTORY_STEP_ADD,totalSteps:e}},setHistoryState:function(e,t,n){return{type:r.ACTION_TYPES.HISTORY_STATE_SET,image:e,imageParams:t,step:n}},undoHistory:function(){return{type:r.ACTION_TYPES.HISTORY_UNDO}},redoHistory:function(){return{type:r.ACTION_TYPES.HISTORY_REDO}},saveErasedImage:function(e){return{type:r.ACTION_TYPES.ERASED_IMAGE_SAVE,image:e}},saveImageState:function(){return{type:r.ACTION_TYPES.IMAGE_STATE_SAVE}},autoAdjustImage:function(){return(0,a.default)({type:r.ACTION_TYPES.IMAGE_AUTO_ADJUST},r.AUTO_ADJUST_PARAMS)},initialImageAdjust:function(e){return{type:r.ACTION_TYPES.IMAGE_INITIAL_ADJUST,params:(0,a.default)({},r.AUTO_ADJUST_PARAMS,{src:e,flipHorizontally:!1,flipVertically:!1})}},setCurrentHistoryStep:function(e){return{type:r.ACTION_TYPES.HISTORY_CURRENT_STEP_SET,step:e}},setTotalHistorySteps:function(e){return{type:r.ACTION_TYPES.HISTORY_TOTAL_STEPS_SET,steps:e}}}},1280:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BtnPrimary=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m={addClass:f.PropTypes.string,children:f.PropTypes.string,onClick:f.PropTypes.func,disabled:f.PropTypes.bool};(t.BtnPrimary=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.addClass,n=e.onClick,o=e.disabled,a=e.children;return E.default.createElement("button",{type:"button",className:"g-btn g-btn-primary g-btn-auto-width "+t,onClick:n,disabled:o},a)}}]),t}(f.Component)).propTypes=m},1281:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PADDING=t.ISCROLL_CONFIG=t.MAX_ZOOM=t.MAX_HISTORY_LENGTH=t.AUTO_ADJUST_PARAMS=t.IMAGE_CLEANER_CONFIG=t.LOCALE=t.ACTION_TYPES=t.TOOLS=void 0;var a=n(1522),r=o(a),i=n(1346),s=o(i),l=n(1521),d=o(l),c=n(1520),u=o(c),p=n(1518),h=o(p),f=n(1519),E=o(f),m=n(1347);t.TOOLS=r.default,t.ACTION_TYPES=s.default,t.LOCALE=d.default,t.IMAGE_CLEANER_CONFIG=u.default,t.AUTO_ADJUST_PARAMS=h.default,t.MAX_HISTORY_LENGTH=m.MAX_HISTORY_LENGTH,t.MAX_ZOOM=m.MAX_ZOOM,t.ISCROLL_CONFIG=E.default,t.DEFAULT_PADDING=m.DEFAULT_PADDING},1285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SYSTEM={EVENT_CLICK:"click",EVENT_TOUCH_START:"touchstart",EVENT_SCROLL:"scroll",EVENT_KEY_DOWN:"keydown",EVENT_KEY_UP:"keyup",EVENT_PRESS_ENTER:"enter",EVENT_PRESS_ESCAPE:"escape",EVENT_PRESS_TAB:"tab",EVENT_PRESS_UP:"up",EVENT_PRESS_DOWN:"down",EVENT_PRESS_DELETE:"delete",EVENT_PRESS_CTRL_A:"ctrl_a",ENTER_ESCAPE_CONTROLLER:"ENTER_ESCAPE_CONTROLLER",ADDRESS_BOOK_CONTROLLER:"ADDRESS_BOOK_CONTROLLER"}},1286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODE_TYPES=void 0;var o=n(163),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.MODE_TYPES=(0,a.default)({INITIAL:null,UPLOAD:null,MOBILE_UPLOAD:null,UPLOADER:null,MOBILE_UPLOADER:null,UPLOADING:null,BIG_FOOTER:null,CAPTURE:null,SM_INITIAL:null,SM_CHOOSE_SIGNATURE:null,SM_TYPE_SIGNATURE:null,SM_GALLERY:null,SM_QR:null,SM_SMS:null,SM_EMAIL:null,SM_DRAW:null,SM_UPLOADER:null,SM_UPLOADING:null,SM_MOBILE_UPLOADER:null,SM_CAPTURE:null,SM_MOBILE_SIGN_LOADING:null,SM_EDITOR_PREVIEW:null,SM_EDITOR:null})},1287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIeOrEdge=t.isTabletOrMobile=void 0;var o=n(1268);t.isTabletOrMobile=function(e){return e&&e.type&&e.type!==o.RENDER.DESKTOP_TYPE},t.isIeOrEdge=function(){var e=!!document.documentMode,t=!e&&-1!==navigator.appName.indexOf("Netscape")&&-1===navigator.appVersion.indexOf("Trident")&&-1!==navigator.appVersion.indexOf("Edge");return e||t}},1288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERROR_TYPES={ADDRESSBOOK_GET_CONTACTS:"getContacts",ADDRESSBOOK_ADD_CONTACT_DOUBLE:"addContactDouble",ADDRESSBOOK_ADD_CONTACT:"addContact",ADDRESSBOOK_EDIT_CONTACT:"editContact",ADDRESSBOOK_DELETE_CONTACT:"deleteContact",ADDRESSBOOK_DELETE_ALL_CONTACTS:"deleteAllContacts"}},1293:function(e,t,n){"use strict";function o(e){return{type:s.actionTypes.SET_DEFAULT_CONTROLLER,controller:e}}function a(e){return{type:s.actionTypes.SET_CURRENT_CONTROLLER,controller:e}}function r(e){return{type:s.actionTypes.CANCEL_CURRENT_CONTROLLER,controller:e}}function i(e,t){return{type:s.actionTypes.EMIT,eventType:e,event:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultController=o,t.setCurrentController=a,t.cancelCurrentController=r,t.emit=i;var s=n(445);t.default={setDefaultController:o,setCurrentController:a,cancelCurrentController:r,emit:i}},1294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={button:"DropzoneButton",content:"DropzoneContent",title:"DropzoneTitle"};t.IDS=o},1295:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownContent=t.DropdownTrigger=void 0;var a=n(0),r=o(a),i=n(23),s=n(9),l=o(s),d=n(1540),c=o(d),u=n(1539),p=o(u),h=(0,a.createClass)({displayName:"Dropdown",getInitialState:function(){return{active:!1}},getDefaultProps:function(){return{className:""}},componentDidMount:function(){window.addEventListener("mousedown",this._onWindowClick)},componentWillUnmount:function(){window.removeEventListener("mousedown",this._onWindowClick)},render:function(){var e=this,t=this.props,n=t.children,o=t.className,i=this.isActive(),s=(0,l.default)({dropdown:!0,"dropdown--active":i});s+=" "+o;var d=r.default.Children.map(n,function(t){return t.type===c.default&&(t=(0,a.cloneElement)(t,{ref:"trigger",onClick:e._onToggleClick})),t});return r.default.createElement("div",{style:this.props.style,className:s},d)},isActive:function(){return"boolean"==typeof this.props.active?this.props.active:this.state.active},hide:function(){this.setState({active:!1}),this.props.onHide&&this.props.onHide()},show:function(){this.setState({active:!0}),this.props.onShow&&this.props.onShow()},_onWindowClick:function(e){var t=(0,i.findDOMNode)(this);e.target!==t&&!t.contains(e.target)&&this.isActive()&&this.hide()},_onToggleClick:function(e){e.preventDefault(),this.isActive()?this.hide():this.show()}});t.DropdownTrigger=c.default,t.DropdownContent=p.default,t.default=h},1296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionTypes=void 0;var o=n(163),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.actionTypes=(0,a.default)({INITIAL:null,GALLERY:null,UPLOADER:null,MOBILE_UPLOADER:null,UPLOADING:null,CAPTURE:null,SET_UPLOADED_PERCENT:null,DISABLE_WEBCAM:null,API_REST_SET:null,ERROR_SET:null,ERRORS_CLEAN:null,CLOSE_SIGNATURE:null,SM_SET_DRAW_CONFIG:null,SM_INITIAL:null,SM_CHOOSE_SIGNATURE:null,TYPE_SIGNATURE:null,SM_GALLERY:null,SM_QR:null,SM_SMS:null,SM_EMAIL:null,SM_DRAW:null,SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT:null,SM_SIGNATURE_SAVE:null,SM_SIGNATURE_FONT:null,SM_SIGNATURE_STATUS_CHANGE:null,SM_SET_ADDRESSBOOK_API_REST:null,LAUNCH_UPLOAD_IMAGE:null,SM_SET_ORIGINAL_IMAGE:null,SM_SIGNATURE_VALUE:null,SM_UPLOADER:null,SM_MOBILE_UPLOADER:null,SM_UPLOADING:null,SM_CAPTURE:null,SM_MOBILE_SIGN_LOADING:null,SM_SET_UPLOAD_FUNCTION:null,SM_LAUNCH_UPLOAD_IMAGE:null,SM_GET_QR_URL:null,SM_SET_QR_URL:null,SM_SEND_PHONE_NUMBER:null,SM_SEND_EMAIL:null,SM_SAVE_PHONE_NUMBER:null,SM_SAVE_EMAIL:null,SM_SET_MOBILE_SIGNATURE_METHOD:null,SM_MOBILE_SIGNATURE_RESEND:null,SM_GET_CONTACT_EMAIL:null,SM_GET_CONTACT_PHONE_NUMBER:null,SM_EDITOR_PREVIEW_OPEN:null,SM_EDITOR_OPEN:null,SM_ERROR_SET:null})},1297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionTypes=void 0;var o=n(163),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.actionTypes=(0,a.default)({INIT_CUSTOM:null,OPEN:null,CLOSE:null,OPEN_DIALOG:null,CLOSE_DIALOG:null,HANDLE_CHANGE:null,ADD_CONTACT:null,CLICK_ROW:null,DOUBLE_CLICK_ROW:null,CLICK_ROW_SHIFT:null,CLICK_ROW_CTRL:null,SELECT_ALL:null,UNSELECT_ALL:null,SELECT_CONTACT_UP:null,SELECT_CONTACT_DOWN:null,DELETE_SELECTED:null,EDIT_CONTACT:null,SORT_CONTACTS:null,SEARCH_CONTACTS:null,SEARCH_UPDATE:null,CLEAR_SEARCH:null,TOGGLE_IMPORT:null,TOGGLE_EDIT:null,SET_CONTACTS:null,SET_INITIAL_MODE:null,DELETE_ALL:null,SET_LOCAL:null,SET_FIELDS_MASK:null,SET_FILTER_MASK:null,SET_FILTER_TOGGLE:null,SET_ACTIVE_ROWS:null,APPLY_CONTACTS_MASK:null,IMPORT_EMAIL:null,SET_SINGLE_PAGE:null,ON_RESIZE_WINDOW:null,HANDLE_ERROR_MODAL:null,HANDLE_ALERT_MODAL:null,WS_CONNECTION_ON:null,HANDLE_SAVING_CONTACT:null,HANDLE_SEARCH_FIELD:null,HANDLE_BLOCK_POINT:null,SET_WS_CONNECT:null,SET_WINDOW_TYPE:null})},1298:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookCounter=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1269);t.AddressBookCounter=(a=(0,S.connect)(function(e){return{contactsNumber:e.ab.contacts.length,singlePage:e.ab.singlePage,viewType:e.ab.viewType}}))(r=function(e){function t(e){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e))}return(0,E.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return this.props.contactsNumber>0?this.props.singlePage?this.props.viewType===g.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?_.default.createElement("span",{className:"dab-header-title__label"},"(",this.props.contactsNumber," contacts)"):_.default.createElement("div",{className:"myac-counter-header__contact-counter"},_.default.createElement("span",{className:"dab-header-title__label"},this.props.contactsNumber," contacts")):_.default.createElement("span",{className:"dab-header-title__label"},"(",this.props.contactsNumber," contacts)"):null}}]),t}(m.Component))||r},1299:function(e,t,n){"use strict";function o(e,t,n,o,r){var i=void 0,s=void 0,l=void 0;switch(t){case a.ERROR_TYPES.ADDRESSBOOK_GET_CONTACTS:i=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE:i=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_DELETE_CONTACT:i=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_BTNCONFIRMTEXT;break;case a.ERROR_TYPES.ADDRESSBOOK_DELETE_ALL_CONTACTS:i=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_BTNCONFIRMTEXT;break;default:i=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_TITLE,s=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_CONTENT,l=e.ADDRESSBOOK_ERROR_MODAL_DEFAULT_BTNCONFIRMTEXT}n(i,s,l,o,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleErrorGenerator=o;var a=n(1288);t.default={handleErrorGenerator:o}},1305:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1276),g={title:E.PropTypes.string,btns:E.PropTypes.array};(t.Loader=(0,_.connect)(function(e){return e.im.modeSignature})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"renderTitle",value:function(){var e=this.props.title;return e?m.default.createElement("div",{className:"g-loader__label g-loader__label--md"},e):null}},{key:"renderBtn",value:function(){var e=this.props.btns;return e?m.default.createElement("div",{className:"g-loader-btn-block"},e.map(function(e,t){return m.default.createElement(S.BtnSecondary,{addClass:"g-btn-sm",key:t,onClick:e.btnDispatch},e.btnText)})):null}},{key:"render",value:function(){return m.default.createElement("div",{className:"g-loader g-loader--md"},m.default.createElement("div",{className:"g-loader__wrapper"},m.default.createElement("div",{className:"g-loader__layer"},m.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--left"},m.default.createElement("div",{className:"g-loader__circle"})),m.default.createElement("div",{className:"g-loader__gap-patch"},m.default.createElement("div",{className:"g-loader__circle"})),m.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--right"},m.default.createElement("div",{className:"g-loader__circle"})))),this.renderTitle(),this.renderBtn())}}]),t}(E.Component))||a).propTypes=g},1306:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageItem=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1305),_={src:f.PropTypes.string,showImage:f.PropTypes.bool},S={showImage:!0},g=t.ImageItem=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={loading:!0},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.showImage,t=this.state.loading;e&&t&&!this.img&&this.createLoader()}},{key:"componentWillReceiveProps",value:function(e){this.props.src!==e.src&&this.setState({loading:!0})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.showImage,n=e.src,o=this.state.loading;t&&o&&n&&!this.img&&this.createLoader()}},{key:"componentWillUnmount",value:function(){this.destroyLoader()}},{key:"createLoader",value:function(){var e=this.props.src;this.destroyLoader(),this.img=new Image,this.img.onload=this.handleLoad.bind(this),this.img.onerror=this.handleError.bind(this),this.img.src=e}},{key:"destroyLoader",value:function(){this.img&&(this.img.onload=null,this.img.onerror=null,this.img=null)}},{key:"handleLoad",value:function(){this.destroyLoader(),this.setState({loading:!1})}},{key:"handleError",value:function(){this.destroyLoader()}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.showImage,o=this.state.loading;return n&&!o&&t?E.default.createElement("img",{src:t,alt:""}):E.default.createElement(m.Loader,null)}}]),t}(f.Component);g.propTypes=_,g.defaultProps=S},1307:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.editorManager=t.imageSignature=void 0;var a=n(1591),r=o(a),i=n(1590),s=o(i);t.imageSignature=r.default,t.editorManager=s.default},1308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deviceProps=t.ws=t.im=void 0;var o=n(1593),a=n(1594),r=n(1592),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.im=o.im,t.ws=a.ws,t.deviceProps=i.default},1309:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalAddEdit_modal=void 0;var a,r,i=n(14),s=o(i),l=n(6),d=o(l),c=n(3),u=o(c),p=n(1),h=o(p),f=n(2),E=o(f),m=n(5),_=o(m),S=n(4),g=o(S),T=n(0),v=o(T),y=n(7),O=n(1273),C=n(9),D=o(C),M=n(29),A=n(1269),b=n(1288),R=n(1271),I=n(1299);o(I),t.AddressBookModalAddEdit_modal=(a=(0,y.connect)(function(e){return{addEditContact:e.ab.addEditContact,fieldsValidation:e.ab.fieldsValidation,local:e.ab.local,singlePage:e.ab.singlePage,saveContactFinished:e.ab.saveContactFinished}},function(e){return{actions:(0,M.bindActionCreators)({handleChange:R.handleChange,closeDialog:R.closeDialog,addContact:R.addContact,editContact:R.editContact,handleErrorModal:R.handleErrorModal,handleSavingContact:R.handleSavingContact,handleBlockPoint:R.handleBlockPoint},e)}}))(r=function(e){function t(e){(0,h.default)(this,t);var n=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.handleInputChange=n.handleInputChange.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleSaveContact=n.handleSaveContact.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleTab=n.handleTab.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.addContactCb=n.addContactCb.bind(n),n.editContactCb=n.editContactCb.bind(n),n.handleAddContact=n.handleAddContact.bind(n),n.handleEditContact=n.handleEditContact.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderButtonName=n.renderButtonName.bind(n),n.fields=[A.SYSTEM.ADDRESSBOOK_FIELD_NAME,A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,A.SYSTEM.ADDRESSBOOK_FIELD_PHONE,A.SYSTEM.ADDRESSBOOK_FIELD_FAX],n.fieldsMobile=[A.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,A.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,A.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE],n}return(0,g.default)(t,e),(0,E.default)(t,[{key:"componentDidMount",value:function(){this.props.singlePage&&(this.refs[A.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)))}},{key:"componentWillUnmount",value:function(){this.props.singlePage&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete))}},{key:"componentDidUpdate",value:function(e){this.props.singlePage||(!e.addEditContact.open&&this.props.addEditContact.open?(window.innerWidth>=A.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?this.refs[A.SYSTEM.ADDRESSBOOK_FIELD_NAME].focus():this.refs[A.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete))):e.addEditContact.open&&!this.props.addEditContact.open&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete)))}},{key:"onErrorController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"offErrorController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"addContactCb",value:function(e,t){var n=this,o=this.props.actions,a=o.addContact,r=o.handleErrorModal;(0,o.handleSavingContact)(!0),e?((0,I.handleErrorGenerator)(this.props.local,b.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,O.windowFocus)()},function(){n.offErrorController(),r(!1),(0,O.windowFocus)()}),this.onErrorController()):Number(t.id)>0?a(t):((0,I.handleErrorGenerator)(this.props.local,b.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE,this.props.handleError,function(){n.offErrorController(),r(!1),(0,O.windowFocus)()},function(){n.offErrorController(),r(!1),(0,O.windowFocus)()}),this.onErrorController())}},{key:"handleAddContact",value:function(e){this.props.apiRest.handleAddContact(e,this.addContactCb)}},{key:"editContactCb",value:function(e,t){var n=this,o=this.props.actions,a=o.editContact,r=o.handleErrorModal;(0,o.handleSavingContact)(!0),e?((0,I.handleErrorGenerator)(this.props.local,b.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,O.windowFocus)()},function(){n.offErrorController(),r(!1),(0,O.windowFocus)()}),this.onErrorController()):a(e,t)}},{key:"handleEditContact",value:function(e){this.props.apiRest.handleEditContact(e,this.editContactCb)}},{key:"handleEscapeErrorModal",value:function(){this.offErrorController(),(0,O.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){this.props.closeModal(this.props.errorModalName),this.offErrorController(),(0,O.windowFocus)()}},{key:"handleCtrlA",value:function(){-1===this.fields.indexOf(document.activeElement.name)&&-1===this.fieldsMobile.indexOf(document.activeElement.name)||document.activeElement.select()}},{key:"handleDelete",value:function(e){var t=document.activeElement,n=t.value.split(""),o=(0,d.default)({selectionStart:t.selectionStart});if((-1!==this.fields.indexOf(t.name)||-1!==this.fieldsMobile.indexOf(t.name))&&t.selectionStart<t.value.length){if(t.selectionStart===t.selectionEnd)t.value=[].concat((0,s.default)(n.slice(0,t.selectionStart)),(0,s.default)(n.slice(t.selectionStart+1))).join(""),t.selectionStart=o.selectionStart,t.selectionEnd=o.selectionStart;else{var a=document.activeElement.selectionEnd-document.activeElement.selectionStart;t.value=[].concat((0,s.default)(n.slice(0,t.selectionStart)),(0,s.default)(n.slice(t.selectionStart+a))).join(""),t.selectionStart=o.selectionStart,t.selectionEnd=o.selectionStart}-1!==t.name.indexOf(A.SYSTEM.ADDRESSBOOK_FIELD_MOBILE_PREFIX)?this.handleInputChange(e,this.fields[this.fieldsMobile.indexOf(t.name)]):this.handleInputChange(e,t.name)}}},{key:"handleTab",value:function(e){if(this.props.addEditContact.open&&window.innerWidth>=A.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var t=this.fields.indexOf(document.activeElement.name);e.shiftKey?t>0&&this.refs[this.fields[t-1]].focus():t<this.fields.length-1&&this.refs[this.fields[t+1]].focus()}else if(this.props.addEditContact.open&&window.innerWidth<A.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var n=this.fieldsMobile.indexOf(document.activeElement.name);e.shiftKey?n>0&&this.refs[this.fieldsMobile[n-1]].focus():n<this.fieldsMobile.length-1&&this.refs[this.fieldsMobile[n+1]].focus()}}},{key:"handleEnter",value:function(e){if(this.props.addEditContact.open&&window.innerWidth>=A.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var t=this.fields.indexOf(document.activeElement.name);t<this.fields.length-1?this.refs[this.fields[t+1]].focus():this.handleSaveContact(e)}else if(this.props.addEditContact.open&&window.innerWidth<A.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT){var n=this.fieldsMobile.indexOf(document.activeElement.name);n<this.fieldsMobile.length-1?this.refs[this.fieldsMobile[n+1]].focus():this.handleSaveContact(e)}}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.actions,n=t.closeDialog,o=t.handleBlockPoint;n(),o(!0),(0,O.windowFocus)(),setTimeout(function(){o(!1)},A.SYSTEM.ADDRESSBOOK_BLOCK_POINT_DELAY)}},{key:"handleInputChange",value:function(e,t){var n=void 0;switch(t){case A.SYSTEM.ADDRESSBOOK_FIELD_NAME:n=A.SYSTEM.ADDRESSBOOK_REGEXP_NAME.test(e.target.value);break;case A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL:n=A.SYSTEM.ADDRESSBOOK_REGEXP_EMAIL.test(e.target.value);break;default:n=A.SYSTEM.ADDRESSBOOK_REGEXP_PHONE.test(e.target.value)}n=0===e.target.value.length||n,(0,this.props.actions.handleChange)(e.target.value,t,n)}},{key:"handleSaveContact",value:function(e){if(e.preventDefault(),(this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax&&this.props.saveContactFinished){(0,this.props.actions.handleSavingContact)(!1),this.props.addEditContact.actionType===A.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.handleAddContact(this.props.addEditContact):this.handleEditContact(this.props.addEditContact),(0,O.windowFocus)()}}},{key:"renderTitle",value:function(){return this.props.addEditContact.actionType===A.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_CONTACT_TITLE:this.props.local.ADDRESSBOOK_EDIT_CONTACT_TITLE}},{key:"renderButtonName",value:function(){return this.props.addEditContact.actionType===A.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_BUTTON_DIALOG:this.props.local.ADDRESSBOOK_EDIT_BUTTON_DIALOG}},{key:"render",value:function(){var e=this,t=(0,D.default)("add-contact-wrap",{open:this.props.addEditContact.open&&window.innerWidth>=A.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT}),n=(0,D.default)("ab-dialog-wrap ab-dialog-wrap--add-contact",{open:this.props.addEditContact.open&&window.innerWidth<A.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT}),o=(0,D.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.name}),a=(0,D.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.email}),r=(0,D.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.phone}),i=(0,D.default)("form-input form-input-sm",{error:!this.props.fieldsValidation.fax}),s=(0,D.default)("g-btn g-btn-primary g-btn-sm",{disabled:!((this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax)});return v.default.createElement("div",{className:"add-edit-contact-dlg"},v.default.createElement("div",{className:t},v.default.createElement("div",{className:"add-contact"},v.default.createElement("div",{className:"add-contact__title"},this.renderTitle()),v.default.createElement("div",{className:"g-form-group"},v.default.createElement("label",{className:"input-icon i i-user"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_NAME,name:A.SYSTEM.ADDRESSBOOK_FIELD_NAME,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:o,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_NAME)}})),v.default.createElement("div",{className:"g-form-list"},v.default.createElement("div",{className:"g-form-group g-form-group--email"},v.default.createElement("label",{className:"input-icon i i-email"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,name:A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:a,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)}})),v.default.createElement("div",{className:"g-form-group g-form-group--tel"},v.default.createElement("label",{className:"input-icon i i-phone"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_PHONE,name:A.SYSTEM.ADDRESSBOOK_FIELD_PHONE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:r,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),v.default.createElement("div",{className:"g-form-group g-form-group--fax"},v.default.createElement("label",{className:"input-icon i i-fax"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_FAX,name:A.SYSTEM.ADDRESSBOOK_FIELD_FAX,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:i,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),v.default.createElement("div",{className:"add-contact__footer"},v.default.createElement("button",{type:"button","data-ab-dialog":"btn-add-contact-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),v.default.createElement("button",{type:"button",className:s,onClick:this.handleSaveContact},this.renderButtonName())))),v.default.createElement("div",{className:n},v.default.createElement("div",{className:"ab-dialog"},v.default.createElement("div",{className:"ab-dialog__content"},v.default.createElement("div",{className:"ab-dialog__title"},this.props.local.ADDRESSBOOK_ADD_EDIT_CONTACT),v.default.createElement("div",{className:"g-form-group"},v.default.createElement("label",{className:"input-icon i i-user"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,name:A.SYSTEM.ADDRESSBOOK_FIELD_NAME_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:o,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_NAME)}})),v.default.createElement("div",{className:"g-form-group"},v.default.createElement("label",{className:"input-icon i i-email"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,name:A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:a,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)}})),v.default.createElement("div",{className:"g-form-group"},v.default.createElement("label",{className:"input-icon i i-phone"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,name:A.SYSTEM.ADDRESSBOOK_FIELD_PHONE_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:r,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),v.default.createElement("div",{className:"g-form-group"},v.default.createElement("label",{className:"input-icon i i-fax"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE,name:A.SYSTEM.ADDRESSBOOK_FIELD_FAX_MOBILE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:i,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),v.default.createElement("div",{className:"ab-dialog__footer"},v.default.createElement("button",{type:"button","data-ab-dialog":"btn-add-contact-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),v.default.createElement("button",{type:"button",className:s,onClick:this.handleSaveContact},this.renderButtonName())))))}}]),t}(T.Component))||r},1310:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalSearch=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(9),T=o(g),v=n(1273),y=n(29),O=n(1269),C=n(1271);t.AddressBookModalSearch=(a=(0,S.connect)(function(e){return{searchBy:e.ab.searchBy,fieldsMask:e.ab.fieldsMask,singlePage:e.ab.singlePage,searchDialogOpen:e.ab.searchDialogOpen,local:e.ab.local}},function(e){return{actions:(0,y.bindActionCreators)({closeDialog:C.closeDialog,searchContacts:C.searchContacts,clearSearch:C.clearSearch,searchUpdate:C.searchUpdate},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.handleSearch=n.handleSearch.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"componentDidUpdate",value:function(e){!e.searchDialogOpen&&this.props.searchDialogOpen?(this.refs[O.SYSTEM.ADDRESSBOOK_FIELD_SEARCH].focus(),this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape))):e.searchDialogOpen&&!this.props.searchDialogOpen&&this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete))}},{key:"handleEnter",value:function(){this.handleSearch()}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault();var t=this.props.actions,n=t.closeDialog,o=t.clearSearch;n(),o(),(0,v.windowFocus)()}},{key:"handleChange",value:function(e){var t=this.props.actions,n=t.searchUpdate,o=t.clearSearch;""!==e.target.value?n(e.target.value):o()}},{key:"handleSearch",value:function(){var e=this.props.actions,t=e.searchContacts,n=e.closeDialog;""!==this.props.searchBy&&t(this.props.searchBy,this.props.fieldsMask),n(),(0,v.windowFocus)()}},{key:"render",value:function(){var e=this,t=(0,T.default)("ab-dialog-wrap ab-dialog-wrap--search",{open:this.props.searchDialogOpen});return _.default.createElement("div",{className:t},_.default.createElement("div",{className:"ab-dialog"},_.default.createElement("div",{className:"ab-dialog__content"},_.default.createElement("div",{className:"ab-dialog__title"},"Search Contacts"),_.default.createElement("div",{className:"g-form-group"},_.default.createElement("label",{className:"input-icon i i-search"}),_.default.createElement("input",{ref:O.SYSTEM.ADDRESSBOOK_FIELD_SEARCH,name:O.SYSTEM.ADDRESSBOOK_FIELD_SEARCH,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,id:"ab-dialog-search",className:"form-input",value:this.props.searchBy,onChange:function(t){e.handleChange(t)}}))),_.default.createElement("div",{className:"ab-dialog__footer"},_.default.createElement("button",{type:"button","data-ab-dialog":"btn-search-cancel",className:"g-btn g-btn-secondary g-btn-sm",onClick:this.handleCloseDialog},"Cancel"),_.default.createElement("button",{type:"button",className:"g-btn g-btn-primary g-btn-sm",onClick:this.handleSearch},"Search"))))}}]),t}(m.Component))||r},1311:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSearch=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(29),T=n(9),v=o(T),y=n(1271),O=n(1269);t.AddressBookSearch=(a=(0,S.connect)(function(e){return{searchBy:e.ab.searchBy,fieldsMask:e.ab.fieldsMask,singlePage:e.ab.singlePage,local:e.ab.local,searchFieldShow:e.ab.searchFieldShow}},function(e){return{actions:(0,g.bindActionCreators)({searchContacts:y.searchContacts,clearSearch:y.clearSearch,handleSearchField:y.handleSearchField},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n.handleSearch=n.handleSearch.bind(n),n.renderClearSearch=n.renderClearSearch.bind(n),n.handleSearchInput=n.handleSearchInput.bind(n),n.renderSearchField=n.renderSearchField.bind(n),n.activateSearchInput=n.activateSearchInput.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"componentDidUpdate",value:function(){this.activateSearchInput()}},{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"handleSearch",value:function(e){var t=this.props.actions,n=t.searchContacts,o=t.clearSearch;""!==e.target.value?n(e.target.value,this.props.fieldsMask):o()}},{key:"handleSearchInput",value:function(){(0,this.props.actions.handleSearchField)(),this.props.searchFieldShow&&this.handleClearSearch()}},{key:"activateSearchInput",value:function(){this.refs[O.SYSTEM.ADDRESSBOOK_SEARCH_FIELD]&&this.refs[O.SYSTEM.ADDRESSBOOK_SEARCH_FIELD].focus()}},{key:"renderSearchField",value:function(){if(this.props.searchFieldShow)return _.default.createElement("div",{className:" g-form-group g-form-group-search"},this.renderClearSearch(),_.default.createElement("input",{id:"dab-search",ref:O.SYSTEM.ADDRESSBOOK_SEARCH_FIELD,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,className:"form-input form-input-sm",value:this.props.searchBy,onChange:this.handleSearch}))}},{key:"renderClearSearch",value:function(){return""!==this.props.searchBy?_.default.createElement("div",{className:"clean-search",onClick:this.handleClearSearch}):null}},{key:"render",value:function(){var e=(0,v.default)("myac-counter-header__search-input-icon-wrap",{"is-active":this.props.searchFieldShow});return this.props.singlePage?_.default.createElement("div",{className:"myac-counter-header__search-input"},this.renderSearchField(),_.default.createElement("div",{className:e,onClick:this.handleSearchInput},_.default.createElement("div",{className:"myac-counter-header__search-input-icon"}))):_.default.createElement("div",{className:"dab-header__search g-form-group g-form-group-search"},_.default.createElement("label",{forHtml:"dab-search",className:"i i-search dab-header__search-icon"}),this.renderClearSearch(),_.default.createElement("input",{id:"dab-search",placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_SEARCH,className:"form-input form-input-sm",value:this.props.searchBy,onChange:this.handleSearch}))}}]),t}(m.Component))||r},1312:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSort=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(447),T=n(29),v=n(1269),y=n(1271);t.AddressBookSort=(a=(0,S.connect)(function(e){return{contacts:e.ab.contacts,sortIsOpen:e.ab.sortIsOpen,sortBy:e.ab.sortBy,sortDirection:e.ab.sortDirection,local:e.ab.local,fieldsMask:e.ab.fieldsMask}},function(e){return{actions:(0,T.bindActionCreators)({dropdownToggle:y.dropdownToggle,sortContacts:y.sortContacts},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleSort=n.handleSort.bind(n),n.showName=n.showName.bind(n),n.showDirection=n.showDirection.bind(n),n.getSort=n.getSort.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleSort",value:function(e,t){var n=this.props.actions.sortContacts;this.props.sortBy===e&&this.props.sortDirection===t||n(e,t)}},{key:"showName",value:function(e){return{name:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,email:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,phone:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,fax:this.props.local.ADDRESSBOOK_UPPERCASE_FAX}[e]}},{key:"showDirection",value:function(){return this.props.sortBy===v.SYSTEM.ADDRESSBOOK_FIELD_NAME?this.props.sortDirection:null}},{key:"getSort",value:function(e,t){var n=this;return-1!==this.props.fieldsMask.indexOf(e)?_.default.createElement("div",{onClick:function(){n.handleSort(e,t)}},this.showName(e)):null}},{key:"render",value:function(){var e=this;return _.default.createElement("div",{className:"ab-header__sort enable"},_.default.createElement("div",{className:"g-form-group"},_.default.createElement(g.Select,{type:"bare",size:"sm",labelText:this.props.local.ADDRESSBOOK_SORT_BY,list:[_.default.createElement("div",{onClick:function(){e.handleSort(v.SYSTEM.ADDRESSBOOK_FIELD_NAME,v.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ)}},this.props.local.ADDRESSBOOK_UPPERCASE_NAME," ",this.props.local.ADDRESSBOOK_SORT_DIRECTION_AZ),_.default.createElement("div",{onClick:function(){e.handleSort(v.SYSTEM.ADDRESSBOOK_FIELD_NAME,v.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_ZA)}},this.props.local.ADDRESSBOOK_UPPERCASE_NAME," ",this.props.local.ADDRESSBOOK_SORT_DIRECTION_ZA),this.getSort(v.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,v.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ),this.getSort(v.SYSTEM.ADDRESSBOOK_FIELD_PHONE,v.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ),this.getSort(v.SYSTEM.ADDRESSBOOK_FIELD_FAX,v.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ)]})))}}]),t}(m.Component))||r},1313:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnAdd=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(29),T=n(1269),v=n(1271);t.AddressBookBtnAdd=(a=(0,S.connect)(function(e){return{addEditContact:e.ab.addEditContact,local:e.ab.local}},function(e){return{actions:(0,g.bindActionCreators)({openDialog:v.openDialog},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault(),(0,this.props.actions.openDialog)(t)}},{key:"render",value:function(){var e=this;return _.default.createElement("button",{type:"button",className:"g-btn g-btn-sm g-btn-empty g-btn--add",onClick:function(t){e.handleOpenDialog(t,T.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD)}},_.default.createElement("i",{className:"i i-add"}),_.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_ADD))}}]),t}(m.Component))||r},1314:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnEdit=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1295),T=o(g),v=n(29),y=n(9),O=o(y),C=n(1269),D=n(1273),M=n(1271);t.AddressBookBtnEdit=(a=(0,S.connect)(function(e){return{mode:e.ab.mode,contacts:e.ab.contacts,contactsBackup:e.ab.contactsBackup,activeRows:e.ab.activeRows,editIsOpen:e.ab.editIsOpen,local:e.ab.local,alertModalFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.alertModal:null,singlePage:e.ab.singlePage,viewType:e.ab.viewType,alertModalOpen:e.ab.alertModalOpen}},function(e){return{actions:(0,v.bindActionCreators)({dropdownToggle:M.dropdownToggle,selectAllContacts:M.selectAllContacts,unselectAllContacts:M.unselectAllContacts,deleteSelectedContacts:M.deleteSelectedContacts,openDialog:M.openDialog,handleAlertModal:M.handleAlertModal},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleDropdownToggle=n.handleDropdownToggle.bind(n),n.handleAll=n.handleAll.bind(n),n.deleteContact=n.deleteContact.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleEnter=n.handleEnter.bind(n),n.onAlertController=n.onAlertController.bind(n),n.offAlertController=n.offAlertController.bind(n),n.handleOpenDialog=n.handleOpenDialog.bind(n),n.openApproveModal=n.openApproveModal.bind(n),n.renderSelectAll=n.renderSelectAll.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleDropdownToggle",value:function(e){(0,this.props.actions.dropdownToggle)(C.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_EDIT,e)}},{key:"handleAll",value:function(){var e=this.props.actions,t=e.selectAllContacts,n=e.unselectAllContacts;this.props.contacts.length===this.props.activeRows.length?n():t()}},{key:"handleOpenDialog",value:function(e,t){this.refs.dropdown.hide(),e.preventDefault();var n=this.props.actions.openDialog;1===this.props.activeRows.length&&n(t)}},{key:"deleteContact",value:function(){this.refs.dropdown.hide(),this.props.activeRows.length!==this.props.contactsBackup.length?this.props.handleDeleteContact(this.props.activeRows):this.props.handleDeleteAllContacts()}},{key:"handleEscape",value:function(){if(this.props.alertModalOpen){this.refs.dropdown.hide(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController();(0,this.props.actions.handleAlertModal)(!1),(0,D.windowFocus)()}}},{key:"handleEnter",value:function(){if(this.props.alertModalOpen){this.deleteContact(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController();(0,this.props.actions.handleAlertModal)(!1),(0,D.windowFocus)()}}},{key:"onAlertController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter))}},{key:"offAlertController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter))}},{key:"openApproveModal",value:function(){var e=this;if(this.props.activeRows.length>0)if(this.props.alertModalFromOptions||this.props.alertModal)if(this.props.openModal){var t=this.props.actions.handleAlertModal;t(!0),this.props.openModal(this.props.alertModalName,{modalType:"warning",title:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE,content:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT,btnConfirmText:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT,showCloseButton:!0,btnConfirmCallback:function(){e.deleteContact(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,D.windowFocus)()},btnCancelText:this.props.local.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT,btnCancelCallback:function(){e.refs.dropdown.hide(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,D.windowFocus)()},confirm:!0,newStyle:!0}),this.onAlertController()}else this.deleteContact();else this.deleteContact()}},{key:"renderSelectAll",value:function(e){if(this.props.singlePage)return _.default.createElement("div",{className:e,onClick:this.handleAll},this.props.local.ADDRESSBOOK_SELECT_ALL_ITEM)}},{key:"render",value:function(){var e=this,t=(0,O.default)({"g-dropdown-wrap":!0,"g-dropdown-wrap--left":!0,"g-dropdown-wrap--up":!this.props.singlePage||this.props.viewType===C.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE,"g-dropdown-wrap--down":this.props.singlePage&&this.props.viewType===C.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE,open:this.props.editIsOpen}),n=(0,O.default)("g-ibtn i-delete",{disabled:!this.props.activeRows.length>0}),o=(0,O.default)("g-ibtn i-edit",{disabled:1!==this.props.activeRows.length}),a=(0,O.default)("g-ibtn i-select-all",{disabled:this.props.mode.type===C.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL});return _.default.createElement(T.default,{className:t,ref:"dropdown",onShow:function(){e.handleDropdownToggle(C.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW)},onHide:function(){e.handleDropdownToggle(C.SYSTEM.ADDRESSBOOK_DROPDOWN_HIDE)}},_.default.createElement(g.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},_.default.createElement("i",{className:"i i-settings"}),_.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_EDIT)),_.default.createElement(g.DropdownContent,{className:"g-dropdown-popup"},_.default.createElement("div",{className:"g-dropdown-popup__triangle"}),_.default.createElement("div",{className:"g-dropdown-popup-list"},_.default.createElement("div",{className:o,onClick:function(t){e.handleOpenDialog(t,C.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT)}},this.props.local.ADDRESSBOOK_EDIT_CONTACT),_.default.createElement("div",{className:n,onClick:this.openApproveModal},this.props.local.ADDRESSBOOK_DELETE_CONTACT),this.renderSelectAll(a))))}}]),t}(m.Component))||r},1315:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookBtnImport=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1295),T=o(g),v=n(29),y=n(9),O=o(y),C=n(1269),D=n(1271),M=n(1317),A=n(1320),b=n(1318),R=n(1319);t.AddressBookBtnImport=(a=(0,S.connect)(function(e){return{importIsOpen:e.ab.importIsOpen,local:e.ab.local,singlePage:e.ab.singlePage,loaded:e.ab.loaded,viewType:e.ab.viewType}},function(e){return{actions:(0,v.bindActionCreators)({dropdownToggle:D.dropdownToggle},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleDropdownToggle=n.handleDropdownToggle.bind(n),n.handleDropdownClose=n.handleDropdownClose.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"componentDidUpdate",value:function(e){!e.loaded&&this.props.loaded&&this.props.importContacts&&this.refs.dropdown.show()}},{key:"handleDropdownToggle",value:function(e){(0,this.props.actions.dropdownToggle)(C.SYSTEM.ADDRESSBOOK_DROPDOWN_TYPE_IMPORT,e)}},{key:"handleDropdownClose",value:function(){this.refs.dropdown.hide()}},{key:"render",value:function(){var e=this,t=(0,O.default)({"g-dropdown-wrap":!0,"g-dropdown-wrap--left":!0,"g-dropdown-wrap--up":!this.props.singlePage||this.props.viewType===C.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE,"g-dropdown-wrap--down":this.props.singlePage&&this.props.viewType===C.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE,"g-dropdown-wrap--import":!0,open:this.props.importIsOpen});return _.default.createElement(T.default,{className:t,ref:"dropdown",onShow:function(){e.handleDropdownToggle(C.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW)},onHide:function(){e.handleDropdownToggle(C.SYSTEM.ADDRESSBOOK_DROPDOWN_HIDE)}},_.default.createElement(g.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},_.default.createElement("i",{className:"i i-import-contacts"}),_.default.createElement("span",null,this.props.local.ADDRESSBOOK_BUTTON_IMPORT_CONTACTS)),_.default.createElement(g.DropdownContent,{className:"g-dropdown-popup"},_.default.createElement("div",{className:"g-dropdown-popup__triangle"}),_.default.createElement("div",{className:"g-dropdown-popup-list"},_.default.createElement("div",{className:"ab-import-list"},_.default.createElement(M.GmailContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportGmail:this.props.handleImportGmail}),_.default.createElement(A.YahooContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportYahoo:this.props.handleImportYahoo}),_.default.createElement(b.HotmailContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportHotmail:this.props.handleImportHotmail}),_.default.createElement(R.OutlookContactsImport,{handleDropdownClose:this.handleDropdownClose,handleImportOutlook:this.props.handleImportOutlook})))))}}]),t}(m.Component))||r},1316:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookMobileSearchBtn=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(29),T=n(1269),v=n(1271);t.AddressBookMobileSearchBtn=(a=(0,S.connect)(function(e){return{local:e.ab.local}},function(e){return{actions:(0,g.bindActionCreators)({openDialog:v.openDialog,clearSearch:v.clearSearch},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault();var n=this.props.actions,o=n.openDialog;(0,n.clearSearch)(),o(t)}},{key:"render",value:function(){var e=this;return _.default.createElement("button",{type:"button",className:"g-btn g-btn-sm g-btn-empty g-btn--search",onClick:function(t){e.handleOpenDialog(t,T.SYSTEM.ADDRESSBOOK_MODAL_SEARCH)}},_.default.createElement("i",{className:"i i-search"}))}}]),t}(m.Component))||r},1317:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GmailContactsImport=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1273);t.GmailContactsImport=(a=(0,S.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,g.detectSafari)()?this.props.handleImportGmail():setTimeout(this.props.handleImportGmail,0)}},{key:"render",value:function(){return _.default.createElement("div",{className:"ab-import-list-item gmail",onClick:this.importFromMail},_.default.createElement("div",{className:"ab-import-list-item__img"}),_.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_GMAIL_ITEM))}}]),t}(m.Component))||r},1318:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HotmailContactsImport=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1273);t.HotmailContactsImport=(a=(0,S.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,g.detectSafari)()?this.props.handleImportHotmail():setTimeout(this.props.handleImportHotmail,0)}},{key:"render",value:function(){return _.default.createElement("div",{className:"ab-import-list-item hotmail",onClick:this.importFromMail},_.default.createElement("div",{className:"ab-import-list-item__img"}),_.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_HOTMAIL_ITEM))}}]),t}(m.Component))||r},1319:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OutlookContactsImport=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1273);t.OutlookContactsImport=(a=(0,S.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,g.detectSafari)()?this.props.handleImportOutlook():setTimeout(this.props.handleImportOutlook,0)}},{key:"render",value:function(){return _.default.createElement("div",{className:"ab-import-list-item outlook",onClick:this.importFromMail},_.default.createElement("div",{className:"ab-import-list-item__img"}),_.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_OUTLOOK_ITEM))}}]),t}(m.Component))||r},1320:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.YahooContactsImport=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1273);t.YahooContactsImport=(a=(0,S.connect)(function(e){return{contacts:e.ab.contacts,local:e.ab.local}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.importFromMail=n.importFromMail.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"importFromMail",value:function(){this.props.handleDropdownClose&&this.props.handleDropdownClose(),(0,g.detectSafari)()?this.props.handleImportYahoo():setTimeout(this.props.handleImportYahoo,0)}},{key:"render",value:function(){return _.default.createElement("div",{className:"ab-import-list-item yahoo",onClick:this.importFromMail},_.default.createElement("div",{className:"ab-import-list-item__img"}),_.default.createElement("div",{className:"ab-import-list-item__title"},this.props.local.ADDRESSBOOK_IMPORT_YAHOO_ITEM))}}]),t}(m.Component))||r},1321:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookInitialContent=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(29),T=n(1269),v=n(1271),y=n(1317),O=n(1320),C=n(1318),D=n(1319);t.AddressBookInitialContent=(a=(0,S.connect)(function(e){return{local:e.ab.local}},function(e){return{actions:(0,g.bindActionCreators)({openDialog:v.openDialog},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleOpenDialog=n.handleOpenDialog.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleOpenDialog",value:function(e,t){e.preventDefault(),(0,this.props.actions.openDialog)(t)}},{key:"render",value:function(){var e=this;return _.default.createElement("div",{className:"ab-import"},_.default.createElement("div",{className:"ab-import__inner"},_.default.createElement("div",{className:"ab-import-table"},_.default.createElement("div",{className:"ab-import-cell ab-import-cell--after-or"},_.default.createElement("div",{className:"ab-import__icon ab-import__icon--blue"},_.default.createElement("i",{className:"i i-import-contacts"})),_.default.createElement("div",{className:"ab-import__title"},this.props.local.ADDRESSBOOK_IMPORT_CONTACTS_FROM_EMAIL),_.default.createElement("div",{className:"ab-import__small-title"},this.props.local.ADDRESSBOOK_BRING_TOGETHER),_.default.createElement("div",{className:"ab-import-list"},_.default.createElement(y.GmailContactsImport,{handleImportGmail:this.props.handleImportGmail}),_.default.createElement(O.YahooContactsImport,{handleImportYahoo:this.props.handleImportYahoo}),_.default.createElement(C.HotmailContactsImport,{handleImportHotmail:this.props.handleImportHotmail}),_.default.createElement(D.OutlookContactsImport,{handleImportOutlook:this.props.handleImportOutlook}))),_.default.createElement("div",{className:"ab-import-cell"},_.default.createElement("div",{className:"ab-import__icon ab-import__icon--green"},_.default.createElement("i",{className:"i i-add-users"})),_.default.createElement("div",{className:"ab-import__title"},this.props.local.ADDRESSBOOK_CREATE_A_NEW_CONTACT),_.default.createElement("div",{className:"ab-import__small-title"},this.props.local.ADDRESSBOOK_CLICK_ON_BUTTON,"Â ",this.props.local.ADDRESSBOOK_CLICK_ON_BUTTON_CONTACT),_.default.createElement("a",{href:"#",className:"g-btn g-btn-primary ab-import__add-contact-btn",onClick:function(t){e.handleOpenDialog(t,T.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD)}},this.props.local.ADDRESSBOOK_ADD_CONTACT)))))}}]),t}(m.Component))||r},1322:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookListContent=void 0;var a,r,i=n(30),s=o(i),l=n(3),d=o(l),c=n(1),u=o(c),p=n(2),h=o(p),f=n(5),E=o(f),m=n(4),_=o(m),S=n(0),g=o(S),T=n(7),v=n(1269),y=n(21),O=o(y),C=n(29),D=n(1273),M=n(9),A=o(M),b=n(1271);t.AddressBookListContent=(a=(0,T.connect)(function(e){return{contacts:e.ab.contacts,errorModalOpen:e.ab.errorModalOpen,alertModalOpen:e.ab.alertModalOpen,searchDialogOpen:e.ab.searchDialogOpen,activeRows:e.ab.activeRows,addEditContact:e.ab.addEditContact,selectMax:e.modal.options.AddressBook?e.modal.options.AddressBook.selectMax:null,fieldsMask:e.ab.fieldsMask,filterMask:e.ab.filterMask,filterToggle:e.ab.filterToggle,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null,singlePage:e.ab.singlePage,sortBy:e.ab.sortBy,sortDirection:e.ab.sortDirection,blockPoint:e.ab.blockPoint,viewType:e.ab.viewType}},function(e){return{actions:(0,C.bindActionCreators)({clickOnContact:b.clickOnContact,doubleClickOnContact:b.doubleClickOnContact,closeModal:b.closeModal,selectContactUp:b.selectContactUp,selectContactDown:b.selectContactDown,openDialog:b.openDialog},e)}}))(r=function(e){function t(e){(0,u.default)(this,t);var n=(0,E.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.getEmail=n.getEmail.bind(n),n.getPhone=n.getPhone.bind(n),n.getFax=n.getFax.bind(n),n.handleClick=n.handleClick.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n.clearSelection=n.clearSelection.bind(n),n.handleUp=n.handleUp.bind(n),n.handleDown=n.handleDown.bind(n),n.scrollIntoActiveRow=n.scrollIntoActiveRow.bind(n),n.addArrowsController=n.addArrowsController.bind(n),n.removeArrowsController=n.removeArrowsController.bind(n),n}return(0,_.default)(t,e),(0,h.default)(t,[{key:"scrollIntoActiveRow",value:function(e){var t=this.refs.contactsList,n=t.querySelector(".ab-item--active");n&&n.scrollIntoView(e)}},{key:"addArrowsController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_UP,this.handleUp),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DOWN,this.handleDown))}},{key:"removeArrowsController",value:function(){this.props.inputHandler&&this.props.controller&&this.props.controllerConstants&&(this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_UP,this.handleUp),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DOWN,this.handleDown))}},{key:"componentDidMount",value:function(){this.scrollIntoActiveRow(),this.addArrowsController()}},{key:"componentDidUpdate",value:function(e){if((!e.addEditContact.open&&this.props.addEditContact.open||!e.errorModalOpen&&this.props.errorModalOpen||!e.alertModalOpen&&this.props.alertModalOpen||!e.searchDialogOpen&&this.props.searchDialogOpen)&&this.removeArrowsController(),e.addEditContact.open&&!this.props.addEditContact.open){if(1===this.props.activeRows.length)if(1!==e.activeRows.length)this.scrollIntoActiveRow();else if(this.props.activeRows[0]!==e.activeRows[0])this.scrollIntoActiveRow();else{var t=(0,D.findContactById)(this.props.contacts,this.props.activeRows[0]),n=(0,D.findContactById)(e.contacts,this.props.activeRows[0]),o=[v.SYSTEM.ADDRESSBOOK_FIELD_NAME,v.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,v.SYSTEM.ADDRESSBOOK_FIELD_PHONE,v.SYSTEM.ADDRESSBOOK_FIELD_FAX],a=o.filter(function(e){return t[e]!==n[e]});a.length>0&&this.scrollIntoActiveRow()}this.addArrowsController()}(e.errorModalOpen&&!this.props.errorModalOpen||e.alertModalOpen&&!this.props.alertModalOpen||e.searchDialogOpen&&!this.props.searchDialogOpen)&&this.addArrowsController(),this.props.sortBy===e.sortBy&&this.props.sortDirection===e.sortDirection||!this.props.scrollToTop||this.props.scrollToTop()}},{key:"componentWillUnmount",value:function(){this.removeArrowsController()}},{key:"handleUp",value:function(){var e=this.props.actions.selectContactUp;("undefined"==typeof window?"undefined":(0,s.default)(window))!==v.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.innerWidth<v.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT?(this.scrollIntoActiveRow(!1),e()):(e(),this.scrollIntoActiveRow(!0))}},{key:"handleDown",value:function(){(0,this.props.actions.selectContactDown)(),this.scrollIntoActiveRow(!1)}},{key:"getEmail",value:function(e){if(-1!==this.props.fieldsMask.indexOf(v.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)){if((0,O.default)(e[v.SYSTEM.ADDRESSBOOK_FIELD_EMAIL],"length",null)>0)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"},g.default.createElement("div",{title:"E-mail",className:"ab-item-data__email tooltipstered tooltip--top"},e.email));if(this.props.viewType===v.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}if(this.props.viewType===v.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--email"})}},{key:"getPhone",value:function(e){if(-1!==this.props.fieldsMask.indexOf(v.SYSTEM.ADDRESSBOOK_FIELD_PHONE)){if((0,O.default)(e[v.SYSTEM.ADDRESSBOOK_FIELD_PHONE],"length",null)>0)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"},g.default.createElement("div",{title:"Phone",className:"ab-item-data__tel tooltipstered tooltip--top"},e.phone));if(this.props.viewType===v.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}if(this.props.viewType===v.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--tel"})}},{key:"getFax",value:function(e){if(-1!==this.props.fieldsMask.indexOf(v.SYSTEM.ADDRESSBOOK_FIELD_FAX)){if((0,O.default)(e[v.SYSTEM.ADDRESSBOOK_FIELD_FAX],"length",null)>0)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"},g.default.createElement("div",{title:"Fax",className:"ab-item-data__fax tooltipstered tooltip--top"},e.fax));if(this.props.viewType===v.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}if(this.props.viewType===v.SYSTEM.ADDRESSBOOK_DESKTOP_VIEW_TYPE)return g.default.createElement("div",{className:"ab-item-data__col ab-item-data__col--fax"})}},{key:"handleClick",value:function(e,t){if(!this.props.blockPoint){e.stopPropagation(),e.preventDefault();var n=Boolean(e.metaKey||e.ctrlKey),o=Boolean(e.shiftKey);(0,this.props.actions.clickOnContact)(t,n,o,this.props.selectMax)}}},{key:"handleDoubleClick",value:function(e,t){if(!this.props.blockPoint){e.stopPropagation(),e.preventDefault();var n=Boolean(e.metaKey||e.ctrlKey),o=Boolean(e.shiftKey);if(!n&&!o){var a=this.props.actions,r=a.doubleClickOnContact,i=a.openDialog,s=a.closeModal;if(r(t),this.props.singlePage)i(v.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT);else if(this.props.sendContacts){var l=this.props.contacts.find(function(e){return t===e.id});s(),this.props.sendContacts([l]),this.props.handleCloseModal()}}}}},{key:"clearSelection",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props.contacts.map(function(t){var n=(0,A.default)("ab-item",{"ab-item--active":e.props.activeRows.indexOf(t.id)>=0});return g.default.createElement("div",{className:n,key:t.id,onClick:function(n){e.handleClick(n,t.id)},onDoubleClick:function(n){e.handleDoubleClick(n,t.id)},onMouseDown:e.clearSelection},g.default.createElement("div",{className:"ab-item__icon"},g.default.createElement("img",{alt:"",src:t.picture})),g.default.createElement("div",{className:"ab-item__name"},t.name),g.default.createElement("div",{className:"ab-item-data"},e.getEmail(t),e.getPhone(t),e.getFax(t)))});return g.default.createElement("div",{className:"ab-contacts-list",ref:"contactsList"},t)}}]),t}(S.Component))||r},1323:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(9),T=o(g);t.Loader=(a=(0,S.connect)(function(e){return{loaded:e.ab.loaded,loaderMessage:e.ab.local.ADDRESSBOOK_LOADING_CONTACTS}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.renderMessage=n.renderMessage.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"renderMessage",value:function(e){if(e)return _.default.createElement("div",{className:"g-loader__label"},e)}},{key:"render",value:function(){var e=(0,T.default)("",{"":!this.props.loaded});return _.default.createElement("div",{className:e},_.default.createElement("div",{className:"g-loader"},_.default.createElement("div",{className:"g-loader__wrapper"},_.default.createElement("div",{className:"g-loader__layer"},_.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--left"},_.default.createElement("div",{className:"g-loader__circle"})),_.default.createElement("div",{className:"g-loader__gap-patch"},_.default.createElement("div",{className:"g-loader__circle"})),_.default.createElement("div",{className:"g-loader__circle-clipper g-loader__circle-clipper--right"},_.default.createElement("div",{className:"g-loader__circle"})))),_.default.createElement("div",{className:"g-loader__label"},this.renderMessage(this.props.loaderMessage))))}}]),t}(m.Component))||r},1324:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBook=void 0;var a,r=n(14),i=o(r),s=n(6),l=o(s),d=n(30),c=o(d),u=n(3),p=o(u),h=n(1),f=o(h),E=n(2),m=o(E),_=n(5),S=o(_),g=n(4),T=o(g),v=n(0),y=o(v),O=n(1269),C=n(1373),D=n(1288),M=n(29),A=n(1273),b=n(1371),R=n(1372),I=n(7),P=n(1271),N=n(21),w=o(N),k=n(1299),L=(o(k),n(1343)),B=o(L),x=B.default.controllerActions,Y=x.setDefaultController,F=x.setCurrentController,U=x.cancelCurrentController;(t.AddressBook=(0,I.connect)(function(e){return{mode:e.ab.mode,contacts:e.ab.contacts,contactsBackup:e.ab.contactsBackup,loaded:e.ab.loaded,fieldsMask:e.modal.options.AddressBook?e.modal.options.AddressBook.fieldsMask:null,fieldsMaskInternal:e.ab.fieldsMaskInternal,filterMaskReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.filterMask:null,filterMaskInternalOr:e.ab.filterMaskInternalOr,filterMaskInternalAnd:e.ab.filterMaskInternalAnd,filterToggleReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.filterToggle:null,filterToggleInternal:e.ab.filterToggleInternal,filterMask:e.ab.filterMask,filterToggle:e.ab.filterToggle,activeRowsReceived:e.modal.options.AddressBook?e.modal.options.AddressBook.activeRows:null,activeRows:e.ab.activeRows,controllerFromOptions:e.modal.options.AddressBook&&e.modal.options.AddressBook.controller,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null,cancelDummyController:e.modal.options.AddressBook?e.modal.options.AddressBook.cancelDummyControllerCallback:null,mainButtonName:e.modal.options.AddressBook?e.modal.options.AddressBook.mainButtonName:null,searchBy:e.ab.searchBy,importContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.importContacts:null,inputHandlerFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.inputHandler:null,controllerConstantsFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.controllerConstants:null,alertModalFromOptions:e.modal.options.AddressBook?e.modal.options.AddressBook.alertModal:null}},function(e){return{actions:(0,M.bindActionCreators)({setLocal:P.setLocal,setFieldsMask:P.setFieldsMask,setFilterMask:P.setFilterMask,setFilterToggle:P.setFilterToggle,setActiveRows:P.setActiveRows,setDefaultController:Y,setCurrentController:F,closeModal:P.closeModal,setContacts:P.setContacts,deleteSelectedContacts:P.deleteSelectedContacts,deleteAllContacts:P.deleteAllContacts,importEmail:P.importEmail,setSinglePage:P.setSinglePage,clearSearch:P.clearSearch,setInitialMode:P.setInitialMode,cancelCurrentController:U,initCustom:P.initCustom,selectAllContacts:P.selectAllContacts,handleErrorModal:P.handleErrorModal,handleAlertModal:P.handleAlertModal,wsConnectionOn:P.wsConnectionOn,setWindowType:P.setWindowType},e)}})(a=function(e){function t(e){(0,f.default)(this,t);var n=(0,S.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return n.LOCAL=C.LOCAL,("undefined"==typeof window?"undefined":(0,c.default)(window))!==O.SYSTEM.ADDRESSBOOK_UNDEFINED&&(n.LOCAL=(0,l.default)({},C.LOCAL,window.allConstants)),n.modalId=t.getModalId(),n.configureFilterToggle=n.configureFilterToggle.bind(n),n.configureFilterMask=n.configureFilterMask.bind(n),n.makeArray=n.makeArray.bind(n),n.arrayStringify=n.arrayStringify.bind(n),n.handleError=n.handleError.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.deleteContact=n.deleteContact.bind(n),n.handleAlertEscape=n.handleAlertEscape.bind(n),n.handleAlertEnter=n.handleAlertEnter.bind(n),n.onAlertController=n.onAlertController.bind(n),n.offAlertController=n.offAlertController.bind(n),n.openApproveModal=n.openApproveModal.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.handleGetContacts=n.handleGetContacts.bind(n),n.getContactsCb=n.getContactsCb.bind(n),n.handleDeleteContact=n.handleDeleteContact.bind(n),n.deleteContactCb=n.deleteContactCb.bind(n),n.handleDeleteAllContacts=n.handleDeleteAllContacts.bind(n),n.deleteAllContactsCb=n.deleteAllContactsCb.bind(n),n.handleImportGmail=n.handleImportGmail.bind(n),n.handleImportYahoo=n.handleImportYahoo.bind(n),n.handleImportHotmail=n.handleImportHotmail.bind(n),n.handleImportOutlook=n.handleImportOutlook.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.controller=n.props.controller||n.props.controllerFromOptions||null,n.inputHandler=n.props.inputHandler||n.props.inputHandlerFromOptions||null,n.controllerConstants=n.props.controllerConstants||n.props.controllerConstantsFromOptions||null,n}return(0,T.default)(t,e),(0,m.default)(t,[{key:"configureFilterToggle",value:function(){return(0,w.default)(this.props.filterToggleReceived,O.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?this.props.filterToggleReceived:this.props.filterToggleInternal}},{key:"configureFilterMask",value:function(e){var t=e===O.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR?this.props.filterMaskInternalOr:this.props.filterMaskInternalAnd,n=void 0;if((0,w.default)(this.props.filterMaskReceived,O.SYSTEM.ADDRESSBOOK_LENGTH,null)>0){n=[].concat((0,i.default)(this.props.filterMaskReceived));var o=n.indexOf(O.SYSTEM.ADDRESSBOOK_FIELD_NAME);-1!==o&&n.splice(o,1)}return(0,w.default)(this.props.filterMaskReceived,O.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?n:t}},{key:"makeArray",value:function(e){return Array.isArray(e)?e:[e]}},{key:"arrayStringify",value:function(e){return e.map(function(e){return e.toString()})}},{key:"componentWillMount",value:function(){var e=this.props.actions,t=e.setLocal,n=e.setFieldsMask,o=e.setFilterMask,a=e.setFilterToggle,r=e.setActiveRows,i=e.setDefaultController,s=e.setCurrentController,d=e.setSinglePage,u=e.initCustom,p=e.wsConnectionOn;if(this.apiRest=this.props.apiRest?this.props.apiRest:u(this.props.config.api.baseUrl,this.props.config.api.appKey,this.props.userCredentials),!this.props.loaded){t(this.LOCAL),this.props.singlePage&&d();n((0,w.default)(this.props.fieldsMask,O.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?this.props.fieldsMask:this.props.fieldsMaskInternal);var h=(0,c.default)((0,w.default)(this.props,"activeRowsReceived",null))===O.SYSTEM.ADDRESSBOOK_NUMBER?this.props.activeRowsReceived.toString():this.props.activeRowsReceived;h=(0,w.default)(h,O.SYSTEM.ADDRESSBOOK_LENGTH,null)>0?h:this.props.activeRows,h=this.makeArray(h),h=this.arrayStringify(h),r(h);var f=this.configureFilterToggle();a(f);o(this.configureFilterMask(f)),this.controller&&(i(this.controller),s(this.controller))}var E={dialogModalName:this.props.dialogModalName,openModal:this.props.openModal,closeModal:this.props.closeModal,ADDRESSBOOK_IMPORTED_CONTACTS:this.LOCAL.ADDRESSBOOK_IMPORTED_CONTACTS,ADDRESSBOOK_IMPORT_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_IMPORT_CONTACTS_FAILS,ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS,ADDRESSBOOK_TITLE_IMPORTED_CONTACTS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS,ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS:this.LOCAL.ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS,handleGetContacts:this.handleGetContacts};this.props.config&&(E=(0,l.default)({},E,{connect:{host:this.props.config.ws.host,port:this.props.config.ws.port},baseUrl:this.props.config.system.baseUrl}),("undefined"==typeof window?"undefined":(0,c.default)(window))!==O.SYSTEM.ADDRESSBOOK_UNDEFINED&&(E=(0,l.default)({},E,{connect:(0,l.default)({},E.connect,{userId:window.user.userId})}))),p(E)}},{key:"handleError",value:function(e,t,n,o,a){this.props.openModal(this.props.errorModalName,{title:e,content:t,btnConfirmText:n,btnConfirmCallback:o||null,onCloseModal:a||null}),(0,this.props.actions.handleErrorModal)(!0)}},{key:"onErrorController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"offErrorController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal))}},{key:"getContactsCb",value:function(e,t){var n=this,o=this.props.actions,a=o.setInitialMode,r=o.setContacts,i=o.handleErrorModal;e?((0,k.handleErrorGenerator)(this.LOCAL,D.ERROR_TYPES.ADDRESSBOOK_GET_CONTACTS,this.handleError,function(){n.offErrorController(),a(),i(!1),(0,A.windowFocus)()},function(){n.offErrorController(),a(),i(!1),(0,A.windowFocus)()}),this.onErrorController()):r(t)}},{key:"handleGetContacts",value:function(){this.apiRest.handleGetContacts(this.getContactsCb)}},{key:"deleteContactCb",value:function(e,t){var n=this,o=this.props.actions,a=o.deleteSelectedContacts,r=o.handleErrorModal;e?((0,k.handleErrorGenerator)(this.LOCAL,D.ERROR_TYPES.ADDRESSBOOK_DELETE_CONTACT,this.handleError,function(){n.offErrorController(),r(!1),(0,A.windowFocus)()},function(){n.offErrorController(),r(!1),(0,A.windowFocus)()}),this.onErrorController()):a(e,t)}},{key:"handleDeleteContact",value:function(e){this.apiRest.handleDeleteContact(e,this.deleteContactCb)}},{key:"deleteAllContactsCb",value:function(e,t){var n=this,o=this.props.actions,a=o.deleteAllContacts,r=o.handleErrorModal;e?((0,k.handleErrorGenerator)(this.LOCAL,D.ERROR_TYPES.ADDRESSBOOK_DELETE_ALL_CONTACTS,this.handleError,function(){n.offErrorController(),r(!1),(0,A.windowFocus)()},function(){n.offErrorController(),r(!1),(0,A.windowFocus)()}),this.onErrorController()):a(e,t)}},{key:"handleDeleteAllContacts",value:function(){this.apiRest.handleDeleteAllContacts(this.deleteAllContactsCb)}},{key:"handleImportGmail",value:function(){var e=this.apiRest.handleImportGmail();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportYahoo",value:function(){var e=this.apiRest.handleImportYahoo();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportHotmail",value:function(){var e=this.apiRest.handleImportHotmail();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleImportOutlook",value:function(){var e=this.apiRest.handleImportOutlook();(0,this.props.actions.importEmail)(e,this.apiRest.getApiProps())}},{key:"handleEnter",value:function(){var e=this;if(this.props.activeRows.length>0){var t=this.props.contacts.filter(function(t){if(-1!==e.props.activeRows.indexOf(t.id))return t});if(this.props.sendContacts){(0,this.props.actions.closeModal)(),this.props.sendContacts(t),this.props.handleCloseModal()}}}},{key:"handleEscape",value:function(){if(this.props.singlePage){var e=this.props.actions.clearSearch;""!==this.props.searchBy&&e()}else{(0,this.props.actions.closeModal)(),this.props.handleCloseModal(),this.props.cancelDummyController&&this.props.cancelDummyController()}}},{key:"handleCtrlA",value:function(){(0,this.props.actions.selectAllContacts)()}},{key:"handleDelete",value:function(){this.openApproveModal()}},{key:"deleteContact",value:function(){this.props.activeRows.length!==this.props.contactsBackup.length?this.handleDeleteContact(this.props.activeRows):this.handleDeleteAllContacts()}},{key:"handleAlertEscape",value:function(){this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,A.windowFocus)()}},{key:"handleAlertEnter",value:function(){this.deleteContact(),this.props.closeModal&&this.props.closeModal(this.props.alertModalName),this.offAlertController(),(0,this.props.actions.handleAlertModal)(!1),(0,A.windowFocus)()}},{key:"onAlertController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleAlertEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleAlertEnter))}},{key:"offAlertController",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleAlertEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleAlertEnter))}},{key:"openApproveModal",value:function(){var e=this;if(this.props.activeRows.length>0)if(this.props.alertModalFromOptions||this.props.alertModal)if(this.props.openModal){var t=this.props.actions.handleAlertModal;t(!0),this.props.openModal(this.props.alertModalName,{modalType:"warning",title:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE,content:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT,btnConfirmText:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT,showCloseButton:!0,btnConfirmCallback:function(){e.deleteContact(),e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,A.windowFocus)()},btnCancelText:this.LOCAL.ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT,btnCancelCallback:function(){e.props.closeModal&&e.props.closeModal(e.props.alertModalName),e.offAlertController(),t(!1),(0,A.windowFocus)()},confirm:!0,newStyle:!0}),this.onAlertController()}else this.deleteContact();else this.deleteContact()}},{key:"handleEscapeErrorModal",value:function(){var e=this.props.actions,t=e.setInitialMode,n=e.handleErrorModal;this.props.closeModal(this.props.errorModalName),this.props.loaded||t(),this.offErrorController(),n(!1),(0,A.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){var e=this.props.actions,t=e.setInitialMode,n=e.handleErrorModal;this.props.closeModal(this.props.errorModalName),this.props.loaded||t(),this.offErrorController(),n(!1),(0,A.windowFocus)()}},{key:"componentDidMount",value:function(){(0,this.props.actions.setWindowType)(),this.props.loaded||this.handleGetContacts(),this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.addControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)),("undefined"==typeof window?"undefined":(0,c.default)(window))!==O.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.innerWidth<=O.SYSTEM.ADDRESSBOOK_WINDOW_RESOLUTION_SPLIT&&(this.props.singlePage||document.body.classList.contains(O.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)||(document.body.className+=" "+O.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS))}},{key:"componentWillUnmount",value:function(){this.inputHandler&&this.controller&&this.controllerConstants&&(this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.inputHandler.removeControllerListener(this.controller,this.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)),this.props.singlePage||document.body.classList.contains(O.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS)&&(document.body.className=document.body.className.replace(" "+O.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_CLASS,""));var e=this.props.actions.cancelCurrentController;this.controller&&e(this.controller)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"render",value:function(){if((0,w.default)(this.props,"contacts",null))return this.props.singlePage?y.default.createElement(R.SinglePage,{alertModal:this.props.alertModal,controller:this.controller,handleImportGmail:this.handleImportGmail,handleImportYahoo:this.handleImportYahoo,handleImportHotmail:this.handleImportHotmail,handleImportOutlook:this.handleImportOutlook,handleEnter:this.handleEnter,handleEscape:this.handleEscape,handleCtrlA:this.handleCtrlA,handleDelete:this.handleDelete,handleDeleteContact:this.handleDeleteContact,handleDeleteAllContacts:this.handleDeleteAllContacts,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,errorModalName:this.props.errorModalName,handleError:this.handleError,inputHandler:this.inputHandler,controllerConstants:this.controllerConstants,apiRest:this.apiRest}):y.default.createElement(b.ModalWindow,{importContacts:this.props.importContacts,handleCloseModal:this.props.handleCloseModal,mainButtonName:this.props.mainButtonName,controller:this.controller,handleImportGmail:this.handleImportGmail,handleImportYahoo:this.handleImportYahoo,handleImportHotmail:this.handleImportHotmail,handleImportOutlook:this.handleImportOutlook,handleEnter:this.handleEnter,handleEscape:this.handleEscape,handleCtrlA:this.handleCtrlA,handleDelete:this.handleDelete,handleDeleteContact:this.handleDeleteContact,handleDeleteAllContacts:this.handleDeleteAllContacts,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,errorModalName:this.props.errorModalName,handleError:this.handleError,inputHandler:this.inputHandler,controllerConstants:this.controllerConstants,apiRest:this.apiRest})}}],[{key:"getModalId",value:function(){return O.SYSTEM.ADDRESSBOOK_ADDRESS_BOOK}}]),t}(v.Component))||a).propTypes={handleCloseModal:y.default.PropTypes.func,config:y.default.PropTypes.object,openModal:y.default.PropTypes.func,closeModal:y.default.PropTypes.func,errorModalName:y.default.PropTypes.string,alertModalName:y.default.PropTypes.string,controller:y.default.PropTypes.object,singlePage:y.default.PropTypes.bool,alertModal:y.default.PropTypes.bool,inputHandler:y.default.PropTypes.object,controllerConstants:y.default.PropTypes.object}},1325:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return("undefined"==typeof window?"undefined":(0,l.default)(window))!==u.SYSTEM.ADDRESSBOOK_UNDEFINED&&(window.addEventListener("load",function(){(0,c.setWindowType)(e,u.SYSTEM,p.onResizeWindow)}),window.addEventListener("resize",function(){(0,c.setWindowType)(e,u.SYSTEM,p.onResizeWindow)})),function(t){return function(n){var o=e.getState();if(n){switch(n.type){case d.actionTypes.INIT_CUSTOM:return new h.apiRestMediator({baseUrl:n.baseUrl,appKey:n.appKey,userCredentials:n.userCredentials});case d.actionTypes.WS_CONNECTION_ON:if(!o.ab.wsConnectionOn){var a=void 0;a=o.ab.connect?new f.WsService(o.ab.connect.host,o.ab.connect.port,o.ab.connect.userId):new f.WsService(n.wsConnectObj.connect.host,n.wsConnectObj.connect.port,n.wsConnectObj.connect.userId),a.on(u.SYSTEM.ADDRESSBOOK_MMC_TYPE_IMPORT_CONTACTS_FINISH,function(t){if(n.wsConnectObj.dialogModalName&&n.wsConnectObj.openModal&&n.wsConnectObj.closeModal){var o=void 0,a=void 0,r=void 0;!t.countNew||(0,l.default)(t.countNew)!==u.SYSTEM.ADDRESSBOOK_NUMBER&&(0,l.default)(t.countNew)!==u.SYSTEM.ADDRESSBOOK_STRING||0===Number(t.countNew)?!t.countUpdated||(0,l.default)(t.countUpdated)!==u.SYSTEM.ADDRESSBOOK_NUMBER&&(0,l.default)(t.countUpdated)!==u.SYSTEM.ADDRESSBOOK_STRING||0===Number(t.countUpdated)?(o=n.wsConnectObj.ADDRESSBOOK_IMPORT_CONTACTS_FAILS,a=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS,r=u.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_WARNING):(o=n.wsConnectObj.ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS,a=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS,r=u.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_SUCCESS):(o=n.wsConnectObj.ADDRESSBOOK_IMPORTED_CONTACTS.replace(u.SYSTEM.ADDRESSBOOK_REGEXP_NUMBER,t.countNew.toString()),a=n.wsConnectObj.ADDRESSBOOK_TITLE_IMPORTED_CONTACTS,r=u.SYSTEM.ADDRESSBOOK_DIALOG_TYPE_SUCCESS),n.wsConnectObj.openModal(n.wsConnectObj.dialogModalName,{size:u.SYSTEM.ADDRESSBOOK_DIALOG_SIZE_SM,modalType:r,title:a,text:o,showCloseButton:!1})}if(n.wsConnectObj.closeModal){var i=n.wsConnectObj;setTimeout(function(){i.closeModal(i.dialogModalName)},u.SYSTEM.ADDRESSBOOK_DIALOG_TIMEOUT)}t.data?e.dispatch((0,p.setContacts)(t.data)):n.wsConnectObj.handleGetContacts(),("undefined"==typeof window?"undefined":(0,l.default)(window))!==u.SYSTEM.ADDRESSBOOK_UNDEFINED&&window.childWindow&&(window.childWindow.close(),window.childWindow=null,(0,c.windowFocus)())});var r=void 0;r=o.ab.baseUrl?o.ab.baseUrl:n.wsConnectObj.baseUrl,a.on(u.SYSTEM.ADDRESSBOOK_MMC_TYPE_ALERT,function(e){e.event&&e.event===u.SYSTEM.ADDRESSBOOK_MMC_EVENT_CLEAR_TOKEN&&(0,c.redirect)(r,u.SYSTEM.ADDRESSBOOK_LOGIN_URL)}),a.connect()}break;case d.actionTypes.SET_CONTACTS:n.contacts=n.contacts.filter(function(e){return(0,c.filterMaskApply)(o.ab.filterMask,o.ab.filterToggle,u.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR,e)}),n.contacts=n.contacts.map(function(e){return(0,i.default)({},e,{name:""===e.contact_name?"":e.contact_name})});break;case d.actionTypes.ADD_CONTACT:n.newContact.id=n.newContact.id.toString();break;case d.actionTypes.IMPORT_EMAIL:(0,c.openWindow)(n.url,500,500,(0,m.default)(n.props));break;case d.actionTypes.SET_WINDOW_TYPE:(0,c.setWindowType)(e,u.SYSTEM,p.onResizeWindow)}return t(n)}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=o(r),s=n(30),l=o(s);t.maskMiddleware=a;var d=n(1297),c=n(1273),u=n(1269),p=n(1271),h=n(1363),f=n(1611),E=n(1595),m=o(E)},1326:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u.actionTypes.SET_LOCAL:return(0,c.default)({},e,{local:t.local});case u.actionTypes.SET_SINGLE_PAGE:return(0,c.default)({},e,{singlePage:!0});case u.actionTypes.SET_FIELDS_MASK:return(0,c.default)({},e,{fieldsMask:t.fieldsMask});case u.actionTypes.SET_ACTIVE_ROWS:return(0,c.default)({},e,{activeRows:t.activeRows,activeRowsBackup:t.activeRows});case u.actionTypes.SET_FILTER_MASK:return(0,c.default)({},e,{filterMask:t.filterMask});case u.actionTypes.SET_FILTER_TOGGLE:return(0,c.default)({},e,{filterToggle:t.filterToggle});case u.actionTypes.SET_CONTACTS:return(0,c.default)({},e,{contacts:t.contacts.sort((0,p.compare)(e.sortBy,e.sortDirection)),contactsBackup:t.contacts,loaded:!0,mode:(0,c.default)({},e.mode,{type:t.contacts.length>0?f.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:f.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL})});case u.actionTypes.SET_INITIAL_MODE:return(0,c.default)({},e,{loaded:!0,mode:(0,c.default)({},e.mode,{type:f.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL})});case u.actionTypes.CLOSE:return(0,c.default)({},e,{contacts:e.contactsBackup,loaded:!1,addEditContact:(0,c.default)({},(0,h.makeInitialForm)()),fieldsValidation:(0,c.default)({},(0,h.makeInitialValidation)()),activeRows:e.activeRowsBackup,searchBy:""});case u.actionTypes.OPEN_DIALOG:switch(t.contactActionType){case f.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD:return(0,c.default)({},e,{addEditContact:(0,c.default)({},e.addEditContact,{actionType:t.contactActionType,open:!0})});case f.SYSTEM.ADDRESSBOOK_MODAL_ACTION_EDIT:return(0,c.default)({},e,{addEditContact:(0,c.default)({},(0,h.makeEditForm)(e.contacts,e.activeRows,t.contactActionType))});case f.SYSTEM.ADDRESSBOOK_MODAL_SEARCH:return(0,c.default)({},e,{searchDialogOpen:!0});default:return e}case u.actionTypes.CLOSE_DIALOG:return(0,c.default)({},e,{addEditContact:(0,c.default)({},(0,h.makeInitialForm)()),fieldsValidation:(0,c.default)({},(0,h.makeInitialValidation)()),searchDialogOpen:!1});case u.actionTypes.HANDLE_CHANGE:return(0,c.default)({},e,{addEditContact:(0,c.default)({},e.addEditContact,(0,l.default)({},t.inputType,t.value)),fieldsValidation:(0,c.default)({},e.fieldsValidation,(0,l.default)({},t.inputType,t.isCorrect))});case u.actionTypes.ADD_CONTACT:var n=(0,h.addContact)(e.addEditContact,t.newContact.id,e.contacts),o=(0,h.addContact)(e.addEditContact,t.newContact.id,e.contactsBackup);return(0,c.default)({},e,{contacts:n.sort((0,p.compare)(e.sortBy,e.sortDirection)),contactsBackup:o,mode:(0,c.default)({},e.mode,{type:f.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST}),addEditContact:(0,c.default)({},(0,h.makeInitialForm)()),fieldsValidation:(0,c.default)({},(0,h.makeInitialValidation)()),activeRows:[t.newContact.id],activeRowsBackup:[t.newContact.id]});case u.actionTypes.CLICK_ROW:return(0,c.default)({},e,{activeRows:[t.contactID],activeRowsBackup:[t.contactID]});case u.actionTypes.CLICK_ROW_CTRL:var a=e.activeRows.indexOf(t.contactID);return a>=0?(0,c.default)({},e,{activeRows:[].concat((0,i.default)(e.activeRows.slice(0,a)),(0,i.default)(e.activeRows.slice(a+1))),activeRowsBackup:[].concat((0,i.default)(e.activeRows.slice(0,a)),(0,i.default)(e.activeRows.slice(a+1)))}):(0,h.acceptCheckSelectMax)(t.selectMax,e.activeRows)?(0,c.default)({},e,{activeRows:[].concat((0,i.default)(e.activeRows),[t.contactID]),activeRowsBackup:[].concat((0,i.default)(e.activeRows),[t.contactID])}):e;case u.actionTypes.CLICK_ROW_SHIFT:var r=(0,p.uniqArr)((0,h.selectedListWithShift)(e.activeRows,t.contactID,e.contacts,t.selectMax));return(0,h.acceptSelectMax)(t.selectMax)?(0,h.checkSelectMax)(t.selectMax,e.activeRows)?(0,c.default)({},e,{activeRows:(0,h.activeListMax)(r,Number(t.selectMax),e.contacts,t.contactID,e.activeRows),activeRowsBackup:(0,h.activeListMax)(r,Number(t.selectMax),e.contacts,t.contactID,e.activeRows)}):e:(0,c.default)({},e,{activeRows:r,activeRowsBackup:r});case u.actionTypes.DOUBLE_CLICK_ROW:return(0,c.default)({},e,{activeRows:[t.contactID],activeRowsBackup:[t.contactID]});case u.actionTypes.SELECT_ALL:var s=e.contacts.map(function(e){return e.id});return(0,c.default)({},e,{activeRows:[].concat((0,i.default)(s)),activeRowsBackup:[].concat((0,i.default)(s))});case u.actionTypes.UNSELECT_ALL:return(0,c.default)({},e,{activeRows:[],activeRowsBackup:[]});case u.actionTypes.SELECT_CONTACT_DOWN:if(0===e.activeRows.length||e.activeRows.length===e.contacts.length)return(0,c.default)({},e,{activeRows:[e.contacts[0].id],activeRowsBackup:[e.contacts[0].id]});var d=(0,h.findActivePlace)(e.contacts,e.activeRows,f.SYSTEM.ADDRESSBOOK_MATH_MAX);return d+1<e.contacts.length?(0,c.default)({},e,{activeRows:[e.contacts[d+1].id],activeRowsBackup:[e.contacts[d+1].id]}):e;case u.actionTypes.SELECT_CONTACT_UP:if(0===e.activeRows.length||e.activeRows.length===e.contacts.length)return(0,c.default)({},e,{activeRows:[e.contacts[0].id]});var m=(0,h.findActivePlace)(e.contacts,e.activeRows,f.SYSTEM.ADDRESSBOOK_MATH_MIN);return m>0?(0,c.default)({},e,{activeRows:[e.contacts[m-1].id]}):e;case u.actionTypes.DELETE_SELECTED:return(0,c.default)({},e,{contacts:(0,h.deleteSelected)(e.contacts,e.activeRows),contactsBackup:(0,h.deleteSelected)(e.contactsBackup,e.activeRows),mode:(0,c.default)({},e.mode,{type:e.contactsBackup.length>0?f.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:f.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL}),activeRows:[],activeRowsBackup:[]});case u.actionTypes.DELETE_ALL:return(0,c.default)({},e,{contacts:[],contactsBackup:[],mode:(0,c.default)({},e.mode,{type:f.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL}),activeRows:[],activeRowsBackup:[]});case u.actionTypes.EDIT_CONTACT:var _=(0,h.updateContact)(e.addEditContact,e.contacts),S=(0,h.updateContact)(e.addEditContact,e.contactsBackup);return(0,c.default)({},e,{contacts:_.sort((0,p.compare)(e.sortBy,e.sortDirection)),contactsBackup:S,addEditContact:(0,c.default)({},(0,h.makeInitialForm)()),fieldsValidation:(0,c.default)({},(0,h.makeInitialValidation)())});case u.actionTypes.SORT_CONTACTS:return(0,c.default)({},e,{contacts:[].concat((0,i.default)(e.contacts)).sort((0,p.compare)(t.sortBy,t.sortDirection)),contactsBackup:[].concat((0,i.default)(e.contactsBackup)).sort((0,p.compare)(t.sortBy,t.sortDirection)),sortBy:t.sortBy,sortDirection:t.sortDirection});case u.actionTypes.SEARCH_CONTACTS:var g=(0,h.filterContacts)(e.contactsBackup,t.searchBy,t.fieldsMask,f.SYSTEM.ADDRESSBOOK_FIELD_NAME),T=(0,h.filterActiveRows)(g,e.activeRowsBackup);return(0,c.default)({},e,{contacts:g.sort((0,p.compare)(e.sortBy,e.sortDirection)),activeRows:T,searchBy:t.searchBy});case u.actionTypes.SEARCH_UPDATE:return(0,c.default)({},e,{searchBy:t.searchBy});case u.actionTypes.CLEAR_SEARCH:return(0,c.default)({},e,{contacts:e.contactsBackup.sort((0,p.compare)(e.sortBy,e.sortDirection)),activeRows:e.activeRowsBackup,searchBy:""});case u.actionTypes.TOGGLE_IMPORT:return(0,c.default)({},e,{importIsOpen:t.dropdownToggle===f.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW});case u.actionTypes.TOGGLE_EDIT:return(0,c.default)({},e,{editIsOpen:t.dropdownToggle===f.SYSTEM.ADDRESSBOOK_DROPDOWN_SHOW});case u.actionTypes.ON_RESIZE_WINDOW:return(0,c.default)({},e,{viewType:t.viewType});case u.actionTypes.HANDLE_ERROR_MODAL:return(0,c.default)({},e,{errorModalOpen:t.errorModalOpen});case u.actionTypes.HANDLE_ALERT_MODAL:return(0,c.default)({},e,{alertModalOpen:t.alertModalOpen});case u.actionTypes.WS_CONNECTION_ON:return(0,c.default)({},e,{wsConnectionOn:!0});case u.actionTypes.HANDLE_SAVING_CONTACT:return(0,c.default)({},e,{saveContactFinished:t.saved});case u.actionTypes.HANDLE_SEARCH_FIELD:return(0,c.default)({},e,{searchFieldShow:t.handler||!e.searchFieldShow});case u.actionTypes.HANDLE_BLOCK_POINT:return(0,c.default)({},e,{blockPoint:t.handler});case u.actionTypes.SET_WS_CONNECT:return(0,c.default)({},e,{connect:t.connect,baseUrl:t.baseUrl});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=o(r),s=n(20),l=o(s),d=n(6),c=o(d);t.ab=a;var u=n(1297),p=n(1273),h=n(1376),f=n(1269),E={local:null,mode:{type:null},fieldsMaskInternal:[f.SYSTEM.ADDRESSBOOK_FIELD_NAME,f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,f.SYSTEM.ADDRESSBOOK_FIELD_PHONE,f.SYSTEM.ADDRESSBOOK_FIELD_FAX],fieldsMask:null,filterMaskInternalOr:[f.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,f.SYSTEM.ADDRESSBOOK_FIELD_PHONE,f.SYSTEM.ADDRESSBOOK_FIELD_FAX],filterMaskInternalAnd:[],filterMask:null,filterToggleInternal:f.SYSTEM.ADDRESSBOOK_FILTER_TOGGLE_OR,filterToggle:null,contacts:[],contactsBackup:[],loaded:!1,addEditContact:{open:!1,actionType:"",name:"",email:"",phone:"",fax:"",picture:"https://devapp.pdffiller.com/img/header/icon_user.svg",external:!0},fieldsValidation:{name:!0,email:!0,phone:!0,fax:!0},editIsOpen:!1,activeRows:[],activeRowsBackup:[],sortBy:f.SYSTEM.ADDRESSBOOK_FIELD_NAME,sortDirection:f.SYSTEM.ADDRESSBOOK_SORT_DIRECTION_AZ,sortIsOpen:!1,searchBy:"",searchDialogOpen:!1,importIsOpen:!1,serverReplyStatus:null,singlePage:!1,viewType:null,errorModalOpen:!1,alertModalOpen:!1,wsConnectionOn:!1,saveContactFinished:!0,searchFieldShow:!1,blockPoint:!1,connect:null,baseUrl:null}},1332:function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}function a(){return{type:i}}function r(){return{type:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.openImageManager=a,t.openSignatureManager=r;var i=t.OPEN_IMAGE_MANAGER="managers/OPEN_IMAGE_MANAGER",s=t.OPEN_SIGNATURE_MANAGER="managers/OPEN_SIGNATURE_MANAGER",l=t.initialState={}},1342:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1),r=o(a),i=n(2),s=o(i),l=n(1285),d=function(){function e(){(0,r.default)(this,e),this.on=this.on.bind(this),this.off=this.off.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleScroll=this.handleScroll.bind(this)}return(0,s.default)(e,[{key:"on",value:function(){document.body.addEventListener(l.SYSTEM.EVENT_KEY_DOWN,this.handleKeyDown),document.body.addEventListener(l.SYSTEM.EVENT_KEY_UP,this.handleKeyUp),document.addEventListener(l.SYSTEM.EVENT_CLICK,this.handleClick),document.addEventListener(l.SYSTEM.EVENT_TOUCH_START,this.handleTouchStart),document.addEventListener(l.SYSTEM.EVENT_SCROLL,this.handleScroll)}},{key:"off",value:function(){document.body.removeEventListener(l.SYSTEM.EVENT_KEY_DOWN,this.handleKeyDown),document.body.removeEventListener(l.SYSTEM.EVENT_KEY_UP,this.handleKeyUp),document.removeEventListener(l.SYSTEM.EVENT_CLICK,this.handleClick),document.removeEventListener(l.SYSTEM.EVENT_TOUCH_START,this.handleTouchStart),document.removeEventListener(l.SYSTEM.EVENT_SCROLL,this.handleScroll)}},{key:"handleKeyDown",value:function(e){}},{key:"handleKeyUp",value:function(e){}},{key:"handleClick",value:function(e){}},{key:"handleTouchStart",value:function(e){}},{key:"handleScroll",value:function(e){}}]),e}();t.default=d},1343:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1508),r=o(a),i=n(436),s=o(i),l=n(435),d=n(1285),c=n(1293),u=o(c);t.default={controllers:r.default,controllerMiddleware:s.default,inputHandler:l.inputHandler,SYSTEM:d.SYSTEM,controllerActions:u.default}},1344:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.defaultProps=t.propTypes=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1619),_=o(m),S=n(432),g=n(1294),T=t.propTypes={handleFilesSelect:f.PropTypes.func.isRequired,handleErrors:f.PropTypes.func,acceptTypes:f.PropTypes.string,content:f.PropTypes.string,maxFileSize:f.PropTypes.string,activeClassName:f.PropTypes.string,maxFilesNumber:f.PropTypes.number,multiple:f.PropTypes.bool,checkImage:f.PropTypes.bool,imageDimensions:f.PropTypes.object,errors:f.PropTypes.object,allowedFileTypes:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.array])},v=t.defaultProps={handleErrors:function(){return{}},imageDimensions:{width:640,height:480},errors:{},maxFileSize:null,maxFilesNumber:null,allowedFileTypes:"",content:null,multiple:!1,activeClassName:"",checkImage:!1},y=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.validateFiles=e.validateFiles.bind(e),e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"validateFiles",value:function(e){var t=this.props,n=t.handleFilesSelect,o=t.handleErrors,a=t.maxFileSize,r=t.allowedFileTypes,i=t.maxFilesNumber,s=t.checkImage,l=t.imageDimensions,d=t.errors,c={customErrors:d,maxFileSize:a,allowedFileTypes:r,maxFilesNumber:i,checkImage:s,imageDimensions:l};(0,S.validateFiles)(e,c,n,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowedFileTypes,o=t.children,a=t.multiple,r=t.activeClassName,i=Array.isArray(o)?o:[o],s=i.length?i.map(function(t,o){return t.type&&t.type.getId()===g.IDS.button?E.default.cloneElement(t,{key:o,onSelect:e.validateFiles,allowedFileTypes:n,multiple:a,activeClassName:r,inputId:"dropzoneInput"}):E.default.cloneElement(t,{key:o})}):null,l="string"==typeof n?n:n.join();return E.default.createElement("div",{className:"crop-body-cell crop-body-cell--not-border"},E.default.createElement(_.default,{className:"crop-body-upload",onDrop:this.validateFiles,disableClick:!0,multiple:a,activeClassName:r,accept:l},E.default.createElement("div",{className:"crop-body-upload__inner"},s)))}}]),t}(f.Component);t.default=y,y.propTypes=T,y.defaultProps=v},1345:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1344),r=o(a),i=n(1513),s=o(i),l=n(1510),d=o(l),c=n(1511),u=o(c),p=n(1512),h=o(p);t.default={DropzoneComponentWrapper:r.default,DropzoneComponentContainerWrapper:s.default,DropzoneButton:d.default,DropzoneContent:u.default,DropzoneTitle:h.default}},1346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(163),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=(0,a.default)({SIGNATURE_EDITOR_LOCALE_SET:null,EDITOR_RESET:null,EDITOR_DIMENSIONS_SET:null,INITIAL_STATE_RESTORE:null,EDITED_IMAGE_RESTORE:null,TOOL_SELECT:null,IMAGE_SET:null,IMAGE_ROTATE:null,IMAGE_FLIP:null,IMAGE_DIMENSIONS_SET:null,IMAGE_PARAMS_RESET:null,IMAGE_PARAMS_SET:null,IMAGE_AUTO_ADJUST:null,IMAGE_INITIAL_ADJUST:null,IMAGE_HORIZONTAL_FLIP:null,IMAGE_VERTICAL_FLIP:null,CROPPED_IMAGE_SET:null,EDITED_IMAGE_SET:null,THICKNESS_SET:null,CROP_APPLY:null,ZOOM_IN:null,ZOOM_OUT:null,BRIGHTNESS_SET:null,CONTRAST_SET:null,THRESHOLD_SET:null,IMAGE_STATE_SAVE:null,ERASED_IMAGE_SAVE:null,HISTORY_STEP_ADD:null,HISTORY_STATE_SET:null,HISTORY_UNDO:null,HISTORY_REDO:null})},1347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_HISTORY_LENGTH=30,t.MAX_ZOOM=4,t.DEFAULT_PADDING=7},1348:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(62),r=o(a),i=n(6),s=o(i),l=n(432),d=n(1279),c=o(d),u=n(1281),p=n(1527),h=o(p),f=n(1528),E=o(f),m=c.default.setImage,_=c.default.setEditedImage,S=c.default.resetImageParams,g=c.default.addHistoryStep,T=c.default.flipImageHorizontally,v=c.default.flipImageVertically,y=c.default.setHistoryState,O=c.default.setImageDimensions,C=h.default.areParamsDefault,D=h.default.getCurrentImageParams,M=h.default.getParamsForImageFlipping,A=function(e){var t=new E.default;return function(n){return function(o){var a=e.getState().signatureEditor;switch(o.type){case u.ACTION_TYPES.EDITOR_RESET:t.clear();break;case u.ACTION_TYPES.INITIAL_STATE_RESTORE:var i=t.restoreInitialState();t.saveImageState(a.currentStep,{},i),e.dispatch(m(i));break;case u.ACTION_TYPES.EDITED_IMAGE_RESTORE:var d=t.getEditedImageState();t.saveImageState(a.currentStep,d.params,d.src),e.dispatch(_(d.src,1)),e.dispatch(O(d.dimensions));break;case u.ACTION_TYPES.IMAGE_ROTATE:var c={src:a.image,clockwise:o.clockwise};(0,l.rotateImage)(c).then(function(n){var o=t.saveImageState(a.currentStep,{},n.src);e.dispatch(_(n.src,o)),e.dispatch(S())});break;case u.ACTION_TYPES.IMAGE_FLIP:var p=a.isFlippedHorizontally,h=a.isFlippedVertically,f=(0,s.default)({},M(a),{src:t.getImage(a.currentStep)});o.horizontally?(p=!p,e.dispatch(T())):o.vertically&&(h=!h,e.dispatch(v())),f=(0,s.default)({},f,{flipHorizontally:p,flipVertically:h}),(0,l.editImage)(f).then(function(n){var o=n.src,r=(0,s.default)({},M(a),{flipHorizontally:p,flipVertically:h}),i=t.saveImageState(a.currentStep,r);e.dispatch(_(o,i))});break;case u.ACTION_TYPES.CROP_APPLY:var E=t.saveImageState(a.currentStep,{},a.croppedImage);e.dispatch(g(E));break;case u.ACTION_TYPES.CONTRAST_SET:var A=(0,s.default)({},D(a),{src:t.getImage(a.currentStep),contrast:o.value});(0,l.editImage)(A).then(function(t){var n=t.src;return e.dispatch(m(n))});break;case u.ACTION_TYPES.BRIGHTNESS_SET:var b=(0,s.default)({},D(a),{src:t.getImage(a.currentStep),brightness:o.value});(0,l.editImage)(b).then(function(t){var n=t.src;return e.dispatch(m(n))});break;case u.ACTION_TYPES.THRESHOLD_SET:var R=(0,s.default)({},D(a),{src:t.getImage(a.currentStep),threshold:o.value});(0,l.editImage)(R).then(function(t){var n=t.src;return e.dispatch(m(n))});break;case u.ACTION_TYPES.ERASED_IMAGE_SAVE:var I=t.saveImageState(a.currentStep,{},o.image);e.dispatch(g(I));break;case u.ACTION_TYPES.IMAGE_STATE_SAVE:var P=D(a),N=t.saveImageState(a.currentStep,P);e.dispatch(g(N));break;case u.ACTION_TYPES.IMAGE_AUTO_ADJUST:var w={src:t.getImage(a.currentStep),contrast:o.contrast,threshold:o.threshold,brightness:o.brightness,flipHorizontally:a.isFlippedHorizontally,flipVertically:a.isFlippedVertically};(0,l.editImage)(w).then(function(e){var t=e.src;return(0,l.trimImage)(t)}).then(function(n){var o=(0,r.default)(w,["src"]),i=t.saveImageState(a.currentStep,(0,s.default)({},o,{isAutoCleaned:!0}),n);e.dispatch(_(n,i))});break;case u.ACTION_TYPES.IMAGE_INITIAL_ADJUST:var k=void 0;t.init(a.currentStep,o.params.src),(0,l.editImage)(o.params).then(function(e){var t=e.src,n=e.width,o=e.height;return k={width:n,height:o},(0,l.trimImage)(t)}).then(function(n){var i=o.params,l=(i.src,(0,r.default)(i,["src"])),d=t.saveImageState(a.currentStep,(0,s.default)({},l,{isAutoCleaned:!0}),n);t.saveEditedImage(n,l,k),e.dispatch(_(n,d)),e.dispatch(O(k))});break;case u.ACTION_TYPES.HISTORY_UNDO:var L=a.currentStep-1,B=t.getImageState(L),x=B.src,Y=(0,r.default)(B,["src"]);!Y.isAutoCleaned||C(Y)?(0,l.editImage)(B).then(function(t){var n=t.src;return e.dispatch(y(n,Y,L))}):e.dispatch(y(x,Y,L));break;case u.ACTION_TYPES.HISTORY_REDO:var F=a.currentStep+1,U=t.getImageState(F),H=U.src,K=(0,r.default)(U,["src"]);C(K)?(0,l.editImage)(U).then(function(t){var n=t.src;return e.dispatch(y(n,K,F))}):e.dispatch(y(H,K,F))}return n(o)}}};t.default=A},1349:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=o(a),i=n(450),s=o(i),l=n(1281),d={selectedTool:l.TOOLS.flipRotate,locale:l.LOCALE,image:null,imageDimensions:{},editorDimensions:{},croppedImage:null,threshold:l.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:l.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:l.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l.ACTION_TYPES.SIGNATURE_EDITOR_LOCALE_SET:return(0,r.default)({},e,{locale:(0,s.default)(e.locale,t.locale)});case l.ACTION_TYPES.EDITOR_RESET:return(0,r.default)({},e,{selectedTool:l.TOOLS.flipRotate,image:null,croppedImage:null,threshold:l.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:l.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:l.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1});case l.ACTION_TYPES.EDITOR_DIMENSIONS_SET:return(0,r.default)({},e,{editorDimensions:t.dimensions});case l.ACTION_TYPES.IMAGE_INITIAL_ADJUST:return(0,r.default)({},e,{selectedTool:l.TOOLS.flipRotate,image:t.params.src,croppedImage:null,threshold:l.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:l.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:l.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,eraserThickness:10,currentStep:0,totalSteps:1,minStep:0,scale:1});case l.ACTION_TYPES.INITIAL_STATE_RESTORE:return(0,r.default)({},e,{selectedTool:l.TOOLS.flipRotate,threshold:l.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:l.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:l.IMAGE_CLEANER_CONFIG.defaultContrast,currentStep:0,totalSteps:1,minStep:0});case l.ACTION_TYPES.EDITED_IMAGE_RESTORE:return(0,r.default)({},e,{selectedTool:l.TOOLS.flipRotate});case l.ACTION_TYPES.IMAGE_SET:return(0,r.default)({},e,{image:t.image});case l.ACTION_TYPES.IMAGE_HORIZONTAL_FLIP:return(0,r.default)({},e,{isFlippedHorizontally:!e.isFlippedHorizontally});case l.ACTION_TYPES.IMAGE_VERTICAL_FLIP:return(0,r.default)({},e,{isFlippedVertically:!e.isFlippedVertically});case l.ACTION_TYPES.CROPPED_IMAGE_SET:return(0,r.default)({},e,{croppedImage:t.image});case l.ACTION_TYPES.IMAGE_DIMENSIONS_SET:return(0,r.default)({},e,{imageDimensions:t.dimensions});case l.ACTION_TYPES.EDITED_IMAGE_SET:var n=e.currentStep+1,o=n+1,a=e.minStep;return o>=l.MAX_HISTORY_LENGTH&&(a=o-l.MAX_HISTORY_LENGTH),(0,r.default)({},e,{currentStep:n,minStep:a,image:t.image,totalSteps:t.totalSteps});case l.ACTION_TYPES.ERASED_IMAGE_SAVE:return(0,r.default)({},e,{image:t.image,threshold:l.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:l.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:l.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1});case l.ACTION_TYPES.IMAGE_PARAMS_RESET:return(0,r.default)({},e,{threshold:l.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:l.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:l.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1});case l.ACTION_TYPES.IMAGE_PARAMS_SET:return(0,r.default)({},e,{isFlippedVertically:t.params.flipVertically,isFlippedHorizontally:t.params.flipHorizontally,contrast:t.params.contrast,brightness:t.params.brightness,threshold:t.params.threshold});case l.ACTION_TYPES.IMAGE_AUTO_ADJUST:return(0,r.default)({},e,{threshold:l.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:l.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:l.IMAGE_CLEANER_CONFIG.defaultContrast});case l.ACTION_TYPES.THICKNESS_SET:return(0,r.default)({},e,{eraserThickness:t.size});case l.ACTION_TYPES.TOOL_SELECT:return(0,r.default)({},e,{selectedTool:t.tool});case l.ACTION_TYPES.BRIGHTNESS_SET:return(0,r.default)({},e,{brightness:t.value});case l.ACTION_TYPES.CONTRAST_SET:return(0,r.default)({},e,{contrast:t.value});case l.ACTION_TYPES.THRESHOLD_SET:return(0,r.default)({},e,{threshold:t.value});case l.ACTION_TYPES.ZOOM_IN:return(0,r.default)({},e,{scale:Math.min(l.MAX_ZOOM,e.scale+.1)});case l.ACTION_TYPES.ZOOM_OUT:return(0,r.default)({},e,{scale:e.scale-.1});case l.ACTION_TYPES.CROP_APPLY:return(0,r.default)({},e,{image:e.croppedImage,threshold:l.IMAGE_CLEANER_CONFIG.defaultThreshold,brightness:l.IMAGE_CLEANER_CONFIG.defaultBrightness,contrast:l.IMAGE_CLEANER_CONFIG.defaultContrast,isFlippedHorizontally:!1,isFlippedVertically:!1,scale:1});case l.ACTION_TYPES.HISTORY_STATE_SET:var i=t.imageParams.threshold,c=t.imageParams.contrast,u=t.imageParams.brightness;return t.imageParams.isAutoCleaned&&(i=l.IMAGE_CLEANER_CONFIG.defaultThreshold,c=l.IMAGE_CLEANER_CONFIG.defaultContrast,u=l.IMAGE_CLEANER_CONFIG.defaultBrightness),(0,r.default)({},e,{threshold:i,contrast:c,brightness:u,image:t.image,isFlippedVertically:t.imageParams.flipVertically,isFlippedHorizontally:t.imageParams.flipHorizontally,currentStep:t.step});case l.ACTION_TYPES.HISTORY_STEP_ADD:var p=e.currentStep+1,h=p+1,f=e.minStep;return h>=l.MAX_HISTORY_LENGTH&&(f=h-l.MAX_HISTORY_LENGTH),(0,r.default)({},e,{currentStep:p,minStep:f,totalSteps:t.totalSteps});default:return e}};t.default=c},1350:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=(r=a=function(e){function t(){(0,d.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.canvas=null,e.ctx=null,e.setReference=e.setReference.bind(e),e}return(0,E.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.drawImage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.image;t&&t!==e.image&&this.drawImage()}},{key:"drawImage",value:function(){var e=this.props.image;e&&(this.canvas.width=e.width,this.canvas.height=e.height,this.ctx.drawImage(e,0,0))}},{key:"setReference",value:function(e){e&&!this.canvas&&(this.canvas=e,this.ctx=this.canvas.getContext("2d"))}},{key:"render",value:function(){var e={display:"block",margin:"auto"};return _.default.createElement("canvas",{ref:this.setReference,style:e})}}]),t}(m.Component),a.propTypes={image:m.PropTypes.object},r);t.default=S},1352:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContentUploading=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f);(t.ImageManagerContentUploading=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.uploadedPercent,o={width:n+"%"};return E.default.createElement("div",{className:"sign-m-body"},E.default.createElement("div",{className:"sign-m-upload-doc-area-wrap sign-m-upload-doc-area-wrap--full-height"},E.default.createElement("div",{className:"sign-m-upload-doc-loading"},E.default.createElement("div",{className:"sign-m-upload-doc-loading-icon sign-m-svg-icon-cloud"},E.default.createElement("i",{className:"i i-in-process"})),E.default.createElement("div",{className:"sign-m-upload-doc-loading__title"},t),E.default.createElement("div",{className:"progress"},E.default.createElement("div",{className:"progress-bar",style:o})))))}}]),t}(f.Component)).propTypes={title:f.PropTypes.string.isRequired,uploadedPercent:f.PropTypes.number}},1353:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerHeader=void 0;var a,r=n(20),i=o(r),s=n(3),l=o(s),d=n(1),c=o(d),u=n(2),p=o(u),h=n(5),f=o(h),E=n(4),m=o(E),_=n(0),S=o(_),g=n(9),T=o(g),v=n(7),y={icon:_.PropTypes.string.isRequired,title:_.PropTypes.string,btnBackDispatch:_.PropTypes.func,handleClose:_.PropTypes.func,btnBack:_.PropTypes.object,addClass:_.PropTypes.string};(t.ImageManagerHeader=(0,v.connect)(function(e){return e.im.mode})(a=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"btnBack",value:function(){var e=this.props,t=e.btnBack,n=void 0!==t&&t,o=e.btnBackDispatch;return n.status?S.default.createElement("div",{className:"sign-m-header__btn-back",onClick:o}):null}},{key:"render",value:function(){var e=this.props,t=e.addClass,n=e.handleClose,o=e.icon,a=e.title,r=(0,T.default)((0,i.default)({"sign-m-header__icon":!0},o,o));return S.default.createElement("div",{className:"sign-m-header "+t},this.btnBack(),S.default.createElement("div",{className:"sign-m-header__close",onClick:n}),S.default.createElement("div",{className:r}),S.default.createElement("div",{className:"sign-m-header__title",dangerouslySetInnerHTML:{__html:a}}))}}]),t}(_.Component))||a).propTypes=y},1354:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownColor=void 0;var a=n(26),r=o(a),i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(9),g=o(S),T=n(1295),v=o(T),y=n(1268),O={color:m.PropTypes.string,addClass:m.PropTypes.string,setColor:m.PropTypes.func,getColor:m.PropTypes.func};(t.DropDownColor=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.state={open:!1,color:e.color},n.changeColor=n.changeColor.bind(n),n.dropdownToggle=n.dropdownToggle.bind(n),n.setReference=n.setReference.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"dropdownToggle",value:function(e){this.setState({open:e})}},{key:"changeColor",value:function(e){var t=this.props,n=t.setColor,o=t.getColor;n(e),this.setState({color:o()}),this.dropdown&&this.dropdown.hide()}},{key:"setReference",value:function(e){this.dropdown=e}},{key:"renderColorsList",value:function(){var e=this;return(0,r.default)(y.DRAW_OPTIONS.COLORS).map(function(t){var n=y.DRAW_OPTIONS.COLORS[t];return _.default.createElement("div",{key:t,className:"sign-m-dropdown-colors__item",onClick:function(){return e.changeColor(n)}},_.default.createElement("div",{style:{background:"#"+n}}))})}},{key:"render",value:function(){var e=this,t=this.props.addClass,n=void 0===t?"":t,o=this.state,a=o.open,r=o.color,i=(0,g.default)({"g-dropdown-wrap":!0,"sign-m-dropdown-colors":!0,open:a});return _.default.createElement(v.default,{className:i+" "+n,ref:this.setReference,onShow:function(){return e.dropdownToggle(!0)},onHide:function(){return e.dropdownToggle(!1)}},_.default.createElement(T.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},_.default.createElement("div",{className:"sign-m-dropdown-colors__preview",style:{backgroundColor:"#"+r}})),_.default.createElement(T.DropdownContent,{className:"g-dropdown-popup"},_.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),_.default.createElement("div",{className:"g-dropdown-popup-list"},this.renderColorsList())))}}]),t}(m.Component)).propTypes=O},1355:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownLineThickness=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1295),_=o(m),S=n(9),g=o(S),T=n(1268),v={setLineWidth:f.PropTypes.func,addClass:f.PropTypes.string};(t.DropDownLineThickness=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={open:!1},n.dropdownToggle=n.dropdownToggle.bind(n),n.itemClick=n.itemClick.bind(n),n.setReference=n.setReference.bind(n),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"dropdownToggle",value:function(e){this.setState({open:e})}},{key:"itemClick",value:function(e){(0,this.props.setLineWidth)(e),this.dropdown.hide()}},{key:"setReference",value:function(e){this.dropdown=e}},{key:"render",value:function(){var e=this,t=this.props.addClass,n=void 0===t?"":t,o=this.state.open,a=(0,g.default)({"g-dropdown-wrap":!0,"sign-m-dropdown-list-thickness":!0,open:o});return E.default.createElement(_.default,{className:a+" "+n,ref:this.setReference,onShow:function(){return e.dropdownToggle(!0)},onHide:function(){return e.dropdownToggle(!1)}},E.default.createElement(m.DropdownTrigger,{className:"g-btn g-btn-sm g-btn-empty"},E.default.createElement("i",{className:"i i-thinkness"})),E.default.createElement(m.DropdownContent,{"aria-labelledby":"menu-1",className:"g-dropdown-popup"},E.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),E.default.createElement("div",{className:"g-dropdown-popup-list"},E.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(T.DRAW_OPTIONS.THICKNESS.XSMALL)}},E.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--2px"})),E.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(T.DRAW_OPTIONS.THICKNESS.SMALL)}},E.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--4px"})),E.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(T.DRAW_OPTIONS.THICKNESS.MEDIUM)}},E.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--6px"})),E.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(T.DRAW_OPTIONS.THICKNESS.LARGE)}},E.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--8px"})),E.default.createElement("div",{className:"sign-m-dropdown-thickness",onClick:function(){return e.itemClick(T.DRAW_OPTIONS.THICKNESS.XLARGE)}},E.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--10px"})))))}}]),t}(f.Component)).propTypes=v},1356:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var a,r,i,s=n(6),l=o(s),d=n(3),c=o(d),u=n(1),p=o(u),h=n(2),f=o(h),E=n(5),m=o(E),_=n(4),S=o(_),g=n(0),T=o(g),v=n(70),y=o(v),O=n(449),C=o(O),D=n(434),M=o(D),A=n(1287);t.Input=(0,M.default)(a=(0,C.default)((i=r=function(e){function t(e){(0,p.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return n.setRef=function(e){n.input=e},n.state={value:e.value,errorMessage:"",isValid:!0,showAddressBookButton:!(0,A.isIeOrEdge)()},n.handleChange=n.handleChange.bind(n),n.handleFocus=n.handleFocus.bind(n),n}return(0,S.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.value,n=e.value.trim();t!==n&&this.setState({value:n})}},{key:"componentWillUpdate",value:function(e,t){this.state.value!==t.value&&this.checkValidity(t.value)}},{key:"componentDidMount",value:function(){var e=this.props.value;this.input.focus(),e&&this.checkValidity(e)}},{key:"checkValidity",value:function(e){var t=this.props.handleIsValid,n=this.validate(e||"");this.setState({isValid:n}),t(n)}},{key:"handleChange",value:function(e){var t=this.props.onChange,n=this.state.isValid,o=e.target.value.trim();this.setState({value:o,isValid:n}),t(e)}},{key:"handleFocus",value:function(e){var t=this.props,n=t.onFocus,o=t.value;this.checkValidity(o),n(e),setTimeout(this.moveCaretAtEnd,35,(0,l.default)({},e))}},{key:"renderErrorMessage",value:function(){var e=this.props.className,t=this.state.isValid,n={name:"g-form-group__message",modifiers:["size"],disabled:["disabled"]},o=t?"":"g-form-group__message--error";return T.default.createElement("div",{className:(0,y.default)(n,o,this.props,e)},this.state.errorMessage)}},{key:"renderAddressBookButton",value:function(){var e=this.props.handleAddressBookButtonClick;return T.default.createElement("span",{className:"g-form-add-contact",onClick:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.placeholder,o=e.onBlur,a=this.state,r=a.showAddressBookButton,i=a.isValid,s=a.value,l={name:"g-form-control",modifiers:["size","type","placeholder-bold"],disabled:["disabled"],error:!i},d=i?"":"g-form-control--error";return T.default.createElement("div",{className:"g-form-group"},T.default.createElement("input",{type:"text",value:s,placeholder:n,ref:this.setRef,className:(0,y.default)(l,d,this.props,t),onChange:this.handleChange,onFocus:this.handleFocus,onBlur:o}),r&&this.renderAddressBookButton(),!i&&this.renderErrorMessage())}}]),t}(T.default.Component),r.defaultProps={placeholder:"",value:"",className:"",validations:[],handleAddressBookButtonClick:function(){},onFocus:function(){},onBlur:function(){},onChange:function(){},handleIsValid:function(){}},r.propTypes={placeholder:g.PropTypes.string,value:g.PropTypes.string,className:g.PropTypes.string,validations:g.PropTypes.array,handleAddressBookButtonClick:g.PropTypes.func,onFocus:g.PropTypes.func,onBlur:g.PropTypes.func,onChange:g.PropTypes.func,handleIsValid:g.PropTypes.func},a=i))||a)||a},1357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(163),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=(0,a.default)({all:null,text:null,curve:null,image:null,initials:null})},1358:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.editorManagerMiddleware=t.imageSignatureMiddleware=t.actions=t.reducers=t.configureStore=t.SignatureManagerComponent=t.ImageManagerComponent=void 0;var a=n(1586),r=o(a),i=n(1587),s=o(i),l=n(1589),d=o(l),c=n(1308),u=o(c),p=n(1267),h=o(p),f=n(1268),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),m=n(1307);t.ImageManagerComponent=r.default,t.SignatureManagerComponent=s.default,t.configureStore=d.default,t.reducers=u.default,t.actions=h.default,t.imageSignatureMiddleware=m.imageSignature,t.editorManagerMiddleware=m.editorManager,t.constants=E},1361:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDrawComponent=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1623);t.SignatureDrawComponent=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.sDraw=new m.SignatureDrawElement,n.state={width:0,height:0,MOBILE_PANEL_WIDTH:60},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.setState({width:this.props.width,height:this.props.height});var e=this.sDraw.init(this.props.width,this.props.height,this.props.curves,this.props.updateDrawElement,this.props.canDraw,this.props.drawConfig);this.refs.drawRoot.appendChild(e)}},{key:"componentDidUpdate",value:function(){if(this.state.width!==this.props.width||this.state.height!==this.props.height){this.setState({width:this.props.width,height:this.props.height});var e=this.sDraw.update(this.props.width-this.state.MOBILE_PANEL_WIDTH,this.props.height);this.refs.drawRoot.removeChild(this.refs.drawRoot.childNodes[this.refs.drawRoot.childNodes.length-1]),this.refs.drawRoot.appendChild(e)}}},{key:"render",value:function(){return E.default.createElement("div",{ref:"drawRoot"})}}]),t}(f.Component)},1363:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.apiRestMediator=void 0;var a=n(30),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(1269),u=n(253),p=o(u);t.apiRestMediator=function(){function e(t){(0,s.default)(this,e),this.pdffiller=window.pdffiller,this.lang=(0,r.default)(this.pdffiller)!==c.SYSTEM.ADDRESSBOOK_UNDEFINED&&null!==this.pdffiller&&this.pdffiller.lang?this.pdffiller.lang:"en",this.apiRest=new p.default(c.SYSTEM.ADDRESSBOOK_ADDRESS_BOOK,{appKey:t.appKey,userId:t.userCredentials&&t.userCredentials.userId||window.user&&window.user.userId,token:t.userCredentials&&t.userCredentials.token||window.user&&window.user.token,lang:this.lang,baseUrl:t.baseUrl}),this.apiProps=this.apiRest.getParameters(),this.handleGetContacts=this.handleGetContacts.bind(this),this.handleAddContact=this.handleAddContact.bind(this),this.handleEditContact=this.handleEditContact.bind(this),this.handleDeleteContact=this.handleDeleteContact.bind(this),this.handleDeleteAllContacts=this.handleDeleteAllContacts.bind(this),this.handleImportGmail=this.handleImportGmail.bind(this),this.handleImportYahoo=this.handleImportYahoo.bind(this),this.handleImportHotmail=this.handleImportHotmail.bind(this),this.handleImportOutlook=this.handleImportOutlook.bind(this),this.getApiProps=this.getApiProps.bind(this)}return(0,d.default)(e,[{key:"handleGetContacts",value:function(e){this.apiRest.getContacts(function(t,n){e&&(void 0===e?"undefined":(0,r.default)(e))===c.SYSTEM.ADDRESSBOOK_FUNCTION&&e(t,n)})}},{key:"handleAddContact",value:function(e,t){this.apiRest.addContact(e,function(e,n){t&&(void 0===t?"undefined":(0,r.default)(t))===c.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleEditContact",value:function(e,t){this.apiRest.editContact(e,function(e,n){t&&(void 0===t?"undefined":(0,r.default)(t))===c.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleDeleteContact",value:function(e,t){this.apiRest.deleteContact(e,function(e,n){t&&(void 0===t?"undefined":(0,r.default)(t))===c.SYSTEM.ADDRESSBOOK_FUNCTION&&t(e,n)})}},{key:"handleDeleteAllContacts",value:function(e){this.apiRest.deleteAllContacts(function(t,n){e&&(void 0===e?"undefined":(0,r.default)(e))===c.SYSTEM.ADDRESSBOOK_FUNCTION&&e(t,n)})}},{key:"handleImportGmail",value:function(){return this.apiRest.importGmail()}},{key:"handleImportYahoo",value:function(){return this.apiRest.importYahoo()}},{key:"handleImportHotmail",value:function(){return this.apiRest.importHotmail()}},{key:"handleImportOutlook",value:function(){return this.apiRest.importOutlook()}},{key:"getApiProps",value:function(){return this.apiProps}}]),e}()},1364:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookButton=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f);n(7);(t.AddressBookButton=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.handleOpenModalLocal=n.handleOpenModalLocal.bind(n),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"handleOpenModalLocal",value:function(){this.props.handleOpenModal()}},{key:"render",value:function(){return E.default.createElement("button",{className:"g-btn g-btn-secondary g-btn-sm g-btn-auto-width",onClick:this.handleOpenModalLocal},"AddressBook")}}]),t}(f.Component)).propTypes={handleOpenModal:E.default.PropTypes.func}},1365:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookClose=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(29),T=n(1271);t.AddressBookClose=(a=(0,S.connect)(function(e){return{cancelDummyController:e.modal.options.AddressBook?e.modal.options.AddressBook.cancelDummyControllerCallback:null}},function(e){return{actions:(0,g.bindActionCreators)({closeModal:T.closeModal},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleCloseModalLocal=n.handleCloseModalLocal.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleCloseModalLocal",value:function(e){e.preventDefault(),this.props.handleCloseModal(),(0,this.props.actions.closeModal)(),this.props.cancelDummyController&&this.props.cancelDummyController()}},{key:"render",value:function(){return _.default.createElement("div",{className:"dab-header-close-modal",onClick:this.handleCloseModalLocal})}}]),t}(m.Component))||r},1366:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookModalAddEdit_page=void 0;var a,r,i=n(14),s=o(i),l=n(6),d=o(l),c=n(3),u=o(c),p=n(1),h=o(p),f=n(2),E=o(f),m=n(5),_=o(m),S=n(4),g=o(S),T=n(0),v=o(T),y=n(7),O=n(1273),C=n(9),D=o(C),M=n(29),A=n(1269),b=n(1288),R=n(1271),I=n(1299);o(I),t.AddressBookModalAddEdit_page=(a=(0,y.connect)(function(e){return{addEditContact:e.ab.addEditContact,fieldsValidation:e.ab.fieldsValidation,local:e.ab.local,saveContactFinished:e.ab.saveContactFinished}},function(e){return{actions:(0,M.bindActionCreators)({handleChange:R.handleChange,closeDialog:R.closeDialog,addContact:R.addContact,editContact:R.editContact,handleErrorModal:R.handleErrorModal,handleSavingContact:R.handleSavingContact,handleBlockPoint:R.handleBlockPoint},e)}}))(r=function(e){function t(e){(0,h.default)(this,t);var n=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.handleInputChange=n.handleInputChange.bind(n),n.handleCloseDialog=n.handleCloseDialog.bind(n),n.handleSaveContact=n.handleSaveContact.bind(n),n.handleCtrlA=n.handleCtrlA.bind(n),n.handleDelete=n.handleDelete.bind(n),n.handleTab=n.handleTab.bind(n),n.handleEnter=n.handleEnter.bind(n),n.handleEscape=n.handleEscape.bind(n),n.addContactCb=n.addContactCb.bind(n),n.editContactCb=n.editContactCb.bind(n),n.handleAddContact=n.handleAddContact.bind(n),n.handleEditContact=n.handleEditContact.bind(n),n.handleEscapeErrorModal=n.handleEscapeErrorModal.bind(n),n.handleEnterErrorModal=n.handleEnterErrorModal.bind(n),n.onErrorController=n.onErrorController.bind(n),n.offErrorController=n.offErrorController.bind(n),n.renderTitle=n.renderTitle.bind(n),n.renderButtonName=n.renderButtonName.bind(n),n.fields=[A.SYSTEM.ADDRESSBOOK_FIELD_NAME,A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,A.SYSTEM.ADDRESSBOOK_FIELD_PHONE,A.SYSTEM.ADDRESSBOOK_FIELD_FAX],n}return(0,g.default)(t,e),(0,E.default)(t,[{key:"componentDidMount",value:function(){this.refs[A.SYSTEM.ADDRESSBOOK_FIELD_NAME].focus(),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete)}},{key:"componentWillUnmount",value:function(){this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.props.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.props.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.props.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.props.handleDelete)}},{key:"onErrorController",value:function(){this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal)}},{key:"offErrorController",value:function(){this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscape),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnter),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_TAB,this.handleTab),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_CTRL_A,this.handleCtrlA),this.props.inputHandler.addControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_DELETE,this.handleDelete),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ESCAPE,this.handleEscapeErrorModal),this.props.inputHandler.removeControllerListener(this.props.controller,this.props.controllerConstants.EVENT_PRESS_ENTER,this.handleEnterErrorModal)}},{key:"addContactCb",value:function(e,t){var n=this,o=this.props.actions,a=o.addContact,r=o.handleErrorModal;(0,o.handleSavingContact)(!0),e?((0,I.handleErrorGenerator)(this.props.local,b.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,O.windowFocus)()},function(){n.offErrorController(),r(!1),(0,O.windowFocus)()}),this.onErrorController()):Number(t.id)>0?a(t):((0,I.handleErrorGenerator)(this.props.local,b.ERROR_TYPES.ADDRESSBOOK_ADD_CONTACT_DOUBLE,this.props.handleError,function(){n.offErrorController(),r(!1),(0,O.windowFocus)()},function(){n.offErrorController(),r(!1),(0,O.windowFocus)()}),this.onErrorController())}},{key:"handleAddContact",value:function(e){this.props.apiRest.handleAddContact(e,this.addContactCb)}},{key:"editContactCb",value:function(e,t){var n=this,o=this.props.actions,a=o.editContact,r=o.handleErrorModal;(0,o.handleSavingContact)(!0),e?((0,I.handleErrorGenerator)(this.props.local,b.ERROR_TYPES.ADDRESSBOOK_EDIT_CONTACT,this.props.handleError,function(){n.offErrorController(),r(!1),(0,O.windowFocus)()},function(){n.offErrorController(),r(!1),(0,O.windowFocus)()}),this.onErrorController()):a(e,t)}},{key:"handleEditContact",value:function(e){this.props.apiRest.handleEditContact(e,this.editContactCb)}},{key:"handleEscapeErrorModal",value:function(){this.offErrorController(),(0,O.windowFocus)()}},{key:"handleEnterErrorModal",value:function(){this.props.closeModal(this.props.errorModalName),this.offErrorController(),(0,O.windowFocus)()}},{key:"handleCtrlA",value:function(){-1!==this.fields.indexOf(document.activeElement.name)&&document.activeElement.select()}},{key:"handleDelete",value:function(e){var t=document.activeElement,n=t.value.split(""),o=(0,d.default)({selectionStart:t.selectionStart});if(-1!==this.fields.indexOf(t.name)&&t.selectionStart<t.value.length){if(t.selectionStart===t.selectionEnd)t.value=[].concat((0,s.default)(n.slice(0,t.selectionStart)),(0,s.default)(n.slice(t.selectionStart+1))).join(""),t.selectionStart=o.selectionStart,t.selectionEnd=o.selectionStart;else{var a=document.activeElement.selectionEnd-document.activeElement.selectionStart;t.value=[].concat((0,s.default)(n.slice(0,t.selectionStart)),(0,s.default)(n.slice(t.selectionStart+a))).join(""),t.selectionStart=o.selectionStart,t.selectionEnd=o.selectionStart}this.handleInputChange(e,t.name)}}},{key:"handleTab",value:function(e){if(this.props.addEditContact.open){var t=this.fields.indexOf(document.activeElement.name);e.shiftKey?t>0&&this.refs[this.fields[t-1]].focus():t<this.fields.length-1&&this.refs[this.fields[t+1]].focus()}}},{key:"handleEnter",value:function(e){if(this.props.addEditContact.open){var t=this.fields.indexOf(document.activeElement.name);t<this.fields.length-1?this.refs[this.fields[t+1]].focus():this.handleSaveContact(e)}}},{key:"handleEscape",value:function(e){this.handleCloseDialog(e)}},{key:"handleCloseDialog",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.actions,n=t.closeDialog,o=t.handleBlockPoint;n(),o(!0),(0,O.windowFocus)(),setTimeout(function(){o(!1)},A.SYSTEM.ADDRESSBOOK_BLOCK_POINT_DELAY)}},{key:"handleInputChange",value:function(e,t){var n=void 0;switch(t){case A.SYSTEM.ADDRESSBOOK_FIELD_NAME:n=A.SYSTEM.ADDRESSBOOK_REGEXP_NAME.test(e.target.value);break;case A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL:n=A.SYSTEM.ADDRESSBOOK_REGEXP_EMAIL.test(e.target.value);break;default:n=A.SYSTEM.ADDRESSBOOK_REGEXP_PHONE.test(e.target.value)}n=0===e.target.value.length||n,(0,this.props.actions.handleChange)(e.target.value,t,n)}},{key:"handleSaveContact",value:function(e){if(e.preventDefault(),(this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax&&this.props.saveContactFinished){(0,this.props.actions.handleSavingContact)(!1),this.props.addEditContact.actionType===A.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.handleAddContact(this.props.addEditContact):this.handleEditContact(this.props.addEditContact),(0,O.windowFocus)()}}},{key:"renderTitle",value:function(){return this.props.addEditContact.actionType===A.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_CONTACT_TITLE:this.props.local.ADDRESSBOOK_EDIT_CONTACT_TITLE}},{key:"renderButtonName",value:function(){return this.props.addEditContact.actionType===A.SYSTEM.ADDRESSBOOK_MODAL_ACTION_ADD?this.props.local.ADDRESSBOOK_ADD_BUTTON_DIALOG:this.props.local.ADDRESSBOOK_EDIT_BUTTON_DIALOG}},{key:"render",value:function(){var e=this,t=(0,D.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.name}),n=(0,D.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.email}),o=(0,D.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.phone}),a=(0,D.default)("form-control form-control--with-icon small",{error:!this.props.fieldsValidation.fax}),r=(0,D.default)("btn -sm -orange",{disabled:!((this.props.addEditContact.email.length>0||this.props.addEditContact.phone.length>0||this.props.addEditContact.fax.length>0)&&this.props.fieldsValidation.email&&this.props.fieldsValidation.phone&&this.props.fieldsValidation.fax)});return v.default.createElement("div",{className:"modal-container"},v.default.createElement("header",{className:"modal-header"},v.default.createElement("span",{className:"modal-header__title"},this.renderTitle()),v.default.createElement("i",{className:"close-modal",onClick:this.handleCloseDialog})),v.default.createElement("section",{className:"modal-body"},v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{for:"full_name",className:"myac-label-icon i i-user"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_NAME,name:A.SYSTEM.ADDRESSBOOK_FIELD_NAME,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_NAME,className:t,value:this.props.addEditContact.name,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_NAME)}})),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{for:"email_address",className:"myac-label-icon i i-email"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,name:A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_EMAIL,className:n,value:this.props.addEditContact.email,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_EMAIL)}})),v.default.createElement("div",{className:"form-group form-group--half-cols"},v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{for:"phone_number",className:"myac-label-icon i i-phone"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_PHONE,name:A.SYSTEM.ADDRESSBOOK_FIELD_PHONE,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_PHONE,className:o,value:this.props.addEditContact.phone,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_PHONE)}})),v.default.createElement("div",{className:"form-group"},v.default.createElement("label",{for:"fax_number",className:"myac-label-icon i i-fax"}),v.default.createElement("input",{ref:A.SYSTEM.ADDRESSBOOK_FIELD_FAX,name:A.SYSTEM.ADDRESSBOOK_FIELD_FAX,placeholder:this.props.local.ADDRESSBOOK_UPPERCASE_FAX,className:a,value:this.props.addEditContact.fax,onChange:function(t){e.handleInputChange(t,A.SYSTEM.ADDRESSBOOK_FIELD_FAX)}}))),v.default.createElement("div",{className:"modal-actions-btns text-right"},v.default.createElement("button",{type:"button",className:"btn -sm -light-gray",onClick:this.handleCloseDialog},this.props.local.ADDRESSBOOK_BUTTON_CANCEL),v.default.createElement("button",{type:"button",className:r,onClick:this.handleSaveContact},this.renderButtonName()))))}}]),t}(T.Component))||r},1367:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookSend=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(29),T=n(9),v=o(T),y=n(1271);t.AddressBookSend=(a=(0,S.connect)(function(e){return{contacts:e.ab.contacts,activeRows:e.ab.activeRows,local:e.ab.local,sendContacts:e.modal.options.AddressBook?e.modal.options.AddressBook.receiveContactsCallback:null}},function(e){return{actions:(0,g.bindActionCreators)({closeModal:y.closeModal},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.getSelectedContacts=n.getSelectedContacts.bind(n),n.handleContactsSend=n.handleContactsSend.bind(n),n.renderButton=n.renderButton.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"getSelectedContacts",value:function(){return this.props.activeRows.length>0?_.default.createElement("div",{className:"dab-footer__action-wrap-counter"},_.default.createElement("span",null,this.props.activeRows.length)," ",this.props.local.ADDRESSBOOK_CONTACTS_SELECTED):null}},{key:"handleContactsSend",value:function(){var e=this;if(this.props.activeRows.length>0){var t=this.props.contacts.filter(function(t){if(-1!==e.props.activeRows.indexOf(t.id))return t});if(this.props.sendContacts){(0,this.props.actions.closeModal)(),this.props.sendContacts(t),this.props.handleCloseModal()}}}},{key:"renderButton",value:function(){var e=(0,v.default)("g-btn","g-btn-primary","g-btn-sm","btn-send",{disabled:0===this.props.activeRows.length});return this.props.sendContacts?_.default.createElement("button",{className:e,onClick:this.handleContactsSend},this.props.mainButtonName||this.props.local.ADDRESSBOOK_SEND_TO):null}},{key:"render",value:function(){return _.default.createElement("div",{className:"dab-footer__action-wrap"},this.getSelectedContacts(),this.renderButton())}}]),t}(m.Component))||r},1368:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_modal=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(29),T=n(9),v=(o(T),n(1271)),y=n(1298);t.AddressBookTitle_modal=(a=(0,S.connect)(function(e){return{searchBy:e.ab.searchBy,local:e.ab.local,searchDialogOpen:e.ab.searchDialogOpen}},function(e){return{actions:(0,g.bindActionCreators)({clearSearch:v.clearSearch},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"render",value:function(){return""===this.props.searchBy||this.props.searchDialogOpen?_.default.createElement("div",{className:"dab-header-title dab-header-title--default"},_.default.createElement("span",null,this.props.local.ADDRESSBOOK_MAIN_NAME,"Â "),_.default.createElement(y.AddressBookCounter,null)):_.default.createElement("div",null,_.default.createElement("div",{className:"dab-header-title dab-header-title--search-results"},this.props.local.ADDRESSBOOK_SEARCH_RESULTS,"Â ",_.default.createElement(y.AddressBookCounter,null)),_.default.createElement("div",{"data-dab":"back",className:"dab-header-back-arrow",onClick:this.handleClearSearch}))}}]),t}(m.Component))||r},1369:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_page_desktop=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7);t.AddressBookTitle_page_desktop=(a=(0,S.connect)(function(e){return{local:e.ab.local}}))(r=function(e){function t(e){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e))}return(0,E.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return _.default.createElement("div",{className:"myac-header"},_.default.createElement("h1",{className:"myac-header-title"},this.props.local.ADDRESSBOOK_MAIN_NAME,"Â "))}}]),t}(m.Component))||r},1370:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddressBookTitle_page_mobile=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1298),T=n(29),v=n(1271);t.AddressBookTitle_page_mobile=(a=(0,S.connect)(function(e){return{local:e.ab.local,searchBy:e.ab.searchBy,searchDialogOpen:e.ab.searchDialogOpen}},function(e){return{actions:(0,T.bindActionCreators)({clearSearch:v.clearSearch},e)}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.handleClearSearch=n.handleClearSearch.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleClearSearch",value:function(){(0,this.props.actions.clearSearch)()}},{key:"render",value:function(){return""===this.props.searchBy||this.props.searchDialogOpen?_.default.createElement("div",{className:"dab-header"},_.default.createElement("div",{className:"dab-header-title dab-header-title--default"},this.props.local.ADDRESSBOOK_MAIN_NAME,"Â ",_.default.createElement(g.AddressBookCounter,null))):_.default.createElement("div",{className:"dab-header dab-header--search-results"},_.default.createElement("div",{className:"dab-header-title dab-header-title--search-results"},this.props.local.ADDRESSBOOK_SEARCH_RESULTS,"Â ",_.default.createElement(g.AddressBookCounter,null)),_.default.createElement("div",{"data-dab":"back",className:"dab-header-back-arrow",onClick:this.handleClearSearch}))}}]),t}(m.Component))||r},1371:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=void 0;var a,r,i=n(30),s=o(i),l=n(3),d=o(l),c=n(1),u=o(c),p=n(2),h=o(p),f=n(5),E=o(f),m=n(4),_=o(m),S=n(0),g=o(S),T=n(1269),v=n(7),y=n(444),O=o(y),C=n(9),D=o(C),M=n(1368),A=n(1365),b=n(1311),R=n(1312),I=n(1321),P=n(1322),N=n(1309),w=n(1310),k=n(1367),L=n(1313),B=n(1314),x=n(1315),Y=n(1316),F=n(1323);t.ModalWindow=(a=(0,v.connect)(function(e){return{mode:e.ab.mode,contactsBackup:e.ab.contactsBackup,searchBy:e.ab.searchBy,searchDialogOpen:e.ab.searchDialogOpen,contacts:e.ab.contacts,loaded:e.ab.loaded,viewType:e.ab.viewType}}))(r=function(e){function t(e){(0,u.default)(this,t);var n=(0,E.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.windowWidth=("undefined"==typeof window?"undefined":(0,s.default)(window))!==T.SYSTEM.ADDRESSBOOK_UNDEFINED?window.innerWidth:T.SYSTEM.ADDRESSBOOK_DEFAULT_WINDOW_INNER_WIDTH,n.windowHeight=("undefined"==typeof window?"undefined":(0,s.default)(window))!==T.SYSTEM.ADDRESSBOOK_UNDEFINED?window.innerHeight:T.SYSTEM.ADDRESSBOOK_DEFAULT_WINDOW_INNER_HEIGHT,n.state={left:Math.ceil(n.windowWidth/2-T.SYSTEM.ADDRESSBOOK_MODAL_WIDTH),top:Math.ceil(n.windowHeight/2-T.SYSTEM.ADDRESSBOOK_MODAL_HEIGHT)},n.renderContentByTypeContent=n.renderContentByTypeContent.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.renderLoader=n.renderLoader.bind(n),n}return(0,_.default)(t,e),(0,h.default)(t,[{key:"renderContentByTypeContent",value:function(e){switch(e){case T.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL:return g.default.createElement(I.AddressBookInitialContent,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook});case T.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:return g.default.createElement(P.AddressBookListContent,{handleCloseModal:this.props.handleCloseModal,controller:this.props.controller,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants});default:return null}}},{key:"renderLoader",value:function(){return this.props.loaded?null:g.default.createElement(F.Loader,null)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"render",value:function(){var e=this.props.mode.type,t=(0,D.default)("dab",{"dab--no-contacts":0===this.props.contactsBackup.length&&this.props.loaded&&""===this.props.searchBy}),n=(0,D.default)("dab-header handle-drag",{"dab-header--search-results":""!==this.props.searchBy&&!this.props.searchDialogOpen}),o=(0,D.default)("ab-body",{"ab-body--no-results":""!==this.props.searchBy&&0===this.props.contacts.length}),a=0,r=0,i=!1,s=this.state,l=s.left,d=s.top;return this.props.viewType===T.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?(l=d=0,i=!0):(a=this.state.left,r=this.state.top,i=!1),g.default.createElement(O.default,{modalClass:t,onStop:this.handleStop,onMouseDown:this.handleClickOnModal,draggableOff:i,handle:".handle-drag",left:a,top:r,style:{left:l,top:d}},g.default.createElement("div",{className:n},g.default.createElement(M.AddressBookTitle_modal,null),g.default.createElement(A.AddressBookClose,{handleCloseModal:this.props.handleCloseModal})),g.default.createElement("div",{className:"height-full"},this.renderLoader(),g.default.createElement("div",{className:"ab"},g.default.createElement("div",{className:"ab-header"},g.default.createElement(b.AddressBookSearch,null),g.default.createElement(R.AddressBookSort,null)),g.default.createElement("div",{className:o},g.default.createElement("div",{className:"ab-content"},this.renderContentByTypeContent(e)),g.default.createElement("div",{className:"no-results-icon"}))),g.default.createElement(N.AddressBookModalAddEdit_modal,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest}),g.default.createElement(w.AddressBookModalSearch,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),g.default.createElement("div",{className:"dab-footer"},g.default.createElement("div",{className:"ab-controls"},g.default.createElement(L.AddressBookBtnAdd,null),g.default.createElement(B.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),g.default.createElement(x.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook,importContacts:this.props.importContacts}),g.default.createElement(Y.AddressBookMobileSearchBtn,null)),g.default.createElement(k.AddressBookSend,{mainButtonName:this.props.mainButtonName,handleCloseModal:this.props.handleCloseModal}))))}}]),t}(S.Component))||r},1372:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SinglePage=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(1269),g=n(7),T=n(9),v=o(T),y=n(40),O=o(y),C=n(1369),D=n(1370),M=n(1298),A=n(1311),b=n(1312),R=n(1321),I=n(1322),P=n(1366),N=n(1309),w=n(1313),k=n(1314),L=n(1315),B=n(1310),x=n(1316),Y=n(1323);t.SinglePage=(a=(0,g.connect)(function(e){return{mode:e.ab.mode,contactsBackup:e.ab.contactsBackup,searchBy:e.ab.searchBy,contacts:e.ab.contacts,addEditContact:e.ab.addEditContact,loaded:e.ab.loaded,viewType:e.ab.viewType}}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.renderContentByTypeContent=n.renderContentByTypeContent.bind(n),n.handleStop=n.handleStop.bind(n),n.handleClickOnModal=n.handleClickOnModal.bind(n),n.renderDialog=n.renderDialog.bind(n),n.renderLoader=n.renderLoader.bind(n),n.generalRender=n.generalRender.bind(n),n.scrollToTop=n.scrollToTop.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"scrollToTop",value:function(){var e=this.refs.abBody;console.log("scrolledElement",e),e.scrollTop=0}},{key:"renderContentByTypeContent",value:function(e){switch(e){case S.SYSTEM.ADDRESSBOOK_MODE_TYPE_INITIAL:return _.default.createElement(R.AddressBookInitialContent,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook});case S.SYSTEM.ADDRESSBOOK_MODE_TYPE_LIST:var t=(0,v.default)("ab-body",{"ab-body--no-results":""!==this.props.searchBy&&0===this.props.contacts.length});return _.default.createElement("div",{className:t,ref:"abBody"},_.default.createElement("div",{className:"ab-content"},_.default.createElement(I.AddressBookListContent,{handleCloseModal:this.props.handleCloseModal,controller:this.props.controller,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,scrollToTop:this.scrollToTop})),_.default.createElement("div",{className:"no-results-icon"}));default:return null}}},{key:"renderDialog",value:function(){return this.props.addEditContact.open?this.props.viewType===S.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?_.default.createElement(N.AddressBookModalAddEdit_modal,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest}):_.default.createElement(O.default,null,_.default.createElement(P.AddressBookModalAddEdit_page,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,handleError:this.props.handleError,closeModal:this.props.closeModal,errorModalName:this.props.errorModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants,apiRest:this.props.apiRest})):null}},{key:"renderLoader",value:function(){return this.props.loaded?null:_.default.createElement(Y.Loader,null)}},{key:"handleStop",value:function(){}},{key:"handleClickOnModal",value:function(){}},{key:"generalRender",value:function(){var e=this.props.mode.type,t=(0,v.default)("myac-main__inner",{"g-wrap-loading":!this.props.loaded});return this.props.viewType===S.SYSTEM.ADDRESSBOOK_MOBILE_VIEW_TYPE?_.default.createElement("main",{className:"myac-main myac-main--ab"},_.default.createElement("div",{className:t},_.default.createElement(D.AddressBookTitle_page_mobile,null),_.default.createElement("div",{className:"ab"},this.renderLoader(),this.renderContentByTypeContent(e)),_.default.createElement("div",{className:"dab-footer"},_.default.createElement("div",{className:"ab-controls"},_.default.createElement(w.AddressBookBtnAdd,null),_.default.createElement(k.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,alertModal:this.props.alertModal,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),_.default.createElement(L.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook,importContacts:this.props.importContacts}),_.default.createElement(x.AddressBookMobileSearchBtn,null))),_.default.createElement(B.AddressBookModalSearch,{controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleCtrlA:this.props.handleCtrlA,handleDelete:this.props.handleDelete,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),this.renderDialog())):_.default.createElement("main",{className:"myac-main myac-main--ab"},_.default.createElement("div",{className:t},_.default.createElement("div",{className:"myac-counter-header clfx"},_.default.createElement(C.AddressBookTitle_page_desktop,null),_.default.createElement(M.AddressBookCounter,null),_.default.createElement(A.AddressBookSearch,null)),_.default.createElement("div",{className:"ab"},_.default.createElement("div",{className:"ab-header"},_.default.createElement("div",{className:"ab-controls"},_.default.createElement(w.AddressBookBtnAdd,null),_.default.createElement(k.AddressBookBtnEdit,{handleDeleteContact:this.props.handleDeleteContact,handleDeleteAllContacts:this.props.handleDeleteAllContacts,controller:this.props.controller,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,handleDelete:this.props.handleDelete,handleCtrlA:this.props.handleCtrlA,alertModal:this.props.alertModal,openModal:this.props.openModal,closeModal:this.props.closeModal,alertModalName:this.props.alertModalName,inputHandler:this.props.inputHandler,controllerConstants:this.props.controllerConstants}),_.default.createElement(L.AddressBookBtnImport,{handleImportGmail:this.props.handleImportGmail,handleImportYahoo:this.props.handleImportYahoo,handleImportHotmail:this.props.handleImportHotmail,handleImportOutlook:this.props.handleImportOutlook})),_.default.createElement(b.AddressBookSort,null)),this.renderLoader(),this.renderContentByTypeContent(e)),this.renderDialog()))}},{key:"render",value:function(){return _.default.createElement("div",{className:"main-content"},_.default.createElement("div",{className:"myac-wrap"},_.default.createElement("div",{className:"container"},_.default.createElement("div",{className:"myac-container"},this.generalRender()))))}}]),t}(m.Component))||r},1373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOCAL={ADDRESSBOOK_MAIN_NAME:"Address Book",ADDRESSBOOK_SEARCH_RESULTS:"Search Results",ADDRESSBOOK_ADD_EDIT_CONTACT:"Add/Edit Contact",ADDRESSBOOK_ADD_CONTACT_TITLE:"Add Contact",ADDRESSBOOK_EDIT_CONTACT_TITLE:"Edit Contact",ADDRESSBOOK_ADD_BUTTON_DIALOG:"Add",ADDRESSBOOK_EDIT_BUTTON_DIALOG:"Save",ADDRESSBOOK_SORT_DIRECTION_AZ:"A-Z",ADDRESSBOOK_SORT_DIRECTION_ZA:"Z-A",ADDRESSBOOK_UPPERCASE_NAME:"Name",ADDRESSBOOK_UPPERCASE_EMAIL:"Email",ADDRESSBOOK_UPPERCASE_PHONE:"Phone",ADDRESSBOOK_UPPERCASE_FAX:"Fax",ADDRESSBOOK_UPPERCASE_LABEL_NAME:"Full Name",ADDRESSBOOK_UPPERCASE_LABEL_EMAIL:"Email Address",ADDRESSBOOK_UPPERCASE_LABEL_PHONE:"Phone Number",ADDRESSBOOK_UPPERCASE_LABEL_FAX:"Fax Number",ADDRESSBOOK_UPPERCASE_SEARCH:"Search",ADDRESSBOOK_BUTTON_CANCEL:"Cancel",ADDRESSBOOK_BUTTON_SAVE:"Save",ADDRESSBOOK_CONTACTS_SELECTED:"contact(s) selected",ADDRESSBOOK_SEND_TO:"Send to",ADDRESSBOOK_SORT_BY:"Sort by:",ADDRESSBOOK_BUTTON_ADD:"Add",ADDRESSBOOK_BUTTON_EDIT:"Edit",ADDRESSBOOK_SELECT_ALL_ITEM:"Select all",ADDRESSBOOK_EDIT_CONTACT:"Edit contact",ADDRESSBOOK_DELETE_CONTACT:"Delete contact",ADDRESSBOOK_BUTTON_IMPORT_CONTACTS:"Import Contacts",ADDRESSBOOK_IMPORT_GMAIL_ITEM:"Gmail",ADDRESSBOOK_IMPORT_HOTMAIL_ITEM:"Hotmail",ADDRESSBOOK_IMPORT_OUTLOOK_ITEM:"Outlook",ADDRESSBOOK_IMPORT_YAHOO_ITEM:"Yahoo",ADDRESSBOOK_IMPORT_CONTACTS_FROM_EMAIL:"Import contacts from email accounts",ADDRESSBOOK_BRING_TOGETHER:"Bring together all the people you know in one place. Click on an icon below to start.",ADDRESSBOOK_CREATE_A_NEW_CONTACT:"Create a new contact",ADDRESSBOOK_CLICK_ON_BUTTON:"Click on button below to enter information of new",ADDRESSBOOK_CLICK_ON_BUTTON_CONTACT:"contact.",ADDRESSBOOK_ADD_CONTACT:"Add Contact",ADDRESSBOOK_LOADING_CONTACTS:"Loading contacts...",ADDRESSBOOK_TITLE_IMPORTED_CONTACTS:"Success",ADDRESSBOOK_TITLE_IMPORT_CONTACTS_FAILS:"We're Sorry",ADDRESSBOOK_TITLE_IMPORT_NEW_CONTACTS_FAILS:"Success",ADDRESSBOOK_IMPORTED_CONTACTS:"Youâ€™ve imported {*NUMBER*} contact(s)",ADDRESSBOOK_IMPORT_CONTACTS_FAILS:"You have no contacts to import",ADDRESSBOOK_IMPORT_NEW_CONTACTS_FAILS:"Your contacts have been updated",ADDRESSBOOK_ERROR_MODAL_DEFAULT_TITLE:"Error!",ADDRESSBOOK_ERROR_MODAL_DEFAULT_CONTENT:"Some error occurred...",ADDRESSBOOK_ERROR_MODAL_DEFAULT_BTNCONFIRMTEXT:"OK",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_TITLE:"Loading error",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_CONTENT:"Loading contacts failed!",ADDRESSBOOK_ERROR_MODAL_SET_CONTACTS_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_TITLE:"Add contact error",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_CONTENT:"Adding contact failed!",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_TITLE:"Edit contact error",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_CONTENT:"Contact edit failed!",ADDRESSBOOK_ERROR_MODAL_EDIT_CONTACT_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_TITLE:"Delete contact error",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_CONTENT:"Contacts deleting failed!",ADDRESSBOOK_ERROR_MODAL_DELETE_SELECTED_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_TITLE:"Delete all contacts error",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_CONTENT:"Contacts deleting failed!",ADDRESSBOOK_ERROR_MODAL_DELETE_ALL_BTNCONFIRMTEXT:"Close",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_TITLE:"Delete contact(s)",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_CONTENT:"Are you sure want delete this contact(s)?",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONFIRMTEXT:"OK",ADDRESSBOOK_ERROR_MODAL_DELETE_CONTACT_BTNCONCELTEXT:"Cancel",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_TITLE:"Double contact",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_CONTENT:"The specified contact already exists!",ADDRESSBOOK_ERROR_MODAL_ADD_CONTACT_DOUBLE_BTNCONFIRMTEXT:"OK"}},1374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1324),a=n(1364),r=n(1375),i=n(1326),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),l=n(1325),d=n(1271);t.default={AddressBook:o.AddressBook,AddressBookButton:a.AddressBookButton,create:r.create,reducers:s,maskMiddleware:l.maskMiddleware,initCustom:d.initCustom,setWsConnect:d.setWsConnect}},1375:function(e,t,n){"use strict";function o(e,t){return(0,i.compose)(i.applyMiddleware.apply(void 0,(0,r.default)(t)))(i.createStore)((0,i.combineReducers)(e),{})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.create=o;var i=n(29)},1376:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(){return{open:!1,actionType:"",name:"",email:"",phone:"",fax:"",picture:"https://devapp.pdffiller.com/img/header/icon_user.svg",external:!0}}function r(){return{name:!0,email:!0,phone:!0,fax:!0}}function i(e,t,n){var o=e.map(function(e){return e.id}),a=t.map(function(e){return o.indexOf(e)});return Math[n].apply(Math,(0,v.default)(a))}function s(e,t,n){var o=e.find(function(e){return e.id===t[0]});return(0,g.default)({},o,{actionType:n,open:!0})}function l(e,t,n){var o=(0,g.default)({},e,{id:t});return delete o.open,delete o.actionType,[].concat((0,v.default)(n),[o])}function d(e,t,n){var o=[].concat((0,v.default)(e)),a=o[o.length-1],r=0;if(t!==a)for(var i=n.length;i--;){var s=n[i].id;s!==a&&s!==t||(1===r?(!e.indexOf(s)>=0&&o.push(s),r=2):r=1),1===r&&!e.indexOf(s)>=0&&o.push(s)}return o}function c(e,t){return e.filter(function(e){return-1===t.indexOf(e.id)})}function u(e,t){var n=(0,g.default)({},e),o=t.findIndex(function(e){return e.id===n.id});return delete n.open,delete n.actionType,[].concat((0,v.default)(t.slice(0,o)),[n],(0,v.default)(t.slice(o+1)))}function p(e,t,n,o){var a=-1===n.indexOf(o)?[o].concat((0,v.default)(n)):[].concat((0,v.default)(n)),r=t.toLowerCase();return e.filter(function(e){return a.map(function(t){return e[t]}).find(function(e){if(e)return-1!==e.toLowerCase().indexOf(r)})})}function h(e,t){return e.filter(function(e){return-1!==t.indexOf(e.id)}).map(function(e){return e.id})}function f(e,t){return!(void 0!==e&&null!==e&&!isNaN(Number(e))&&Number(e)>0)||t.length<Number(e)}function E(e){return void 0!==e&&null!==e&&!isNaN(Number(e))&&Number(e)>0}function m(e,t){return t.length<Number(e)}function _(e,t,n,o,a){var r=n.map(function(e){return e.id}),i=r.indexOf(o),s=r.indexOf(a[a.length-1]);return e=r.filter(function(t){return-1!==e.indexOf(t)}),e=i>=s?e.length>t?e.slice(0,t):e:e.length>t?e.slice(e.length-t,t+1):e}Object.defineProperty(t,"__esModule",{value:!0});var S=n(6),g=o(S),T=n(14),v=o(T);t.makeInitialForm=a,t.makeInitialValidation=r,t.findActivePlace=i,t.makeEditForm=s,t.addContact=l,t.selectedListWithShift=d,t.deleteSelected=c,t.updateContact=u,t.filterContacts=p,t.filterActiveRows=h,t.acceptCheckSelectMax=f,t.acceptSelectMax=E,t.checkSelectMax=m,t.activeListMax=_,t.default={makeInitialForm:a,makeInitialValidation:r,findActivePlace:i,makeEditForm:s,addContact:l,selectedListWithShift:d,deleteSelected:c,updateContact:u,filterActiveRows:h,acceptSelectMax:E,acceptCheckSelectMax:f,checkSelectMax:m,activeListMax:_}},1444:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,s,l=n(3),d=o(l),c=n(1),u=o(c),p=n(5),h=o(p),f=n(2),E=o(f),m=n(4),_=o(m),S=n(0),g=o(S),T=n(7),v=n(1324),y=n(12),O=(a=(0,T.connect)(function(e){return{addressBookApiRest:e.im.addressBookApiRest,viewerId:e.ws.viewerId,apiHash:e.ws.apiHash}},{openModal:y.openModal,closeModal:y.closeModal}))((s=i=function(e){function t(e){(0,u.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return n.handleAddressBookClose=function(){n.props.closeModal(t.getModalId(),{})},n.handleAnotherModalClose=function(e,t){n.props.closeModal(e,t)},n.handleAnotherModalOpen=function(e,t){n.props.openModal(e,t)},n.modalId=t.getModalId(),n}return(0,_.default)(t,e),(0,E.default)(t,null,[{key:"getModalId",value:function(){return"AddressBook"}}]),(0,E.default)(t,[{key:"render",value:function(){return this.props.addressBookApiRest?g.default.createElement(v.AddressBook,{handleCloseModal:this.handleAddressBookClose,openModal:this.handleAnotherModalOpen,closeModal:this.handleAnotherModalClose,apiRest:this.props.addressBookApiRest,errorModalName:"ErrorModalWrapper",alertModalName:"AlertModal",dialogModalName:"DialogModal"}):null}}]),t}(S.Component),i.propTypes={openModal:S.PropTypes.func.isRequired,closeModal:S.PropTypes.func.isRequired,viewerId:S.PropTypes.number.isRequired,addressBookApiRest:S.PropTypes.object,apiHash:S.PropTypes.string},r=s))||r;t.default=O,e.exports=t.default},1445:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,s,l=n(6),d=o(l),c=n(3),u=o(c),p=n(1),h=o(p),f=n(2),E=o(f),m=n(5),_=o(m),S=n(4),g=o(S),T=n(0),v=o(T),y=n(7),O=n(21),C=o(O),D=n(18),M=n(46),A=n(1358),b=n(12),R=n(107),I=o(R),P=n(53),N=n(16),w=n(32),k=n(38),L=n(127),B=(a=(0,y.connect)(function(e){return{fillablePictureSelectingId:e.events.fillablePictureSelectingId,activeElement:e.ws.activeElement,haveWizardFocus:!!(0,L.wizardFocusSelector)(e),wizardActive:(0,C.default)(e,"wizard.wizardActive")}},{activateTool:N.activateTool,updateElement:N.updateElement,openModal:b.openModal,closeModal:b.closeModal,setFillablePictureSelectingId:w.setFillablePictureSelectingId,setActiveElement:N.setActiveElement,deleteGalleryImages:N.deleteGalleryImages,addGalleryImage:N.addGalleryImage,setGhostPos:w.setGhostPos,updateActiveElement:P.updateActiveElement}))((s=i=function(e){function t(e){(0,h.default)(this,t);var n=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.updateMousePos=function(e){n.setState({mousePos:{x:e.clientX,y:e.clientY}})},n.handleSelect=function(e){var o=n.props.fillablePictureSelectingId;if(o)n.props.updateActiveElement(o,e,(0,d.default)({byManager:!0},M.cancellableOpts)),n.props.setFillablePictureSelectingId(!1);else{var a=n.props,r=a.activeElement,i=a.haveWizardFocus;a.wizardActive&&(i&&r&&n.props.setActiveElement(0,!1),n.context.dispatchAction(k.wizard.actions.setWizardActive,!1)),n.props.activateTool(D.elemTypes.image,D.elemSubTypes.none,e)}n.props.closeModal(t.getModalId())},n.handleDelete=function(e){e&&n.props.deleteGalleryImages(e)},n.handleUpload=function(e){e&&n.props.addGalleryImage(e)},n.handleClose=function(){n.props.closeModal(t.getModalId())},n.handleError=function(e){e&&n.props.openModal("AlertModal",(0,d.default)({},e,{modalType:I.default.WARNING,newStyle:!0,hideOverlay:!0,btnConfirmCallback:function(){return n.props.closeModal("AlertModal")}}))},n.modalId=t.getModalId(),n.state={mousePos:{x:0,y:0}},n}return(0,g.default)(t,e),(0,E.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.updateMousePos)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.updateMousePos),this.props.setGhostPos(this.state.mousePos)}},{key:"render",value:function(){return v.default.createElement(A.ImageManagerComponent,{handleClose:this.handleClose,handleDelete:this.handleDelete,handleSelect:this.handleSelect,handleUpload:this.handleUpload,handleError:this.handleError,jsOnly:!0})}}],[{key:"getModalId",value:function(){return"ImageManagerWrapper"}}]),t}(T.Component),i.propTypes={fillablePictureSelectingId:T.PropTypes.oneOfType([T.PropTypes.string,T.PropTypes.bool]).isRequired,activeElement:T.PropTypes.oneOfType([T.PropTypes.string,T.PropTypes.bool]).isRequired,haveWizardFocus:T.PropTypes.bool.isRequired,wizardActive:T.PropTypes.bool.isRequired,updateActiveElement:T.PropTypes.func.isRequired,activateTool:T.PropTypes.func.isRequired,updateElement:T.PropTypes.func.isRequired,openModal:T.PropTypes.func.isRequired,closeModal:T.PropTypes.func.isRequired,setFillablePictureSelectingId:T.PropTypes.func.isRequired,setGhostPos:T.PropTypes.func.isRequired,setActiveElement:T.PropTypes.func.isRequired,deleteGalleryImages:T.PropTypes.func.isRequired,addGalleryImage:T.PropTypes.func.isRequired},i.contextTypes={dispatchAction:T.PropTypes.func.isRequired},r=s))||r;t.default=B,e.exports=t.default},1446:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,s,l=n(6),d=o(l),c=n(3),u=o(c),p=n(1),h=o(p),f=n(2),E=o(f),m=n(5),_=o(m),S=n(4),g=o(S),T=n(0),v=o(T),y=n(7),O=n(21),C=o(O),D=n(10),M=n(18),A=n(1358),b=n(1267),R=n(1286),I=n(12),P=n(107),N=o(P),w=n(32),k=n(46),L=n(53),B=n(22),x=n(16),Y=n(38),F=n(127),U=n(15),H=function(e,t){return t===R.MODE_TYPES.SM_EMAIL?e.email.sendButton:e.sms.sendButton},K=(a=(0,y.connect)(function(e){return{fillablePictureSelectingId:e.events.fillablePictureSelectingId,activeElement:e.ws.activeElement,haveWizardFocus:!!(0,F.wizardFocusSelector)(e),wizardActive:(0,C.default)(e,"wizard.wizardActive",!1),useSigDateStamp:e.ws.defaults.useSigDateStamp,addressBookMainButtonTitle:H((0,B.getSignatureManagerLocale)(e),e.im.mobileSignatureMethod),mobileSignatureMethod:e.im.mobileSignatureMethod}},{activateTool:x.activateTool,updateElement:x.updateElement,openModal:I.openModal,closeModal:I.closeModal,setFillablePictureSelectingId:w.setFillablePictureSelectingId,setActiveElement:x.setActiveElement,deleteGallerySignature:x.deleteGallerySignature,addGallerySignature:x.addGallerySignature,sendPhoneNumber:x.sendPhoneNumber,sendEmail:x.sendEmail,getQrUrl:x.getQrUrl,smGallery:b.smGallery,setGhostPos:w.setGhostPos,getContactEmail:b.getContactEmail,getContactPhoneNumber:b.getContactPhoneNumber,updateActiveElement:L.updateActiveElement}))((s=i=function(e){function t(e){(0,h.default)(this,t);var n=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.getUserName=function(){return""},n.getDateStampObject=function(){return n.props.useSigDateStamp?{dateStamp:(0,U.formatDate)(new Date,D.defaultDateFormat)}:{}},n.updateMousePos=function(e){n.setState({mousePos:{x:e.clientX,y:e.clientY}})},n.handleSelect=function(e){var t=n.props.fillablePictureSelectingId;if(t)n.props.updateActiveElement(t,(0,d.default)({},e,n.getDateStampObject()),(0,d.default)({byManager:!0},k.cancellableOpts)),n.props.setFillablePictureSelectingId(!1);else{var o=n.props,a=o.activeElement,r=o.haveWizardFocus;o.wizardActive&&(r&&a&&n.props.setActiveElement(0,!1),n.context.dispatchAction(Y.wizard.actions.setWizardActive,!1)),n.props.activateTool(M.elemTypes.signature,e.subType,e)}},n.handleSelectSign=function(e){n.handleSelect(e),n.props.closeModal(t.getModalId())},n.handleSelectText=function(e,o){n.props.addGallerySignature(e),n.handleSelect(e),o&&n.props.closeModal(t.getModalId())},n.handleCurves=function(e){e&&(n.props.addGallerySignature(e),n.handleSelectSign(e))},n.handleDelete=function(e){e&&n.props.deleteGallerySignature(e)},n.handleUpload=function(e,t){e&&(t||n.props.smGallery(),n.props.addGallerySignature(e,t))},n.handleClose=function(){n.props.closeModal(t.getModalId())},n.handlePhone=function(e){e&&n.props.sendPhoneNumber(e)},n.handleEmail=function(e){e&&n.props.sendEmail(e)},n.handleOpen=function(e){e&&n.props.getQrUrl()},n.handleError=function(e){e&&n.props.openModal("AlertModal",(0,d.default)({},e,{modalType:N.default.WARNING,newStyle:!0,hideOverlay:!0,btnConfirmCallback:function(){return n.props.closeModal("AlertModal")}}))},n.handleOpenAddressBook=function(e){e&&n.props.openModal("AddressBook",(0,d.default)({},e,{mainButtonName:n.props.addressBookMainButtonTitle,receiveContactsCallback:function(e){return n.handleContactsReceive(e)},cancelDummyControllerCallback:function(){},apiRest:null,alertModal:!0,selectMax:1}))},n.modalId=t.getModalId(),n.state={mousePos:{x:0,y:0}},n}return(0,g.default)(t,e),(0,E.default)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.updateMousePos)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.updateMousePos),this.props.setGhostPos(this.state.mousePos)}},{key:"handleContactsReceive",value:function(e){if(e[0]){var t=e[0];this.props.mobileSignatureMethod===R.MODE_TYPES.SM_EMAIL?this.props.getContactEmail(t):this.props.mobileSignatureMethod===R.MODE_TYPES.SM_SMS&&this.props.getContactPhoneNumber(t)}}},{key:"render",value:function(){return v.default.createElement(A.SignatureManagerComponent,{handleClose:this.handleClose,handleDelete:this.handleDelete,handleUpload:this.handleUpload,handleText:this.handleSelectText,handleSelect:this.handleSelectSign,handleCurves:this.handleCurves,handlePhone:this.handlePhone,handleEmail:this.handleEmail,handleOpen:this.handleOpen,getUserName:this.getUserName,handleError:this.handleError,handleOpenAddressBook:this.handleOpenAddressBook,modalId:this.modalId,jsOnly:!0})}}],[{key:"getModalId",value:function(){return"SignatureManagerWrapper"}}]),t}(T.Component),i.propTypes={fillablePictureSelectingId:T.PropTypes.oneOfType([T.PropTypes.string,T.PropTypes.bool]).isRequired,activeElement:T.PropTypes.oneOfType([T.PropTypes.string,T.PropTypes.bool]).isRequired,haveWizardFocus:T.PropTypes.bool.isRequired,wizardActive:T.PropTypes.bool.isRequired,useSigDateStamp:T.PropTypes.bool.isRequired,addressBookMainButtonTitle:T.PropTypes.string.isRequired,mobileSignatureMethod:T.PropTypes.string.isRequired,updateActiveElement:T.PropTypes.func.isRequired,activateTool:T.PropTypes.func.isRequired,updateElement:T.PropTypes.func.isRequired,openModal:T.PropTypes.func.isRequired,closeModal:T.PropTypes.func.isRequired,setFillablePictureSelectingId:T.PropTypes.func.isRequired,setActiveElement:T.PropTypes.func.isRequired,deleteGallerySignature:T.PropTypes.func.isRequired,addGallerySignature:T.PropTypes.func.isRequired,sendPhoneNumber:T.PropTypes.func.isRequired,sendEmail:T.PropTypes.func.isRequired,getQrUrl:T.PropTypes.func.isRequired,smGallery:T.PropTypes.func.isRequired,setGhostPos:T.PropTypes.func.isRequired,getContactEmail:T.PropTypes.func.isRequired,getContactPhoneNumber:T.PropTypes.func.isRequired},i.contextTypes={dispatchAction:T.PropTypes.func.isRequired},r=s))||r;t.default=K,e.exports=t.default},1447:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerWrapper=t.ImageManagerWrapper=t.AddressBookWrapper=void 0;var a=n(1444),r=o(a),i=n(1445),s=o(i),l=n(1446),d=o(l);t.AddressBookWrapper=r.default,t.ImageManagerWrapper=s.default,t.SignatureManagerWrapper=d.default},1448:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initModule=void 0;var a=n(0),r=o(a),i=n(12),s=n(1267),l=o(s),d=n(1271),c=n(253),u=o(c),p=n(112),h=n(96),f=n(49),E=o(f),m=n(166);t.initModule=function(e,t){var n=e.getState(),o=n.ws.endPoints,a=o.tempStorageUrl,s=o.mobileSignatureLinkUrl,c=o.staticUrl,f=o.imageSignatureUrl,_=o.localeUrl,S=o.appKey,g={baseUrl:f,mobileSignatureLinkUrl:s,oldBaseUrl:a+"/flash",appKey:S,userId:n.ws.viewerId},T={host:E.default.ws.config.host,port:"",userId:n.ws.viewerId},v=a+"api_v3",y={userId:n.ws.viewerId,token:n.ws.apiHash},O=e.dispatch((0,d.initCustom)(v,S,y));e.dispatch(l.default.setApiRest(g)),e.dispatch((0,d.setWsConnect)(T,v)),e.dispatch(l.default.setAddressBookApiRest(O));var C=new u.default("WsEditorLib",{baseUrl:c});C.loadLocaleJSON(function t(n,o){if(n)setTimeout(function(){C.loadLocaleJSON(t,{getParameterByName:p.getParameterByName,url:_})},h.TIME_FOR_REPEATED_REQUEST_CONSTANTS_HELP_STRUCTURE);else{var a=JSON.parse(o.EDITOR_REPORT_PROBLEM_LOCALE),r=JSON.parse(o.IMAGE_MANAGER_LOCALE),i=JSON.parse(o.SIGNATURE_MANAGER_LOCALE);e.dispatch((0,m.mergeLocales)({editor:{reportProblem:a},imageManager:r,signatureManager:i}))}},{getParameterByName:p.getParameterByName,url:_}),e.dispatch(t.actions.initImageSignatureManager()),e.dispatch((0,i.addChildrenToState)(r.default.createElement(t.components.ImageManagerWrapper))),e.dispatch((0,i.addChildrenToState)(r.default.createElement(t.components.SignatureManagerWrapper))),e.dispatch((0,i.addChildrenToState)(r.default.createElement(t.components.AddressBookWrapper)))}},1449:function(e,t,n){"use strict";function o(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,i.watchOpenImageManager)(),(0,i.watchOpenSignatureManager)(),(0,s.watchOperationsSignaturePending)(),(0,s.watchOperationsSignatureAdd)()];case 2:case"end":return e.stop()}},l,this)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(39),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o;var i=n(1450),s=n(1451),l=r.default.mark(o);e.exports=t.default},1450:function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.put)((0,c.galleryImagesList)());case 2:return e.next=4,(0,d.put)(p.openModal.apply(void 0,["ImageManagerWrapper"].concat(t)));case 4:case"end":return e.stop()}},f,this)}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.select)(S);case 2:if(!(o=e.sent)){e.next=9;break}if(o=o.filter(function(e){return"tools.signature.curve"===e.id}),!o[0]){e.next=9;break}return a=o[0],e.next=9,(0,d.put)((0,u.smSetDrawConfig)({lineWidth:a.lineWidth.desktop,color:a.color}));case 9:return e.next=11,(0,d.put)((0,c.gallerySignaturesList)());case 11:return e.next=13,(0,d.put)(p.openModal.apply(void 0,["SignatureManagerWrapper"].concat(t)));case 13:case"end":return e.stop()}},E,this)}function r(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(h.OPEN_IMAGE_MANAGER,o);case 2:case"end":return e.stop()}},m,this)}function i(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(h.OPEN_SIGNATURE_MANAGER,a);case 2:case"end":return e.stop()}},_,this)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(39),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.onOpenImageManager=o,t.onOpenSignatureManager=a,t.watchOpenImageManager=r,t.watchOpenSignatureManager=i;var d=n(52),c=n(16),u=n(1267),p=n(12),h=n(1332),f=l.default.mark(o),E=l.default.mark(a),m=l.default.mark(r),_=l.default.mark(i),S=function(e){return e.ws.defaults&&e.ws.defaults.content}},1451:function(e,t,n){"use strict";function o(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.put)((0,c.smMobileSignLoading)());case 2:case"end":return e.stop()}},p,this)}function a(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.race)({gallery:(0,d.put)((0,c.smGallery)()),list:(0,d.put)((0,u.gallerySignaturesList)())});case 2:case"end":return e.stop()}},h,this)}function r(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(u.actionTypes.ON_OPERATIONS_SIGNATURES_PENDING,o);case 2:case"end":return e.stop()}},f,this)}function i(){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(u.actionTypes.ON_OPERATIONS_SIGNATURES_ADD,a);case 2:case"end":return e.stop()}},E,this)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(39),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.watchOperationsSignaturePending=r,t.watchOperationsSignatureAdd=i;var d=n(52),c=n(1267),u=n(16),p=l.default.mark(o),h=l.default.mark(a),f=l.default.mark(r),E=l.default.mark(i)},1505:function(e,t,n){(function(t){var n=function(){"use strict";function e(n,o,a,r){function s(n,a){if(null===n)return null;if(0==a)return n;var u,p;if("object"!=typeof n)return n;if(e.__isArray(n))u=[];else if(e.__isRegExp(n))u=new RegExp(n.source,i(n)),n.lastIndex&&(u.lastIndex=n.lastIndex);else if(e.__isDate(n))u=new Date(n.getTime());else{if(c&&t.isBuffer(n))return u=new t(n.length),n.copy(u),u;void 0===r?(p=Object.getPrototypeOf(n),u=Object.create(p)):(u=Object.create(r),p=r)}if(o){var h=l.indexOf(n);if(-1!=h)return d[h];l.push(n),d.push(u)}for(var f in n){var E;p&&(E=Object.getOwnPropertyDescriptor(p,f)),E&&null==E.set||(u[f]=s(n[f],a-1))}return u}"object"==typeof o&&(a=o.depth,r=o.prototype,o.filter,o=o.circular);var l=[],d=[],c=void 0!==t;return void 0===o&&(o=!0),void 0===a&&(a=1/0),s(n,a)}function n(e){return Object.prototype.toString.call(e)}function o(e){return"object"==typeof e&&"[object Date]"===n(e)}function a(e){return"object"==typeof e&&"[object Array]"===n(e)}function r(e){return"object"==typeof e&&"[object RegExp]"===n(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return e.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},e.__objToStr=n,e.__isDate=o,e.__isArray=a,e.__isRegExp=r,e.__getRegExpFlags=i,e}();"object"==typeof e&&e.exports&&(e.exports=n)}).call(t,n(260).Buffer)},1506:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(1342),E=o(f),m=n(1285),_=n(1293),S=[9,13,27,38,40,46],g=[8,65],T=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.dispatch=e,n.TAG=m.SYSTEM.ADDRESS_BOOK_CONTROLLER,n.handleKeyUp=n.handleKeyUp.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"handleKeyUp",value:function(e){switch(e.keyCode){case 9:this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_TAB,e));break;case 13:this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_ENTER,e));break;case 27:this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_ESCAPE,e));break;case 38:this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_UP,e));break;case 40:this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_DOWN,e));break;case 46:this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_DELETE,e));break;case 65:e.ctrlKey&&this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_CTRL_A,e))}S.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault()),g.indexOf(e.keyCode)>=0&&e.ctrlKey&&(e.stopPropagation(),e.preventDefault())}},{key:"handleKeyDown",value:function(e){switch(e.keyCode){case 65:e.metaKey&&this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_CTRL_A,e));break;case 8:e.metaKey&&this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_DELETE,e))}S.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault()),g.indexOf(e.keyCode)>=0&&(e.ctrlKey||e.metaKey)&&(e.stopPropagation(),e.preventDefault())}}]),t}(E.default);t.default=T},1507:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(1342),E=o(f),m=n(1285),_=n(1293),S=[13,27],g=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.dispatch=e,n.TAG=m.SYSTEM.ENTER_ESCAPE_CONTROLLER,n.handleKeyUp=n.handleKeyUp.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleClick=n.handleClick.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleScroll=n.handleScroll.bind(n),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"handleKeyUp",value:function(e){switch(e.keyCode){case 13:this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_ENTER,e));break;case 27:this.dispatch((0,_.emit)(m.SYSTEM.EVENT_PRESS_ESCAPE,e))}S.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault())}},{key:"handleKeyDown",value:function(e){S.indexOf(e.keyCode)>=0&&(e.stopPropagation(),e.preventDefault())}},{key:"handleClick",value:function(e){this.dispatch((0,_.emit)(m.SYSTEM.EVENT_CLICK,e))}},{key:"handleTouchStart",value:function(e){this.dispatch((0,_.emit)(m.SYSTEM.EVENT_TOUCH_START,e))}},{key:"handleScroll",value:function(e){this.dispatch((0,_.emit)(m.SYSTEM.EVENT_SCROLL,e))}}]),t}(E.default);t.default=g},1508:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1507),r=o(a),i=n(1506),s=o(i);t.default={EnterEscapeController:r.default,AddressBookController:s.default}},1509:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1537),_=o(m),S={image:f.PropTypes.string.isRequired,handleImage:f.PropTypes.func,handleCropperRectangle:f.PropTypes.func,rectWidth:f.PropTypes.number,rectHeight:f.PropTypes.number,aspect:f.PropTypes.number,rectPositionX:f.PropTypes.number,rectPositionY:f.PropTypes.number,scale:f.PropTypes.number},g={handleImage:function(){},handleCropperRectangle:function(){},rectWidth:50,rectHeight:50,rectPositionX:0,rectPositionY:0,scale:1},T=function(e){function t(e){(0,s.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={rectWidth:e.rectWidth,rectHeight:e.rectHeight,rectPositionX:e.rectPositionX,rectPositionY:e.rectPositionY},n.image=null,n.crop=n.crop.bind(n),n.setImage=n.setImage.bind(n),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"setImage",value:function(e,t){this.image=t,this.crop(e)}},{key:"crop",value:function(e){var t=this.props,n=t.handleImage,o=t.handleCropperRectangle,a=this.image.naturalWidth,r=this.image.naturalHeight,i=e.x/100*a,s=e.y/100*r,l=document.createElement("canvas"),d=l.getContext("2d"),c=e.width/100*a,u=e.height/100*r;c<1&&(c=1),u<1&&(u=1),l.width=c,l.height=u,c===a&&u===r?d.drawImage(this.image,0,0):(d.drawImage(this.image,i,s,c,u,0,0,c,u),o(e)),n(l.toDataURL("image/png"),u,c,"png"),this.setState({rectWidth:e.width,rectHeight:e.height,rectPositionX:e.x,rectPositionY:e.y})}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.aspect,o=e.scale,a=this.state,r=a.rectWidth,i=a.rectHeight,s=a.rectPositionX,l=a.rectPositionY,d={x:s,y:l,width:r,height:i,aspect:n},c={textAlign:"center"};return E.default.createElement("div",{style:c},E.default.createElement(_.default,{src:t,crop:d,scale:o,onComplete:this.crop,onImageLoaded:this.setImage}))}}]),t}(f.Component);t.default=T,T.propTypes=S,T.defaultProps=g},1510:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1532),_=o(m),S=n(1294),g={title:f.PropTypes.string.isRequired,onSelect:f.PropTypes.func.isRequired,inputId:f.PropTypes.string,className:f.PropTypes.string,multiple:f.PropTypes.bool,allowedFileTypes:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.array])},T={onSelect:function(){return{}},title:"Select file",inputId:"dropzoneInput",multiple:!1,allowedFileTypes:"",buttonClasses:""},v=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.inputId,n=e.allowedFileTypes,o=e.title,a=e.onSelect,r=e.multiple,i=e.className,s=e.onClick;return E.default.createElement(_.default,{onClick:s,title:o,onSelect:a,inputId:t,inputType:"file",inputAccept:n,multiple:r,buttonClasses:i})}}],[{key:"getId",value:function(){return S.IDS.button}}]),t}(f.Component);t.default=v,v.propTypes=g,v.defaultProps=T},1511:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1535),_=n(1294),S={content:f.PropTypes.string.isRequired},g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.content,t={__html:(0,m.sanitize)(e)};return E.default.createElement("div",{className:"crop-body__small-title",dangerouslySetInnerHTML:t})}}],[{key:"getId",value:function(){return _.IDS.content}}]),t}(f.Component);t.default=g,g.propTypes=S},1512:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1294),_={title:f.PropTypes.string.isRequired},S=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.title;return E.default.createElement("div",{className:"crop-body__title"},e)}}],[{key:"getId",value:function(){return m.IDS.title}}]),t}(f.Component);t.default=S,S.propTypes=_},1513:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(14),r=o(a),i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(1534),_=o(m),S=n(1344),g=o(S),T=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.validation=new _.default,n.validateFiles=n.validateFiles.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"validateFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.errors,a=n.maxFileSize,i=n.allowedFileTypes,s=n.maxFilesNumber,l=n.checkImage,d=n.imageDimensions,c=n.handleErrors,u=n.handleFilesSelect;this.validation.asyncValidate([].concat((0,r.default)(e),(0,r.default)(t)),{customErrors:o,maxFileSize:a,allowedFileTypes:i,maxFilesNumber:s,checkImage:l,imageDimensions:d}).then(u).catch(c)}}]),t}(g.default);t.default=T,T.propTypes=S.propTypes,T.defaultProps=S.defaultProps},1514:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=(r=a=function(e){function t(){(0,d.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.state={width:1,height:1,isErasing:!1,lastX:-50,lastY:-50},e.canvas=null,e.ctx=null,e.initCanvas=e.initCanvas.bind(e),e.onMouseDown=e.onMouseDown.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e.onMouseMove=e.onMouseMove.bind(e),e.onMouseLeave=e.onMouseLeave.bind(e),e}return(0,E.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.getContext("2d"),this.setImage(),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.thickness,o=t.image;e.thickness!==n?this.setThickness(n):e.image!==o&&this.setImage()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove)}},{key:"setImage",value:function(){var e=this,t=this.props,n=t.image,o=t.thickness,a=new Image;a.onload=function(){e.image=a,e.initCanvas(),e.setThickness(o)},a.crossOrigin="Anonymous",a.src=n}},{key:"onMouseDown",value:function(e){var t=this,n=e.nativeEvent,o=n.offsetX,a=n.offsetY;this.ctx.globalCompositeOperation="destination-out",this.setState({lastX:o,lastY:a,isErasing:!0},function(){return t.erase(o,a)})}},{key:"onMouseUp",value:function(){var e=this.props.handleImage;this.state.isErasing&&(this.ctx.globalCompositeOperation="source-over",e(this.canvas.toDataURL("image/png"),this.canvas.width,this.canvas.height,"png"),this.setState({isErasing:!1}))}},{key:"onMouseMove",value:function(e){var t=this.props.scale,n=this.canvas.getBoundingClientRect(),o=n.left,a=n.top,r=n.right,i=n.bottom,s=e.clientX,l=e.clientY,d=(s-o)/t,c=(l-a)/t;this.erase(d,c),e.clientX>o-100&&e.clientX<r+100&&e.clientY>a-100&&e.clientY<i+100&&this.setState({lastX:d,lastY:c})}},{key:"onMouseLeave",value:function(e){var t=e.nativeEvent,n=t.offsetX,o=t.offsetY;this.erase(n,o)}},{key:"initCanvas",value:function(){var e=this,t=this.image,n=t.width,o=t.height;this.setState({width:n,height:o},function(){e.ctx.clearRect(0,0,n,o),e.ctx.drawImage(e.image,0,0,n,o)})}},{key:"setThickness",value:function(e){this.ctx.lineWidth=e}},{key:"erase",value:function(e,t){if(this.state.isErasing){var n=this.props.thickness,o=this.state,a=o.lastX,r=o.lastY,i=n/2;this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(a,r),this.ctx.lineTo(e,t),this.ctx.stroke()}}},{key:"getEraserStyle",value:function(){var e=this.props.thickness,t=this.state,n=t.lastX,o=t.lastY,a=this.getCursorCorrection();return{width:e+"px",height:e+"px",left:n+2+a.correctionX+"px",top:o-4.5+a.correctionY+"px"}}},{key:"getCursorCorrection",value:function(){switch(this.props.thickness){case 8:return{correctionX:1,correctionY:.95};case 6:return{correctionX:2,correctionY:1.9};case 4:return{correctionX:3,correctionY:2.85};case 2:return{correctionX:4,correctionY:3.8};default:return{correctionX:0,correctionY:0}}}},{key:"render",value:function(){var e=this,t=this.state,n=t.width,o=t.height,a=this.getEraserStyle();return _.default.createElement("div",{className:"has-cursor-eraser"},_.default.createElement("canvas",{className:"has-cursor-eraser__canvas",onMouseDown:this.onMouseDown,onMouseLeave:this.onMouseLeave,width:n,height:o,ref:function(t){return e.canvas=t}}),_.default.createElement("div",{className:"has-cursor-eraser__pointer",style:a}))}}]),t}(m.Component),a.propTypes={image:m.PropTypes.string.isRequired,handleImage:m.PropTypes.func.isRequired,thickness:m.PropTypes.number.isRequired,scale:m.PropTypes.number},a.defaultProps={scale:1},r);t.default=S},1515:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=function(e){var t=e.thickness,n=e.onClick,o=e.isSelected,r={};return o&&(r.backgroundColor="#e5e5e5"),a.default.createElement("div",{className:"sign-m-dropdown-thickness",style:r,onClick:function(){return n(t)}},a.default.createElement("div",{className:"sign-m-dropdown-thickness-item__item sign-m-dropdown-thickness-item--"+t+"px"}))};r.propTypes={thickness:o.PropTypes.number.isRequired,onClick:o.PropTypes.func.isRequired,isSelected:o.PropTypes.bool.isRequired},t.default=r},1516:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(9),s=o(i),l=function(e){var t=e.iconClass,n=e.onClick,o=e.disabled,a={},i=(0,s.default)("sign-m-upload-nav__btn",{disabled:o});return o&&(a.pointerEvents="none"),r.default.createElement("div",{className:i,onClick:n,style:a},r.default.createElement("i",{className:"i "+t}))};l.propTypes={iconClass:a.PropTypes.string.isRequired,onClick:a.PropTypes.func.isRequired,disabled:a.PropTypes.bool},l.defaultProps={disabled:!1},t.default=l},1517:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(9),_=o(m),S={title:f.PropTypes.string.isRequired,iconClass:f.PropTypes.string.isRequired,isActive:f.PropTypes.bool.isRequired,onClick:f.PropTypes.func.isRequired},g=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.iconClass,o=e.isActive,a=e.onClick,r=(0,_.default)("sign-m-upload-nav__tab",{active:o});return E.default.createElement("div",{className:r,onClick:a},E.default.createElement("i",{className:"i "+n}),t)}}]),t}(f.Component);t.default=g,g.propTypes=S},1518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={contrast:40,brightness:35,threshold:120}},1519:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1347),a={mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0,freeScroll:!0,scrollX:!0,zoom:!0,bounce:!1,centerOnZoomOut:!0,zoomMax:o.MAX_ZOOM,zoomMin:0};t.default=a},1520:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={minThreshold:100,maxThreshold:255,defaultThreshold:255,minBrightness:-50,maxBrightness:50,defaultBrightness:0,minContrast:-100,maxContrast:100,defaultContrast:0,thickness:[2,4,6,8,10]}},1521:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={toolbar:{flipRotate:"Flip / Rotate",crop:"Crop",erase:"Erase",adjust:"Adjust"},toolSubBar:{flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",applyCrop:"Apply Crop",thickness:"Thickness",autoAdjust:"Auto"}}},1522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(163),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=(0,a.default)({flipRotate:null,crop:null,erase:null,adjust:null})},1523:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,s,l=n(6),d=o(l),c=n(3),u=o(c),p=n(1),h=o(p),f=n(2),E=o(f),m=n(5),_=o(m),S=n(4),g=o(S),T=n(0),v=o(T),y=n(7),O=n(432),C=n(1509),D=o(C),M=n(1514),A=o(M),b=n(1350),R=o(b),I=n(1530),P=o(I),N=n(1281),w=n(1279),k=o(w),L=(a=(0,y.connect)(function(e){return{selectedTool:e.signatureEditor.selectedTool,src:e.signatureEditor.image,eraserThickness:e.signatureEditor.eraserThickness,scale:e.signatureEditor.scale,imageDimensions:e.signatureEditor.imageDimensions}},{setImage:k.default.setImage,setCroppedImage:k.default.setCroppedImage,saveErasedImage:k.default.saveErasedImage,setImageDimensions:k.default.setImageDimensions,setEditorDimensions:k.default.setEditorDimensions}))((s=i=function(e){function t(e){(0,h.default)(this,t);var n=(0,_.default)(this,(t.__proto__||(0,u.default)(t)).call(this));return n.state={image:null,scrollOptions:(0,d.default)({},N.ISCROLL_CONFIG,{startX:0,startY:0}),imageWidth:n.addPadding(e.imageDimensions.width),imageHeight:n.addPadding(e.imageDimensions.height)},n.scroll=null,n.editorWrapper=null,n.mounted=!1,n.setWrapperReference=n.setWrapperReference.bind(n),n.setScrollReference=n.setScrollReference.bind(n),n.onScrollEnd=n.onScrollEnd.bind(n),n}return(0,g.default)(t,e),(0,E.default)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.setEditorDimensions(),this.drawImage(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.src,o=t.scale,a=t.selectedTool;n&&n!==e.src?this.drawImage():o!==e.scale?this.scaleImage():a!==e.selectedTool&&this.handleToolChange(e.selectedTool)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"setEditorDimensions",value:function(){if(this.editorWrapper){var e=this.props.setEditorDimensions,t=this.editorWrapper;e({width:t.offsetWidth,height:t.offsetHeight})}}},{key:"drawImage",value:function(e){var t=this,n=this.props.src;(0,O.base64ToImage)(n).then(function(n){t.mounted&&t.handleImageUpdate(n,e)})}},{key:"scaleImage",value:function(){if(this.scroll){var e=this.props.scale,t=this.state,n=t.imageWidth,o=t.imageHeight,a=this.getStartPosition(n*e,o*e),r=a.offsetLeft,i=a.offsetTop;this.setState(function(e){return{scrollOptions:(0,d.default)({},e.scrollOptions,{startX:r,startY:i})}}),this.scroll.withIScroll(!0,function(t){return t.zoom(e)})}}},{key:"handleImageUpdate",value:function(e,t){var n=this,o=this.props,a=o.selectedTool,r=o.setImageDimensions,i=o.scale,s=e.width,l=e.height,c=this.addPadding(s),u=this.addPadding(l),p=this.state.scrollOptions,h=p.startX,f=p.startY;if(t){var E=this.getStartPosition(c*i,u*i),m=E.offsetLeft,_=E.offsetTop;h=m,f=_}this.setState(function(t){return{image:e,scrollOptions:(0,d.default)({},t.scrollOptions,{startX:h,startY:f}),imageWidth:c,imageHeight:u}},function(){r({width:s,height:l}),t||a!==N.TOOLS.crop||n.scaleImage()})}},{key:"getStartPosition",value:function(e,t){var n=this.editorWrapper;return{offsetLeft:(n.offsetWidth-e)/2,offsetTop:(n.offsetHeight-t)/2}}},{key:"setWrapperReference",value:function(e){this.editorWrapper=e}},{key:"setScrollReference",value:function(e){this.scroll=e}},{key:"handleToolChange",value:function(e){var t=this.props.selectedTool;t===N.TOOLS.crop&&e!==N.TOOLS.erase||t===N.TOOLS.erase&&e!==N.TOOLS.crop?this.setState(function(e){return{scrollOptions:(0,d.default)({},e.scrollOptions,{disableMouse:!0,disablePointer:!0,disableTouch:!0})}}):(t===N.TOOLS.flipRotate&&e!==N.TOOLS.adjust||t===N.TOOLS.adjust&&e!==N.TOOLS.flipRotate)&&this.setState(function(e){return{scrollOptions:(0,d.default)({},e.scrollOptions,{disableMouse:!1,disablePointer:!1,disableTouch:!1})}})}},{key:"onScrollEnd",value:function(e){this.setState(function(t){return{scrollOptions:(0,d.default)({},t.scrollOptions,{startX:e.x,startY:e.y})}})}},{key:"getScrollWrapperStyle",value:function(){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("version")>-1&&e.indexOf("safari")>-1,n={position:"relative",width:"100%",overflow:"hidden"};return t||(n.height="100%"),n}},{key:"addPadding",value:function(e){return e+2*N.DEFAULT_PADDING}},{key:"renderTool",value:function(){var e=this.props,t=e.selectedTool,n=e.src,o=e.eraserThickness,a=e.saveErasedImage,r=e.setCroppedImage,i=e.scale,s=this.state.image;switch(t){case N.TOOLS.crop:return v.default.createElement(D.default,{image:n,handleImage:r,scale:i});case N.TOOLS.erase:return v.default.createElement(A.default,{image:n,handleImage:a,thickness:o,scale:i});default:return v.default.createElement(R.default,{image:s})}}},{key:"renderScroll",value:function(){var e=this.state,t=e.scrollOptions,n=e.imageWidth,o=e.imageHeight,a=this.getScrollWrapperStyle(),r={width:n+"px",height:o+"px",marginTop:N.DEFAULT_PADDING+"px"};return v.default.createElement(P.default,{options:t,onScrollEnd:this.onScrollEnd,scrollRef:this.setScrollReference,style:a},v.default.createElement("div",{style:r},this.renderTool()))}},{key:"render",value:function(){var e=this.state.image;return v.default.createElement("div",{className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top",ref:this.setWrapperReference},e?this.renderScroll():null)}}]),t}(T.Component),i.propTypes={selectedTool:T.PropTypes.string.isRequired,setImage:T.PropTypes.func.isRequired,setCroppedImage:T.PropTypes.func.isRequired,saveErasedImage:T.PropTypes.func.isRequired,setImageDimensions:T.PropTypes.func.isRequired,setEditorDimensions:T.PropTypes.func.isRequired,eraserThickness:T.PropTypes.number.isRequired,scale:T.PropTypes.number.isRequired,src:T.PropTypes.string.isRequired,imageDimensions:T.PropTypes.object.isRequired},r=s))||r;t.default=L},1524:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(1526),s=o(i),l=n(1525),d=o(l),c=n(1523),u=o(c),p=function(){return r.default.createElement("div",{className:"sign-m-upload-doc-area-wrap"},r.default.createElement(s.default,null),r.default.createElement(d.default,null),r.default.createElement(u.default,null))};t.default=p},1525:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,s,l=n(3),d=o(l),c=n(1),u=o(c),p=n(2),h=o(p),f=n(5),E=o(f),m=n(4),_=o(m),S=n(0),g=o(S),T=n(7),v=n(1533),y=o(v),O=n(1529),C=n(1515),D=o(C),M=n(1281),A=n(1279),b=o(A),R=(a=(0,T.connect)(function(e){return{threshold:e.signatureEditor.threshold,brightness:e.signatureEditor.brightness,contrast:e.signatureEditor.contrast,selectedTool:e.signatureEditor.selectedTool,eraserThickness:e.signatureEditor.eraserThickness,locale:e.signatureEditor.locale.toolSubBar}},{rotateImage:b.default.rotateImage,flipImage:b.default.flipImage,setThickness:b.default.setThickness,applyCrop:b.default.applyCrop,setBrightness:b.default.setBrightness,setContrast:b.default.setContrast,setThreshold:b.default.setThreshold,saveImageState:b.default.saveImageState,autoAdjustImage:b.default.autoAdjustImage}))((s=i=function(e){function t(){(0,u.default)(this,t);var e=(0,E.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return e.state={openThicknessSelector:!1},e.toggleThicknessSelector=e.toggleThicknessSelector.bind(e),e.setThickness=e.setThickness.bind(e),e}return(0,_.default)(t,e),(0,h.default)(t,[{key:"componentWillUnmount",value:function(){this.setState({openThicknessSelector:!1})}},{key:"toggleThicknessSelector",value:function(){this.setState(function(e){return{openThicknessSelector:!e.openThicknessSelector}})}},{key:"setThickness",value:function(e){var t=this.props.setThickness;this.setState({openThicknessSelector:!1},function(){return t(e)})}},{key:"renderAdjustTools",value:function(){var e=this.props,t=e.locale,n=e.setBrightness,o=e.setContrast,a=e.setThreshold,r=e.threshold,i=e.brightness,s=e.contrast,l=e.saveImageState,d=e.autoAdjustImage;return g.default.createElement("div",{className:"sign-m-upload-nav-sub sign-m-upload-nav-sub--adjust show"},g.default.createElement("div",{className:"sign-m-upload-nav-btn-wrap"},g.default.createElement(O.Button,{className:"g-btn-auto-width g-btn-empty--white g-btn-sm",iconLeft:"i-auto",onClick:d},t.autoAdjust)),g.default.createElement("div",{className:"sign-m-upload-nav-rangeslider-wrap"},g.default.createElement(y.default,{iconClass:"i-brightness",min:M.IMAGE_CLEANER_CONFIG.minBrightness,max:M.IMAGE_CLEANER_CONFIG.maxBrightness,value:i,onChange:n,onChangeComplete:l}),g.default.createElement(y.default,{iconClass:"i-contrast",min:M.IMAGE_CLEANER_CONFIG.minContrast,max:M.IMAGE_CLEANER_CONFIG.maxContrast,value:s,onChange:o,onChangeComplete:l}),g.default.createElement(y.default,{iconClass:"i-clear-bg",min:M.IMAGE_CLEANER_CONFIG.minThreshold,max:M.IMAGE_CLEANER_CONFIG.maxThreshold,value:r,onChange:a,onChangeComplete:l})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedTool,o=t.locale,a=t.rotateImage,r=t.flipImage,i=t.applyCrop,s=t.eraserThickness,l=this.state.openThicknessSelector;switch(n){case M.TOOLS.flipRotate:return g.default.createElement("div",{className:"sign-m-upload-nav-sub show"},g.default.createElement(O.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",style:{transition:"initial"},iconLeft:"i-flip-horisontal",onClick:function(){return r({horizontally:!0})}},o.flipHorizontal),g.default.createElement(O.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-flip-vertical",onClick:function(){return r({vertically:!0})}},o.flipVertical),g.default.createElement(O.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-rotate-left",onClick:function(){return a(!1)}},o.rotateLeft),g.default.createElement(O.Button,{className:"g-btn-auto-width g-btn-empty g-btn-empty--white g-btn-sm",iconLeft:"i-rotate-right",onClick:function(){return a(!0)}},o.rotateRight));case M.TOOLS.crop:return g.default.createElement("div",{className:"sign-m-upload-nav-sub show"},g.default.createElement(O.Button,{className:"g-btn-auto-width g-btn-empty--white g-btn-sm sign-m-upload-nav__btn-primary",style:{transition:"initial"},onClick:i},o.applyCrop));case M.TOOLS.erase:var d="g-dropdown-wrap sign-m-dropdown-list-thickness";return l&&(d+=" open"),g.default.createElement("div",{className:"sign-m-upload-nav-sub show"},g.default.createElement("div",{className:d},g.default.createElement(O.Button,{className:"g-btn g-btn-sm g-btn-empty",iconLeft:"i-thinkness",onClick:this.toggleThicknessSelector},o.thickness),g.default.createElement("div",{className:"g-dropdown-popup"},g.default.createElement("div",{className:"g-dropdown-popup__triangle right"}),g.default.createElement("div",{className:"g-dropdown-popup-list"},M.IMAGE_CLEANER_CONFIG.thickness.map(function(t){return g.default.createElement(D.default,{key:t,thickness:t,isSelected:t===s,onClick:e.setThickness})})))));case M.TOOLS.adjust:return this.renderAdjustTools();default:return null}}}]),t}(S.Component),i.propTypes={rotateImage:S.PropTypes.func.isRequired,flipImage:S.PropTypes.func.isRequired,setThickness:S.PropTypes.func.isRequired,applyCrop:S.PropTypes.func.isRequired,setContrast:S.PropTypes.func.isRequired,setThreshold:S.PropTypes.func.isRequired,setBrightness:S.PropTypes.func.isRequired,saveImageState:S.PropTypes.func.isRequired,autoAdjustImage:S.PropTypes.func.isRequired,selectedTool:S.PropTypes.string.isRequired,locale:S.PropTypes.object.isRequired,threshold:S.PropTypes.number.isRequired,brightness:S.PropTypes.number.isRequired,contrast:S.PropTypes.number.isRequired,eraserThickness:S.PropTypes.number.isRequired},r=s))||r;t.default=R},1526:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i,s,l=n(3),d=o(l),c=n(1),u=o(c),p=n(2),h=o(p),f=n(5),E=o(f),m=n(4),_=o(m),S=n(0),g=o(S),T=n(7),v=n(1281),y=n(1517),O=o(y),C=n(1516),D=o(C),M=n(1279),A=o(M),b=function(e,t){return e>t},R=function(e,t){return e<t-1},I=function(e){return e<v.MAX_ZOOM},P=function(e){var t=e.scale,n=e.imageDimensions,o=e.editorDimensions,a=n.height,r=n.width,i=o.height,s=o.width,l=a*t+v.DEFAULT_PADDING,d=r*t+v.DEFAULT_PADDING;return t>1||l>i||d>s},N=(a=(0,T.connect)(function(e){return{selectedTool:e.signatureEditor.selectedTool,locale:e.signatureEditor.locale.toolbar,canUndo:b(e.signatureEditor.currentStep,e.signatureEditor.minStep),canRedo:R(e.signatureEditor.currentStep,e.signatureEditor.totalSteps),canZoomIn:I(e.signatureEditor.scale),canZoomOut:P(e.signatureEditor)}},{selectTool:A.default.selectTool,undoHistory:A.default.undoHistory,redoHistory:A.default.redoHistory,zoomIn:A.default.zoomIn,zoomOut:A.default.zoomOut}))((s=i=function(e){function t(){return(0,u.default)(this,t),(0,E.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,h.default)(t,[{key:"renderControls",value:function(){var e=this.props,t=e.canUndo,n=e.canRedo,o=e.undoHistory,a=e.redoHistory,r=e.zoomIn,i=e.zoomOut,s=e.canZoomIn,l=e.canZoomOut;return g.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--left"},g.default.createElement("div",{className:"sign-m-upload-nav__btn-wrap"},g.default.createElement(D.default,{iconClass:"i-undo",onClick:o,disabled:!t}),g.default.createElement(D.default,{iconClass:"i-redo",onClick:a,disabled:!n}),g.default.createElement(D.default,{iconClass:"i-zoomin",onClick:r,disabled:!s}),g.default.createElement(D.default,{iconClass:"i-zoomout",onClick:i,disabled:!l})))}},{key:"renderMainTools",value:function(){var e=this.props,t=e.selectTool,n=e.selectedTool,o=e.locale,a=[{title:o.flipRotate,id:v.TOOLS.flipRotate,iconClass:"i-rotate-right"},{title:o.crop,id:v.TOOLS.crop,iconClass:"i-crop"},{title:o.erase,id:v.TOOLS.erase,iconClass:"i-erase"},{title:o.adjust,id:v.TOOLS.adjust,iconClass:"i-adjust"}];return g.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--right"},a.map(function(e){return g.default.createElement(O.default,{key:e.id,title:e.title,iconClass:e.iconClass,isActive:e.id===n,onClick:function(){return t(e.id)}})}))}},{key:"render",value:function(){return g.default.createElement("div",{className:"sign-m-upload-nav"},this.renderControls(),this.renderMainTools())}}]),t}(S.Component),i.propTypes={selectedTool:S.PropTypes.string.isRequired,locale:S.PropTypes.object.isRequired,canUndo:S.PropTypes.bool.isRequired,canRedo:S.PropTypes.bool.isRequired,canZoomIn:S.PropTypes.bool.isRequired,canZoomOut:S.PropTypes.bool.isRequired,selectTool:S.PropTypes.func.isRequired,undoHistory:S.PropTypes.func.isRequired,redoHistory:S.PropTypes.func.isRequired,zoomIn:S.PropTypes.func.isRequired,zoomOut:S.PropTypes.func.isRequired},r=s))||r;t.default=N},1527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e.flipHorizontally||e.flipVertically||255!==e.threshold||0!==e.contrast||0!==e.brightness},a=function(e){return{flipHorizontally:e.isFlippedHorizontally,flipVertically:e.isFlippedVertically,contrast:e.contrast,threshold:e.threshold,brightness:e.brightness}},r=function(e){return{contrast:e.contrast,threshold:e.threshold,brightness:e.brightness}};t.default={areParamsDefault:o,getCurrentImageParams:a,getParamsForImageFlipping:r}},1528:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(6),r=o(a),i=n(62),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(1281),h=function(){function e(){(0,d.default)(this,e),this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.originalImage=null,this.editedImageState=null}return(0,u.default)(e,[{key:"init",value:function(e,t){this.clear(),this.saveImageState(e,{},t),this.saveOriginalImage(t)}},{key:"getImageState",value:function(e){var t=this.states[e],n=t.srcIndex,o=(0,s.default)(t,["srcIndex"]);return(0,r.default)({src:this.images[n]},o)}},{key:"getImage",value:function(e){var t=this.states[e];return this.images[t.srcIndex]||this.originalImage}},{key:"getEditedImageState",value:function(){return this.editedImageState}},{key:"saveOriginalImage",value:function(e){this.originalImage=e}},{key:"saveEditedImage",value:function(e,t,n){this.editedImageState={src:e,params:t,dimensions:n}}},{key:"saveImageState",value:function(e,t,n){this.checkFutureSteps(e),n&&this.images.push(n);var o=(0,r.default)({isAutoCleaned:!1,flipHorizontally:!1,flipVertically:!1,contrast:0,brightness:0,threshold:255,srcIndex:this.images.length-1},t);return this.states.push(o),this.availableStatesCount>p.MAX_HISTORY_LENGTH&&this.removeState(),this.states.length}},{key:"checkFutureSteps",value:function(e){var t=e+1,n=this.states.length;if(t<n){var o=this.states.splice(t,n-e),a=o[0].srcIndex,r=this.images.length;r>1&&this.images.splice(a,r-a),this.availableStatesCount-=o.length}else this.availableStatesCount++}},{key:"removeState",value:function(){var e=this.states[this.deletedSteps],t=this.states[this.deletedSteps+1];if(e.srcIndex!==t.srcIndex)for(var n=0;n<e.srcIndex+1;n++)this.images[n]="";delete this.states[this.deletedSteps],this.deletedSteps++}},{key:"restoreInitialState",value:function(){return this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.saveImageState(1,{},this.originalImage),this.originalImage}},{key:"clear",value:function(){this.images=[],this.states=[],this.deletedSteps=0,this.availableStatesCount=0,this.originalImage=null,this.editedImageState=null}}]),e}();t.default=h},1529:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var a=n(6),r=o(a),i=n(20),s=o(i),l=n(3),d=o(l),c=n(1),u=o(c),p=n(2),h=o(p),f=n(5),E=o(f),m=n(4),_=o(m),S=n(0),g=o(S),T=n(9),v=o(T),y=n(70),O=o(y),C=n(1531);(t.Button=function(e){function t(){return(0,u.default)(this,t),(0,E.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,h.default)(t,[{key:"renderIcon",value:function(e){return g.default.createElement(C.Icon,{classNames:e})}},{key:"renderIconLeft",value:function(e){return!!e&&this.renderIcon(e)}},{key:"renderIconRight",value:function(e){return!!e&&this.renderIcon(e)}},{key:"render",value:function(){var e,t=this.props.iconRight,n=this.props.iconLeft;O.default.prefixes.gBtn="g-btn--";var o=(0,v.default)({"g-btn--icon-right":t}),a=(e={},(0,s.default)(e,this.props.pull,this.props.pull),(0,s.default)(e,"name","g-btn"),(0,s.default)(e,"modifiers",["width","type","size"]),(0,s.default)(e,"disabled",["disabled"]),(0,s.default)(e,"classNamesIconRight",o),e);return g.default.createElement("button",(0,r.default)({},this.props,{type:"button",className:(0,O.default)(a,this.props,this.props.className),ref:this.props.confirmButtonRef}),this.renderIconLeft(n),this.props.children,this.renderIconRight(t))}}]),t}(g.default.Component)).propTypes={size:g.default.PropTypes.string,type:g.default.PropTypes.string,width:g.default.PropTypes.string,disabled:g.default.PropTypes.bool,iconRight:g.default.PropTypes.string,iconLeft:g.default.PropTypes.string,pull:g.default.PropTypes.string}},1530:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),r=o(a),i=n(62),s=o(i),l=n(0),d=o(l),c=n(1620),u=o(c),p=n(1536),h=o(p),f=function(e){var t=e.options,n=e.children,o=e.scrollRef,a=(0,s.default)(e,["options","children","scrollRef"]);return d.default.createElement(u.default,(0,r.default)({iScroll:h.default,options:t,ref:o},a),n)};f.propTypes={options:l.PropTypes.object.isRequired,children:l.PropTypes.object.isRequired,scrollRef:l.PropTypes.func.isRequired},t.default=f},1531:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t,n=(0,p.default)("i",(t={},(0,l.default)(t,"i-"+e.classNames,e.classNames&&"i-"!==e.classNames.substr(0,2)),(0,l.default)(t,e.classNames,e.classNames&&"i-"===e.classNames.substr(0,2)),(0,l.default)(t,e.customClass,e.customClass),t));return c.default.createElement("i",(0,i.default)({},e,{className:n}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=o(r),s=n(20),l=o(s);t.Icon=a;var d=n(0),c=o(d),u=n(9),p=o(u);a.propTypes={classNames:c.default.PropTypes.string.isRequired,customClass:c.default.PropTypes.string}},1532:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(446),_={onSelect:f.PropTypes.func.isRequired,title:f.PropTypes.string.isRequired,inputType:f.PropTypes.string.isRequired,multiple:f.PropTypes.bool,inputId:f.PropTypes.string,buttonClasses:f.PropTypes.string,inputAccept:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.array])},S={multiple:!1,inputId:"input-button",buttonClasses:"",inputAccept:""},g=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.handleSelect=e.handleSelect.bind(e),e.openInput=e.openInput.bind(e),e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"handleSelect",value:function(e){(0,this.props.onSelect)(e.target.files)}},{key:"openInput",value:function(){var e=this.props.onClick;e?e():this.input&&this.input.input.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,o=t.inputId,a=t.inputType,r=t.inputAccept,i=t.multiple,s=t.buttonClasses,l="js-fileapi-wrapper "+s;return E.default.createElement("div",{className:"g-form-group-file"},E.default.createElement("div",{className:l,onClick:this.openInput},n),E.default.createElement(m.Input,{value:"",hidden:"hidden",type:a,id:o,ref:function(t){return e.input=t},accept:r,onChange:this.handleSelect,multiple:i,clearOnChange:!0}))}}]),t}(f.Component);t.default=g,g.propTypes=_,g.defaultProps=S},1533:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m={onChange:f.PropTypes.func.isRequired,onChangeComplete:f.PropTypes.func,value:f.PropTypes.number,min:f.PropTypes.number,max:f.PropTypes.number,step:f.PropTypes.number,iconClass:f.PropTypes.string},_={onChangeComplete:function(){},value:0,min:0,max:100,step:1,iconClass:""},S=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.state={limit:0,position:0,min:0,max:0,value:0,correction:0},e.slider=null,e.handleStart=e.handleStart.bind(e),e.handleDrag=e.handleDrag.bind(e),e.handleEnd=e.handleEnd.bind(e),e.handleClick=e.handleClick.bind(e),e.onChangeComplete=e.onChangeComplete.bind(e),e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.min,n=e.max,o=e.value,a=0,r=0,i=void 0;t<0?a+=Math.abs(t):t>0&&(a-=t),t+=a,n+=a,o+=a,i=(n-t)/100,0!==o&&(r=Math.round(o/n*100)),this.setState({min:t,max:n,value:o,correction:a,position:r,step:i})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,o=n.correction,a=n.max,r=this.props.value,i=r+o;if(i!==t.value){var s=Math.round(i/a*100);this.setState({value:i,position:s})}}},{key:"handleStart",value:function(){document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleEnd)}},{key:"handleEnd",value:function(){this.onChangeComplete(),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleEnd)}},{key:"handleClick",value:function(e){this.handleDrag(e),this.onChangeComplete()}},{key:"handleDrag",value:function(e){var t=this.props.onChange,n=this.state,o=n.correction,a=n.step,r=e.touches?e.touches[0].clientX:e.clientX,i=this.slider.getBoundingClientRect(),s=r-i.left,l=0,d=void 0;s>i.width?s=i.width:s<0&&(s=0),s>0&&(l=s/i.width*100),d=Math.round(l*a-o),t(d),this.setState({position:l,value:d})}},{key:"onChangeComplete",value:function(){(0,this.props.onChangeComplete)(this.state.value)}},{key:"renderIcon",value:function(){var e=this.props.iconClass;return e?E.default.createElement("i",{className:"i "+e}):null}},{key:"render",value:function(){var e=this,t=this.state.position,n={cursor:"pointer"},o={width:t+"%"},a={left:t+"%"};return E.default.createElement("div",{className:"sign-m-upload-nav-rangeslider-item"},this.renderIcon(),E.default.createElement("div",{style:n,className:"range-slider",ref:function(t){return e.slider=t},onMouseDown:this.handleClick},E.default.createElement("div",{style:o,className:"range-slider__bar"}),E.default.createElement("div",{className:"range-slider__bar"}),E.default.createElement("div",{style:a,ref:function(t){return e.handle=t},className:"range-slider__handle",onMouseDown:this.handleStart})))}}]),t}(f.Component);t.default=S,S.propTypes=m,S.defaultProps=_},1534:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i=n(6),s=o(i),l=n(85),d=o(l),c=n(1),u=o(c),p=n(2),h=o(p),f=n(443),E=o(f),m=n(448),_=(r=a=function(){function e(){(0,u.default)(this,e)}return(0,h.default)(e,[{key:"validateRealFileType",value:function(t){var n=this.params.allowedFileTypes,o=this.errorsStrings,a=o.WRONG_TYPE,r=o.FILE_CANT_BE_OPENED;return new d.default(function(o,i){var s=new FileReader;s.onloadend=function(r){var s=r.target,l=s.result,d=new Uint8Array(l).subarray(0,4),c=d.reduce(e.formathexSignature,""),u=e.checkType(t.type,c);return u&&n.includes(u.toLowerCase())?o():i({error:a,fileName:t.name,brokenCondition:m.ERRORS.WRONG_TYPE})},s.onerror=function(){return i({error:r,fileName:t.name,brokenCondition:m.ERRORS.FILE_CANT_BE_OPENED})},s.readAsArrayBuffer(t)})}},{key:"validateMaxFileSize",value:function(e){var t=this.params.maxFileSize,n=this.errorsStrings.BIG_FILE;return new d.default(function(o,a){var r=(0,E.default)(t.toLowerCase());return t&&e.size>r?a({error:n,fileName:e.name,brokenCondition:t}):o()})}},{key:"validateFile",value:function(e){return d.default.all([this.validateRealFileType.call(this,e),this.validateMaxFileSize.call(this,e)]).then(function(){return e})}},{key:"getErrorsStrings",value:function(){var e=this.params.customErrors;return e?(0,s.default)({},m.ERRORS,e):m.ERRORS}},{key:"isFileListExist",value:function(){return!this.filesList||!this.filesList.length}},{key:"isFileListLessAllow",value:function(){var e=this.params.maxFilesNumber;return!!(e&&this.filesList.length>e)}},{key:"getValidParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowedFileTypes;return t&&Array.isArray(t)?(0,s.default)({},e,{allowedFileTypes:t.join()}):e}},{key:"asyncValidate",value:function(e,t){var n=this;return this.filesList=e,this.params=this.getValidParams(t),this.errorsStrings=this.getErrorsStrings(),new d.default(function(t,o){var a=n.isFileListExist(),r=n.isFileListLessAllow(),i=n.errorsStrings,s=i.NO_FILES,l=i.TOO_MANY_FILES;return a?o([{error:s,brokenCondition:""}]):r?o([{error:l,brokenCondition:""}]):void d.default.all(Array.prototype.map.call(e,n.validateFile,n)).then(t).catch(function(e){return o([e])})})}}],[{key:"formathexSignature",value:function(e,t,n){return e+(n>0?" ":"")+t.toString(16)}},{key:"checkType",value:function(t,n){return t.endsWith("zip")||t.endsWith("pages")?t:e.HEX_SIGNATURE[n]||t}}]),e}(),a.HEX_SIGNATURE={"25 50 44 46":"PDF","45 6d 70 74":"TXT","ff fe 45 0":"TXT","0 45 0 6d":"TXT","45 0 6d 0":"TXT","ff fe 0 0":"TXT","0 0 0 45":"TXT","45 0 0 0":"TXT","31 32 33":"TXT","ff fe 31 0":"TXT","ef bb bf 31":"TXT","45 78 61 6d":"TXT","4c 6f 72 65":"TXT","ff d8 ff e0":"JPG","89 50 4e 47":"PNG","3c 3f 78 6d":"SVG","3c 68 74 6d":"HTML","50 4b 3 4":"DOC","d0 cf 11 e0":"DOC","d0 a0 d0 b0":"DOC","7b 5c 72 74":"RTF","50 4B 03 04 14 00 06 00":"DOCX PPTX XLSX","D0 CF 11 E0 A1 B1 1A E1":"DOC, DOT, PPS, PPT, XLA, XLS, WIZ"},r);t.default=_},1535:function(e,t,n){"use strict";function o(e){return e&&(0,a.sanitize)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=o;var a=n(48)},1536:function(e,t,n){"use strict";function o(e,t){this.wrapper="string"==typeof e?document.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={zoomMin:1,zoomMax:4,startZoom:1,centerOnZoomOut:!1,resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!d.hasPointer,disableTouch:d.hasPointer||!d.hasTouch,disableMouse:d.hasPointer||d.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===window.onmousedown};for(var n in t)this.options[n]=t[n];this.translateZ=this.options.HWCompositing&&d.hasPerspective?" translateZ(0)":"",this.options.useTransition=d.hasTransition&&this.options.useTransition,this.options.useTransform=d.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?d.ease[this.options.bounceEasing]||d.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.centerOnZoomOut?(this.x=this.options.startX||0,this.y=this.options.startY||0):(this.x=0,this.y=0),this.directionX=0,this.directionY=0,this._events={},this.scale=Math.min(Math.max(this.options.startZoom,this.options.zoomMin),this.options.zoomMax),this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function a(e,t,n){var o=document.createElement("div"),a=document.createElement("div");return!0===n&&(o.style.cssText="position:absolute;z-index:9999",a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),a.className="iScrollIndicator","h"==e?(!0===n&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",a.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(!0===n&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",a.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",t||(o.style.pointerEvents="none"),o.appendChild(a),o}function r(e,t){this.wrapper="string"==typeof t.el?document.querySelector(t.el):t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var n in t)this.options[n]=t[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(d.addEvent(this.indicator,"touchstart",this),d.addEvent(window,"touchend",this)),this.options.disablePointer||(d.addEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this),d.addEvent(window,d.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(d.addEvent(this.indicator,"mousedown",this),d.addEvent(window,"mouseup",this))),this.options.fade){this.wrapperStyle[d.style.transform]=this.scroller.translateZ;var o=d.style.transitionDuration;if(!o)return;this.wrapperStyle[o]=d.isBadAndroid?"0.0001ms":"0ms";var a=this;d.isBadAndroid&&l(function(){"0.0001ms"===a.wrapperStyle[o]&&(a.wrapperStyle[o]="0s")}),this.wrapperStyle.opacity="0"}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},d=function(){function e(e){return!1!==o&&(""===o?e:o+e.charAt(0).toUpperCase()+e.substr(1))}var t={},n=document.createElement("div").style,o=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=0,o=e.length;t<o;t++)if(e[t]+"ransform"in n)return e[t].substr(0,e[t].length-1);return!1}();t.getTime=Date.now||function(){return(new Date).getTime()},t.extend=function(e,t){for(var n in t)e[n]=t[n]},t.addEvent=function(e,t,n,o){e.addEventListener(t,n,!!o)},t.removeEvent=function(e,t,n,o){e.removeEventListener(t,n,!!o)},t.prefixPointerEvent=function(e){return window.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},t.momentum=function(e,t,n,o,a,r){var i=e-t,s=Math.abs(i)/n,l=void 0,d=void 0;return r=void 0===r?6e-4:r,l=e+s*s/(2*r)*(i<0?-1:1),d=s/r,l<o?(l=a?o-a/2.5*(s/8):o,i=Math.abs(l-e),d=i/s):l>0&&(l=a?a/2.5*(s/8):0,i=Math.abs(e)+l,d=i/s),{destination:Math.round(l),duration:d}};var a=e("transform");return t.extend(t,{hasTransform:!1!==a,hasPerspective:e("perspective")in n,hasTouch:"ontouchstart"in window,hasPointer:!(!window.PointerEvent&&!window.MSPointerEvent),hasTransition:e("transition")in n}),t.isBadAndroid=function(){var e=window.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"===(void 0===t?"undefined":(0,s.default)(t))&&t.length>=2)||parseFloat(t[1])<535.19}return!1}(),t.extend(t.style={},{transform:a,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin"),touchAction:e("touchAction")}),t.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},t.addClass=function(e,n){if(!t.hasClass(e,n)){var o=e.className.split(" ");o.push(n),e.className=o.join(" ")}},t.removeClass=function(e,n){if(t.hasClass(e,n)){var o=new RegExp("(^|\\s)"+n+"(\\s|$)","g");e.className=e.className.replace(o," ")}},t.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},t.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*Math.pow(2,-10*e)*Math.sin((e-.055)*(2*Math.PI)/.22)+1}}}),t.tap=function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},t.click=function(e){var t=e.target,n=void 0;/(SELECT|INPUT|TEXTAREA)/i.test(t.tagName)||(n=document.createEvent(window.MouseEvent?"MouseEvents":"Event"),n.initEvent("click",!0,!0),n.view=e.view||window,n.detail=1,n.screenX=t.screenX||0,n.screenY=t.screenY||0,n.clientX=t.clientX||0,n.clientY=t.clientY||0,n.ctrlKey=!!e.ctrlKey,n.altKey=!!e.altKey,n.shiftKey=!!e.shiftKey,n.metaKey=!!e.metaKey,n.button=0,n.relatedTarget=null,n._constructed=!0,t.dispatchEvent(n))},t.getTouchAction=function(e,t){var n="none";return"vertical"===e?n="pan-y":"horizontal"===e&&(n="pan-x"),t&&"none"!=n&&(n+=" pinch-zoom"),n},t.getRect=function(e){if(e instanceof SVGElement){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},t}();o.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),this.options.zoom&&this._initZoom(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=d.eventType[e.type]){if(0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return}if(this.enabled&&(!this.initiated||d.eventType[e.type]===this.initiated)){!this.options.preventDefault||d.isBadAndroid||d.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t=e.touches?e.touches[0]:e,n=void 0;this.initiated=d.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=d.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,n=this.getComputedPosition(),this._translate(Math.round(n.x),Math.round(n.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=t.pageX,this.pointY=t.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&d.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t=e.touches?e.touches[0]:e,n=t.pageX-this.pointX,o=t.pageY-this.pointY,a=d.getTime(),r=void 0,i=void 0,s=void 0,l=void 0;if(this.pointX=t.pageX,this.pointY=t.pageY,this.distX+=n,this.distY+=o,s=Math.abs(this.distX),l=Math.abs(this.distY),!(a-this.endTime>300&&s<10&&l<10)){if(this.directionLocked||this.options.freeScroll||(s>l+this.options.directionLockThreshold?this.directionLocked="h":l>=s+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);o=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);n=0}n=this.hasHorizontalScroll?n:0,o=this.hasVerticalScroll?o:0,r=this.x+n,i=this.y+o,this.options.centerOnZoomOut?((r>0||r<this.maxScrollX)&&(this.options.bounce?r=this.x+n/3:r>0&&this.hasHorizontalScroll&&(r=0)),(i>0||i<this.maxScrollY)&&(this.options.bounce?i=this.y+o/3:i>0&&this.hasVerticalScroll&&(i=0))):((r>0||r<this.maxScrollX)&&(r=this.options.bounce?this.x+n/3:r>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+o/3:i>0?0:this.maxScrollY)),this.directionX=n>0?-1:n<0?1:0,this.directionY=o>0?-1:o<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(r,i),a-this.startTime>300&&(this.startTime=a,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&d.eventType[e.type]===this.initiated){this.options.preventDefault&&!d.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t=(e.changedTouches&&e.changedTouches[0],void 0),n=void 0,o=d.getTime()-this.startTime,a=Math.round(this.x),r=Math.round(this.y),i=Math.abs(a-this.startX),s=Math.abs(r-this.startY),l=0,c="";if(this.isInTransition=0,this.initiated=0,this.endTime=d.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(a,r),!this.moved)return this.options.tap&&d.tap(e,this.options.tap),this.options.click&&d.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&o<200&&i<100&&s<100)return void this._execEvent("flick");if(this.options.momentum&&o<300&&(t=this.hasHorizontalScroll?d.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:a,duration:0},n=this.hasVerticalScroll?d.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},a=t.destination,r=n.destination,l=Math.max(t.duration,n.duration),this.isInTransition=1),this.options.snap){var u=this._nearestSnap(a,r);this.currentPage=u,l=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(a-u.x),1e3),Math.min(Math.abs(r-u.y),1e3)),300),a=u.x,r=u.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing}if(a!=this.x||r!=this.y)return(a>0||a<this.maxScrollX||r>0||r<this.maxScrollY)&&(c=d.ease.quadratic),void this.scrollTo(a,r,l,c);this._execEvent("scrollEnd")}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;if(e=e||0,this.options.centerOnZoomOut){var o=this.scroller.offsetWidth*this.scale,a=this.scroller.offsetHeight*this.scale;this.wrapperWidth>o||this.wrapperWidth<o&&this.x>0?t=(this.wrapperWidth-o)/2:this.x<this.maxScrollX&&(t=this.maxScrollX),this.wrapperHeight>a||this.wrapperHeight<a&&this.y>0?n=(this.wrapperHeight-a)/2:this.y<this.maxScrollY&&(n=this.maxScrollY)}else!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY);return(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){d.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var e=d.getRect(this.scroller);this.scrollerWidth=Math.round(e.width*this.scale),this.scrollerHeight=Math.round(e.height*this.scale),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,d.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[d.style.touchAction]=d.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[d.style.touchAction]||(this.wrapper.style[d.style.touchAction]=d.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=d.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,o){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,o)},scrollTo:function(e,t,n,o){o=o||d.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var a=this.options.useTransition&&o.style;!n||a?(a&&(this._transitionTimingFunction(o.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,o.fn)},scrollToElement:function(e,t,n,o,a){if(e=e.nodeType?e:this.scroller.querySelector(e)){var r=d.offset(e);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top;var i=d.getRect(e),s=d.getRect(this.wrapper);!0===n&&(n=Math.round(i.width/2-s.width/2)),!0===o&&(o=Math.round(i.height/2-s.height/2)),r.left-=n||0,r.top-=o||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,t=void 0===t||null===t||"auto"===t?Math.max(Math.abs(this.x-r.left),Math.abs(this.y-r.top)):t,this.scrollTo(r.left,r.top,t,a)}},_transitionTime:function(e){if(this.options.useTransition){e=e||0;var t=d.style.transitionDuration;if(t){if(this.scrollerStyle[t]=e+"ms",!e&&d.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var n=this;l(function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")})}if(this.indicators)for(var o=this.indicators.length;o--;)this.indicators[o].transitionTime(e)}}},_transitionTimingFunction:function(e){if(this.scrollerStyle[d.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[d.style.transform]="translate("+e+"px,"+t+"px) scale("+this.scale+") "+this.translateZ:(e=Math.round(e),t=Math.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var t=e?d.removeEvent:d.addEvent,n=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(n,"mousemove",this),t(n,"mousecancel",this),t(n,"mouseup",this)),d.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,d.prefixPointerEvent("pointerdown"),this),t(n,d.prefixPointerEvent("pointermove"),this),t(n,d.prefixPointerEvent("pointercancel"),this),t(n,d.prefixPointerEvent("pointerup"),this)),d.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(n,"touchmove",this),t(n,"touchcancel",this),t(n,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e=window.getComputedStyle(this.scroller,null),t=void 0,n=void 0;return this.options.useTransform?(e=e[d.style.transform].split(")")[0].split(", "),t=+(e[12]||e[4]),n=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),n=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){function e(e){if(s.indicators)for(var t=s.indicators.length;t--;)e.call(s.indicators[t])}var t=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,o=[],i=void 0,s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(i={el:a("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(i.el),o.push(i)),this.options.scrollX&&(i={el:a("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(i.el),o.push(i))),this.options.indicators&&(o=o.concat(this.options.indicators));for(var l=o.length;l--;)this.indicators.push(new r(this,o[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){e(function(){this.fade()})}),this.on("scrollCancel",function(){e(function(){this.fade()})}),this.on("scrollStart",function(){e(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){e(function(){this.fade(1,!0)})})),this.on("refresh",function(){e(function(){this.refresh()})}),this.on("destroy",function(){e(function(){this.destroy()}),delete this.indicators})},_initZoom:function(){this.scrollerStyle[d.style.transformOrigin]="0 0"},_zoomStart:function(e){var t=Math.abs(e.touches[0].pageX-e.touches[1].pageX),n=Math.abs(e.touches[0].pageY-e.touches[1].pageY);this.touchesDistanceStart=Math.sqrt(t*t+n*n),this.startScale=this.scale,this.originX=Math.abs(e.touches[0].pageX+e.touches[1].pageX)/2+this.wrapperOffset.left-this.x,this.originY=Math.abs(e.touches[0].pageY+e.touches[1].pageY)/2+this.wrapperOffset.top-this.y,this._execEvent("zoomStart")},_zoom:function(e){if(this.enabled&&d.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t=Math.abs(e.touches[0].pageX-e.touches[1].pageX),n=Math.abs(e.touches[0].pageY-e.touches[1].pageY),o=Math.sqrt(t*t+n*n),a=1/this.touchesDistanceStart*o*this.startScale,r=void 0,i=void 0,s=void 0;this.scaled=!0,a<this.options.zoomMin?a=.5*this.options.zoomMin*Math.pow(2,a/this.options.zoomMin):a>this.options.zoomMax&&(a=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/a)),r=a/this.startScale,i=this.originX-this.originX*r+this.startX,s=this.originY-this.originY*r+this.startY,this.scale=a,this.scrollTo(i,s,0)}},_zoomEnd:function(e){if(this.enabled&&d.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t=void 0,n=void 0,o=void 0;this.isInTransition=0,this.initiated=0,this.scale>this.options.zoomMax?this.scale=this.options.zoomMax:this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.refresh(),o=this.scale/this.startScale,t=this.originX-this.originX*o+this.startX,n=this.originY-this.originY*o+this.startY,t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),n>0?n=0:n<this.maxScrollY&&(n=this.maxScrollY),this.x==t&&this.y==n||this.scrollTo(t,n,this.options.bounceTime),this.scaled=!1,this._execEvent("zoomEnd")}},zoom:function(e,t,n,o){if(e<this.options.zoomMin?e=this.options.zoomMin:e>this.options.zoomMax&&(e=this.options.zoomMax),e!=this.scale){var a=e/this.scale;if(t=void 0===t?this.wrapperWidth/2:t,n=void 0===n?this.wrapperHeight/2:n,o=void 0===o?300:o,t=t+this.wrapperOffset.left-this.x,n=n+this.wrapperOffset.top-this.y,t=t-t*a+this.x,n=n-n*a+this.y,this.scale=e,this.refresh(),this.options.centerOnZoomOut){var r=this.scroller.offsetHeight*e,i=this.scroller.offsetWidth*e,s=(this.wrapperHeight-r)/2,l=(this.wrapperWidth-i)/2;t>0?t=this.hasHorizontalScroll?0:l:t<this.maxScrollX&&(t=this.hasHorizontalScroll?this.maxScrollX:l),n>0?n=this.hasVerticalScroll?0:s:this.wrapperHeight>r?n=s:n<this.maxScrollY&&(n=this.maxScrollY)}else t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),n>0?n=0:n<this.maxScrollY&&(n=this.maxScrollY);this.scrollTo(t,n,o)}},_wheelZoom:function(e){var t=void 0,n=void 0,o=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o._execEvent("zoomEnd")},400),"deltaX"in e)t=-e.deltaY/Math.abs(e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaY/Math.abs(e.wheelDeltaY);else if("wheelDelta"in e)t=e.wheelDelta/Math.abs(e.wheelDelta);else{if(!("detail"in e))return;t=-e.detail/Math.abs(e.wheelDelta)}n=this.scale+t/5,this.zoom(n,e.pageX,e.pageY,0)},_initWheel:function(){d.addEvent(this.wrapper,"wheel",this),d.addEvent(this.wrapper,"mousewheel",this),d.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,d.removeEvent(this.wrapper,"wheel",this),d.removeEvent(this.wrapper,"mousewheel",this),d.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t=void 0,n=void 0,o=void 0,a=void 0,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r.options.snap||r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,n=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,n=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return o=this.currentPage.pageX,a=this.currentPage.pageY,t>0?o--:t<0&&o++,n>0?a--:n<0&&a++,void this.goToPage(o,a);if(o=this.x+Math.round(this.hasHorizontalScroll?t:0),a=this.y+Math.round(this.hasVerticalScroll?n:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=n>0?-1:n<0?1:0,this.options.centerOnZoomOut){if(o>0&&this.hasHorizontalScroll)o=0;else if(o<this.maxScrollX){var i=this.scroller.offsetWidth*this.scale;o=this.wrapperWidth>i?(this.wrapperWidth-i)/2:this.maxScrollX}a>0&&this.hasVerticalScroll?a=0:a<this.maxScrollY&&(a=this.maxScrollY)}else o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY);this.scrollTo(o,a,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e=0,t=void 0,n=0,o=void 0,a=void 0,r=void 0,i=0,s=void 0,l=this.options.snapStepX||this.wrapperWidth,c=this.options.snapStepY||this.wrapperHeight,u=void 0,p=void 0;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(a=Math.round(l/2),r=Math.round(c/2);i>-this.scrollerWidth;){for(this.pages[e]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[e][t]={x:Math.max(i,this.maxScrollX),y:Math.max(s,this.maxScrollY),width:l,height:c,cx:i-a,cy:s-r},s-=c,t++;i-=l,e++}else for(u=this.options.snap,t=u.length,o=-1;e<t;e++)p=d.getRect(u[e]),(0===e||p.left<=d.getRect(u[e-1]).left)&&(n=0,o++),this.pages[n]||(this.pages[n]=[]),i=Math.max(-p.left,this.maxScrollX),s=Math.max(-p.top,this.maxScrollY),a=i-Math.round(p.width/2),r=s-Math.round(p.height/2),this.pages[n][o]={x:i,y:s,width:p.width,height:p.height,cx:a,cy:r},i>this.maxScrollX&&n++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,o=this.pages.length,a=0;if(Math.abs(e-this.absStartX)<this.snapThresholdX&&Math.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<o;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(o=this.pages[n].length;a<o;a++)if(t>=this.pages[0][a].cy){t=this.pages[0][a].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),a==this.currentPage.pageY&&(a+=this.directionY,a<0?a=0:a>=this.pages[0].length&&(a=this.pages[0].length-1),t=this.pages[0][a].y),{x:e,y:t,pageX:n,pageY:a}},goToPage:function(e,t,n,o){o=o||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var a=this.pages[e][t].x,r=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(a-this.x),1e3),Math.min(Math.abs(r-this.y),1e3)),300):n,this.currentPage={x:a,y:r,pageX:e,pageY:t},this.scrollTo(a,r,n,o)},next:function(e,t){var n=this.currentPage.pageX,o=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,o++),this.goToPage(n,o,e,t)},prev:function(e,t){var n=this.currentPage.pageX,o=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,o--),this.goToPage(n,o,e,t)},_initKeys:function(e){var t={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},n=void 0;if("object"===(0,s.default)(this.options.keyBindings))for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in t)this.options.keyBindings[n]=this.options.keyBindings[n]||t[n];d.addEvent(window,"keydown",this),this.on("destroy",function(){d.removeEvent(window,"keydown",this)})},_key:function(e){if(this.enabled){var t=this.options.snap,n=t?this.currentPage.pageX:this.x,o=t?this.currentPage.pageY:this.y,a=d.getTime(),r=this.keyTime||0,i=void 0;switch(this.options.useTransition&&this.isInTransition&&(i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y)),this.isInTransition=!1),this.keyAcceleration=a-r<200?Math.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=t?1:this.wrapperWidth:o+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=t?1:this.wrapperWidth:o-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=t?this.pages.length-1:this.maxScrollX,o=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,o=0;break;case this.options.keyBindings.left:n+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t)return void this.goToPage(n,o);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,o,0),this.keyTime=a}},_animate:function(e,t,n,o){function a(){var p=d.getTime(),h=void 0,f=void 0,E=void 0;if(p>=u)return r.isAnimating=!1,r._translate(e,t),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"));p=(p-c)/n,E=o(p),h=(e-i)*E+i,f=(t-s)*E+s,r._translate(h,f),r.isAnimating&&l(a)}var r=this,i=this.x,s=this.y,c=d.getTime(),u=c+n;this.isAnimating=!0,a()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e),this.options.zoom&&e.touches&&e.touches.length>1&&this._zoomStart(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":if(this.options.zoom&&e.touches&&e.touches[1])return void this._zoom(e);this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":if(this.scaled)return void this._zoomEnd(e);this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":if("zoom"==this.options.wheelAction)return void this._wheelZoom(e);this._wheel(e);break;case"keydown":this._key(e)}}},r.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(d.removeEvent(this.indicator,"touchstart",this),d.removeEvent(this.indicator,d.prefixPointerEvent("pointerdown"),this),d.removeEvent(this.indicator,"mousedown",this),d.removeEvent(window,"touchmove",this),d.removeEvent(window,d.prefixPointerEvent("pointermove"),this),d.removeEvent(window,"mousemove",this),d.removeEvent(window,"touchend",this),d.removeEvent(window,d.prefixPointerEvent("pointerup"),this),d.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=d.getTime(),this.options.disableTouch||d.addEvent(window,"touchmove",this),this.options.disablePointer||d.addEvent(window,d.prefixPointerEvent("pointermove"),this),this.options.disableMouse||d.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t=e.touches?e.touches[0]:e,n=void 0,o=void 0,a=void 0,r=void 0;d.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,n=t.pageX-this.lastPointX,this.lastPointX=t.pageX,o=t.pageY-this.lastPointY,this.lastPointY=t.pageY,a=this.x+n,r=this.y+o,this._pos(a,r),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),d.removeEvent(window,"touchmove",this),d.removeEvent(window,d.prefixPointerEvent("pointermove"),this),d.removeEvent(window,"mousemove",this),this.scroller.options.snap){var t=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-t.x),1e3),Math.min(Math.abs(this.scroller.y-t.y),1e3)),300);this.scroller.x==t.x&&this.scroller.y==t.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=t,this.scroller.scrollTo(t.x,t.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;var t=d.style.transitionDuration;if(t&&(this.indicatorStyle[t]=e+"ms",!e&&d.isBadAndroid)){this.indicatorStyle[t]="0.0001ms";var n=this;l(function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[d.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(d.addClass(this.wrapper,"iScrollBothScrollbars"),d.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(d.removeClass(this.wrapper,"iScrollBothScrollbars"),d.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),d.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=Math.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=Math.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[d.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?Math.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?Math.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,o=e?0:300;e=e?"1":"0",this.wrapperStyle[d.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),o)}}},o.utils=d,t.default=o},1537:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.pageYOffset-n.clientTop,left:t.left+window.pageXOffset-n.clientLeft}}function r(e){var t=void 0,n=void 0;return e.touches?(t=e.touches[0].pageX,n=e.touches[0].pageY):(t=e.pageX,n=e.pageY),{x:t,y:n}}function i(e,t,n){return Math.min(Math.max(e,t),n)}function s(e){return!e.width||!e.height}function l(e){var t=void 0;return"n"===e?t="s":"ne"===e?t="sw":"e"===e?t="w":"se"===e?t="nw":"s"===e?t="n":"sw"===e?t="ne":"w"===e?t="e":"nw"===e&&(t="se"),t}function d(e,t){var n=t.naturalWidth,o=t.naturalHeight,a=n/o,r=(0,O.default)({},e);return r.width?r.height=r.width/r.aspect*a:r.height&&(r.width=r.height*r.aspect/a),r.y+r.height>100&&(r.height=100-r.y,r.width=r.height*r.aspect/a),r.x+r.width>100&&(r.width=100-r.x,r.height=r.width/r.aspect*a),r}Object.defineProperty(t,"__esModule",{value:!0});var c,u,p=n(3),h=o(p),f=n(1),E=o(f),m=n(2),_=o(m),S=n(5),g=o(S),T=n(4),v=o(T),y=n(6),O=o(y),C=n(0),D=o(C),M=n(11),A=o(M),b=(u=c=function(e){function t(e){(0,E.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return n.onDocMouseTouchMove=n.onDocMouseTouchMove.bind(n),n.onDocMouseTouchEnd=n.onDocMouseTouchEnd.bind(n),n.onImageLoad=n.onImageLoad.bind(n),n.onComponentMouseTouchDown=n.onComponentMouseTouchDown.bind(n),n.onComponentKeyDown=n.onComponentKeyDown.bind(n),n.onCropMouseTouchDown=n.onCropMouseTouchDown.bind(n),n.state={crop:n.nextCropState(e.crop)},n}return(0,v.default)(t,e),(0,_.default)(t,[{key:"componentDidMount",value:function(){if(document.addEventListener("mousemove",this.onDocMouseTouchMove),document.addEventListener("touchmove",this.onDocMouseTouchMove),document.addEventListener("mouseup",this.onDocMouseTouchEnd),document.addEventListener("touchend",this.onDocMouseTouchEnd),document.addEventListener("touchcancel",this.onDocMouseTouchEnd),this.imageRef.complete||this.imageRef.readyState)if(0===this.imageRef.naturalWidth){var e=this.imageRef.src;this.imageRef.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.imageRef.src=e}else this.onImageLoad(this.imageRef)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.crop){var n=this.nextCropState(e.crop),o=n.aspect!==this.state.crop.aspect;n.aspect&&(n=d(n,this.imageRef)),this.cropInvalid=s(n),this.setState({crop:n},function(){o&&t.props.onAspectRatioChange(n,t.getPixelCrop(n))})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onDocMouseTouchMove),document.removeEventListener("touchmove",this.onDocMouseTouchMove),document.removeEventListener("mouseup",this.onDocMouseTouchEnd),document.removeEventListener("touchend",this.onDocMouseTouchEnd),document.removeEventListener("touchcancel",this.onDocMouseTouchEnd)}},{key:"onDocMouseTouchMove",value:function(e){if(this.props.onDragStart(),!this.props.disabled&&this.mouseDownOnCrop){e.preventDefault();var t=this.state.crop,n=this.evData,o=r(e);n.isResize&&t.aspect&&n.cropOffset&&(o.y=this.straightenYPath(o.x));var a=o.x-n.clientStartX;n.xDiffPc=a/n.imageWidth*100/this.props.scale;var i=o.y-n.clientStartY;n.yDiffPc=i/n.imageHeight*100/this.props.scale,n.isResize?this.resizeCrop():this.dragCrop(),this.cropInvalid=!1,this.props.onChange(t,this.getPixelCrop(t)),this.setState({crop:t})}}},{key:"onCropMouseTouchDown",value:function(e){if(!this.props.disabled){e.preventDefault();var t=this.state.crop,n=r(e);this.componentRef.focus();var o=e.target.dataset.ord,i="nw"===o||"w"===o||"sw"===o,s="nw"===o||"n"===o||"ne"===o,l=void 0;t.aspect&&(l=a(this.cropSelectRef)),this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:i?t.x+t.width:t.x,cropStartY:s?t.y+t.height:t.y,xInversed:i,yInversed:s,xCrossOver:i,yCrossOver:s,startXCrossOver:i,startYCrossOver:s,isResize:e.target!==this.cropSelectRef,ord:o,cropOffset:l},this.mouseDownOnCrop=!0}}},{key:"onComponentMouseTouchDown",value:function(e){if((e.target===this.imageCopyRef||e.target===this.cropWrapperRef)&&!this.props.disabled){e.preventDefault();var t=!0===this.props.keepSelection?{}:this.state.crop,n=r(e);this.componentRef.focus();var o=a(this.imageRef),i=(n.x-o.left)/this.imageRef.width*100,s=(n.y-o.top)/this.imageRef.height*100;t.x=i/this.props.scale,t.y=s/this.props.scale,t.width=0,t.height=0,this.evData={imageWidth:this.imageRef.width,imageHeight:this.imageRef.height,clientStartX:n.x,clientStartY:n.y,cropStartWidth:t.width,cropStartHeight:t.height,cropStartX:t.x,cropStartY:t.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},this.mouseDownOnCrop=!0,this.setState({newCropIsBeingDrawn:!0})}}},{key:"onComponentKeyDown",value:function(e){var n=this;if(!this.props.disabled){var o=e.which,a=this.state.crop,r=!1;a.width&&a.height&&(o===t.arrowKey.left?(a.x-=t.nudgeStep,r=!0):o===t.arrowKey.right?(a.x+=t.nudgeStep,r=!0):o===t.arrowKey.up?(a.y-=t.nudgeStep,r=!0):o===t.arrowKey.down&&(a.y+=t.nudgeStep,r=!0),r&&(e.preventDefault(),a.x=i(a.x,0,100-a.width),a.y=i(a.y,0,100-a.height),this.setState({crop:a},function(){n.props.onChange(a,n.getPixelCrop(a)),n.props.onComplete(a,n.getPixelCrop(a))})))}}},{key:"onDocMouseTouchEnd",value:function(){if(this.props.onDragEnd(),!this.props.disabled&&this.mouseDownOnCrop){var e=this.state.crop;this.cropInvalid=s(e),this.mouseDownOnCrop=!1,this.props.onComplete(e,this.getPixelCrop(e)),this.setState({newCropIsBeingDrawn:!1})}}},{key:"onImageLoad",value:function(e){var t=this.state.crop;t.aspect&&(t=d(t,e),this.cropInvalid=s(t),this.setState({crop:t})),this.props.onImageLoaded&&this.props.onImageLoaded(t,e,this.getPixelCrop(t))}},{key:"getPixelCrop",value:function(e){return{x:Math.round(this.imageRef.width*(e.x/100)),y:Math.round(this.imageRef.height*(e.y/100)),width:Math.round(this.imageRef.width*(e.width/100)),height:Math.round(this.imageRef.height*(e.height/100))}}},{key:"getCropStyle",value:function(){return{top:this.state.crop.y+"%",left:this.state.crop.x+"%",width:this.state.crop.width+"%",height:this.state.crop.height+"%"}}},{key:"getNewSize",value:function(){var e=this.state.crop,t=this.evData,n=t.imageWidth/t.imageHeight,o=t.cropStartWidth+t.xDiffPc;t.xCrossOver&&(o=Math.abs(o));var a=this.props.maxWidth;this.state.newCropIsBeingDrawn||(a=["nw","w","sw"].indexOf(t.inversedXOrd||t.ord)>-1?t.cropStartX:100-t.cropStartX,a=i(a,100,this.props.maxWidth)),o=i(o,this.props.minWidth,a);var r=void 0;r=e.aspect?o/e.aspect*n:t.cropStartHeight+t.yDiffPc,t.yCrossOver&&(r=Math.min(Math.abs(r),t.cropStartY));var s=this.props.maxHeight;return this.state.newCropIsBeingDrawn||(s=["nw","n","ne"].indexOf(t.inversedYOrd||t.ord)>-1?t.cropStartY:100-t.cropStartY,s=i(s,100,this.props.maxHeight)),r=i(r,this.props.minHeight,s),e.aspect&&(o=i(r*e.aspect/n,0,100)),{width:o,height:r}}},{key:"dragCrop",value:function(){var e=this.state.crop,t=this.evData;e.x=i(t.cropStartX+t.xDiffPc,0,100-e.width),e.y=i(t.cropStartY+t.yDiffPc,0,100-e.height)}},{key:"resizeCrop",value:function(){var e=this.state.crop,n=this.evData,o=n.ord;n.xInversed&&(n.xDiffPc-=2*n.cropStartWidth),n.yInversed&&(n.yDiffPc-=2*n.cropStartHeight);var a=this.getNewSize(),r=n.cropStartX,s=n.cropStartY;n.xCrossOver&&(r=e.x+(e.width-a.width)),n.yCrossOver&&(s=!1===n.lastYCrossover?e.y-a.height:e.y+(e.height-a.height)),e.aspect||t.xyOrds.indexOf(o)>-1?(e.x=i(r,0,100-a.width),e.y=i(s,0,100-a.height),e.width=a.width,e.height=a.height):t.xOrds.indexOf(o)>-1?(e.x=i(r,0,100-a.width),e.width=a.width):t.yOrds.indexOf(o)>-1&&(e.y=i(s,0,100-a.height),e.height=a.height),n.lastYCrossover=n.yCrossOver,this.crossOverCheck()}},{key:"straightenYPath",value:function(e){var t=this.evData,n=t.ord,o=t.cropOffset,a=t.cropStartWidth/100*t.imageWidth,r=t.cropStartHeight/100*t.imageHeight,i=void 0,s=void 0;return"nw"===n||"se"===n?(i=r/a,s=o.top-o.left*i):(i=-r/a,s=o.top+(r-o.left*i)),i*e+s}},{key:"createCropSelection",value:function(){var e=this,t=this.getCropStyle();return D.default.createElement("div",{ref:function(t){return e.cropSelectRef=t},style:t,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown},D.default.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),D.default.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),D.default.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),D.default.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),D.default.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),D.default.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),D.default.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),D.default.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),D.default.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),D.default.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),D.default.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),D.default.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"}))}},{key:"nextCropState",value:function(e){var n=(0,O.default)({},t.defaultCrop,e);return this.cropInvalid=s(n),n}},{key:"crossOverCheck",value:function(){var e=this.evData;(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiffPc<=0)&&(e.xCrossOver=!e.xCrossOver),(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiffPc<=0)&&(e.yCrossOver=!e.yCrossOver);var t=e.xCrossOver!==e.startXCrossOver,n=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!t&&l(e.ord),e.inversedYOrd=!!n&&l(e.ord)}},{key:"render",value:function(){var e=this,t=void 0;this.cropInvalid||(t=this.createCropSelection());var n=["ReactCrop"];return this.state.newCropIsBeingDrawn&&n.push("ReactCrop--new-crop"),this.state.crop.aspect&&n.push("ReactCrop--fixed-aspect"),this.props.disabled&&n.push("ReactCrop--disabled"),D.default.createElement("div",{ref:function(t){return e.componentRef=t},className:n.join(" "),onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,tabIndex:"1",onKeyDown:this.onComponentKeyDown},D.default.createElement("img",{ref:function(t){return e.imageRef=t},crossOrigin:this.props.crossorigin,className:"ReactCrop__image",src:this.props.src,onLoad:function(t){return e.onImageLoad(t.target)},alt:this.props.imageAlt}),D.default.createElement("div",{className:"ReactCrop__crop-wrapper",ref:function(t){return e.cropWrapperRef=t}},D.default.createElement("img",{ref:function(t){return e.imageCopyRef=t},crossOrigin:this.props.crossorigin,className:"ReactCrop__image-copy",src:this.props.src,alt:this.props.imageAlt}),t),this.props.children)}}]),t}(C.Component),c.propTypes={src:A.default.string.isRequired,crop:A.default.shape({x:A.default.number,y:A.default.number,width:A.default.number,height:A.default.number}),imageAlt:A.default.string,minWidth:A.default.number,minHeight:A.default.number,maxWidth:A.default.number,maxHeight:A.default.number,keepSelection:A.default.bool,onChange:A.default.func,onComplete:A.default.func,onImageLoaded:A.default.func,onAspectRatioChange:A.default.func,onDragStart:A.default.func,onDragEnd:A.default.func,disabled:A.default.bool,crossorigin:A.default.string,children:A.default.oneOfType([A.default.arrayOf(A.default.node),A.default.node])},c.defaultProps={crop:void 0,crossorigin:void 0,disabled:!1,imageAlt:"",maxWidth:100,maxHeight:100,minWidth:0,minHeight:0,keepSelection:!1,onChange:function(){},onComplete:function(){},onImageLoaded:function(){},onAspectRatioChange:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0},c.xOrds=["e","w"],c.yOrds=["n","s"],c.xyOrds=["nw","ne","se","sw"],c.arrowKey={left:37,up:38,right:39,down:40},c.nudgeStep=.2,c.defaultCrop={x:0,y:0,width:0,height:0,aspect:!1},u);t.default=b},1539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i=(0,a.createClass)({displayName:"DropdownContent",propTypes:{children:a.PropTypes.node,className:a.PropTypes.string},getDefaultProps:function(){return{className:""}},render:function(){var e=this.props,t=e.children,n=e.className,a=o({},this.props,{className:"dropdown__content "+n});return r.default.createElement("div",a,t)}});t.default=i},1540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i=(0,a.createClass)({displayName:"DropdownTrigger",propTypes:{children:a.PropTypes.node,className:a.PropTypes.string},getDefaultProps:function(){return{className:""}},render:function(){var e=this.props,t=e.children,n=e.className,a=o({},this.props,{className:"dropdown__trigger "+n});return r.default.createElement("a",o({},a,{href:"#dropdown-trigger"}),t)}});t.default=i},1543:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContentInitial=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1544),_=n(1545),S={locale:f.PropTypes.object.isRequired,list:f.PropTypes.array,handleDelete:f.PropTypes.func,handleSelect:f.PropTypes.func,uploaderIcon:f.PropTypes.string,captureIcon:f.PropTypes.string};(t.ImageManagerContentInitial=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"renderBody",value:function(){var e=this.props,t=e.list,n=e.handleDelete,o=e.handleSelect,a=e.locale;return t.length?E.default.createElement(m.ImageManagerContent,{handleDelete:n,handleSelect:o}):E.default.createElement("div",{className:"sign-m-body sign-m-body--images-initial"},E.default.createElement("div",{className:"sign-m-init-text-block"},E.default.createElement("div",{className:"sign-m-init-text-block__title"},a.emptyGallery.title),E.default.createElement("div",{className:"sign-m-init-text-block__text"},a.emptyGallery.text)))}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.uploaderIcon,o=e.captureIcon,a={icon:n,title:t.footerDesktop.uploaderButton.title,desc:t.footerDesktop.uploaderButton.text},r={icon:o,title:t.footerDesktop.captureButton.title,desc:t.footerDesktop.captureButton.text};return E.default.createElement("div",{className:"sign-m-content"},this.renderBody(),E.default.createElement(_.ImageManagerBigFooter,{btnFirst:a,btnSecond:r}))}}]),t}(f.Component)).propTypes=S},1544:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerContent=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1549),_={handleDelete:f.PropTypes.func,handleSelect:f.PropTypes.func};(t.ImageManagerContent=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.state={viewport:{top:0,height:0}},e.setRef=e.setRef.bind(e),e.updateViewport=e.updateViewport.bind(e),e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.updateViewport(),"undefined"!=typeof window&&window.addEventListener("resize",this.updateViewport,!1)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.updateViewport)}},{key:"updateViewport",value:function(){if(this.ref){var e=this.ref.getBoundingClientRect(),t=e.height;this.setState({viewport:{height:t,top:this.ref.scrollTop}})}}},{key:"setRef",value:function(e){this.ref=e}},{key:"render",value:function(){var e=this.props,t=e.handleDelete,n=e.handleSelect,o=this.state.viewport;return E.default.createElement("div",{className:"sign-m-body sign-m-body--images",ref:this.setRef,onScroll:this.updateViewport},E.default.createElement(m.ImageManagerGalleryList,{handleDelete:t,handleSelect:n,viewport:o}))}}]),t}(f.Component)).propTypes=_},1545:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerBigFooter=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(6),m=o(E),_=n(0),S=o(_),g=n(7),T=n(1570),v=n(1267),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),O=n(1287),C=n(1270),D={uploader:_.PropTypes.func,mobileUploader:_.PropTypes.func,capture:_.PropTypes.func,locale:_.PropTypes.object,dropzoneConfig:_.PropTypes.object,deviceProps:_.PropTypes.object,btnFirst:_.PropTypes.object,btnSecond:_.PropTypes.object,webcamEnabled:_.PropTypes.bool};(t.ImageManagerBigFooter=(0,g.connect)(function(e){return(0,m.default)({},e.im.mode,{webcamEnabled:e.im.webcamEnabled,locale:(0,C.getImageManagerLocale)(e).gallery,dropzoneConfig:e.im.dropzoneConfig,deviceProps:e.deviceProps})},{capture:y.capture,mobileUploader:y.mobileUploader,uploader:y.uploader})(a=function(e){function t(){(0,l.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={isDesktop:!0},e.checkScreenSize=e.checkScreenSize.bind(e),e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.checkScreenSize()}},{key:"componentDidMount",value:function(){"undefined"!=typeof window&&window.addEventListener("resize",this.checkScreenSize)}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.removeEventListener("resize",this.checkScreenSize)}},{key:"checkScreenSize",value:function(){if("undefined"!=typeof window){var e=window.innerWidth>0?window.innerWidth:screen.width;this.setState({isDesktop:e>748})}}},{key:"renderUploadBtn",value:function(){var e=this.props,t=e.mobileUploader,n=e.locale,o=e.dropzoneConfig;return S.default.createElement("label",{htmlFor:"crop_upload_file1"},S.default.createElement("div",{className:"sign-m-footer__left"},S.default.createElement("div",{className:"g-btn g-btn-primary g-btn-auto-width g-btn-sm"},n.footerMobile.uploaderButton.title),S.default.createElement("input",{value:"",id:"crop_upload_file1",type:"file",hidden:"hidden",ref:"picture",accept:o.allowedFileTypes,onChange:function(e){return t(e.target.files)}})))}},{key:"renderUploadBtnWithoutDropzone",value:function(){var e=this.props,t=e.uploader,n=e.mobileUploader,o=e.locale,a=e.dropzoneConfig,r=e.deviceProps,i=e.btnFirst;return(0,O.isTabletOrMobile)(r)?S.default.createElement("label",{htmlFor:"crop_upload_file1",className:"sign-m-method-item"},S.default.createElement("div",null,S.default.createElement("div",{className:"sign-m-method-item__icon"},S.default.createElement("div",{className:i.icon})),S.default.createElement("div",{className:"sign-m-method-item-inner"},S.default.createElement("div",{className:"sign-m-method-item__title"},o.footerMobile.uploaderButton.title),S.default.createElement("div",{className:"sign-m-method-item__desc"},o.footerMobile.uploaderButton.text))),S.default.createElement("input",{value:"",id:"crop_upload_file1",type:"file",hidden:"hidden",ref:"picture",accept:a.allowedFileTypes,onChange:function(e){return n(e.target.files)}})):S.default.createElement(T.BigBtn,{type:i,onClick:t})}},{key:"renderCaptureButton",value:function(){var e=this.props,t=e.capture,n=e.webcamEnabled,o=e.deviceProps,a=e.btnSecond;return(0,O.isTabletOrMobile)(o)?null:S.default.createElement(T.BigBtn,{type:a,onClick:t,disabled:!n})}},{key:"render",value:function(){return this.state.isDesktop?S.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation clfx sign-m-mobile-hide"},S.default.createElement("div",{className:"sign-m-method-item-list"},this.renderUploadBtnWithoutDropzone(),this.renderCaptureButton())):S.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation clfx sign-m-mobile-show"},this.renderUploadBtn())}}]),t}(_.Component))||a).propTypes=D},1546:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerFooterCapture=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(6),m=o(E),_=n(0),S=o(_),g=n(7),T=n(1280),v=n(1276),y=n(1267),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),C=n(1270),D={locale:_.PropTypes.object,takeSnapShot:_.PropTypes.func,initial:_.PropTypes.func};(t.ImageManagerFooterCapture=(0,g.connect)(function(e){return(0,m.default)({},e.im.mode,{locale:(0,C.getImageManagerLocale)(e)})},{initial:O.initial})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.initial,n=e.locale,o=e.takeSnapShot;return S.default.createElement("div",{className:"sign-m-footer"},S.default.createElement("div",{className:"sign-m-footer__left"},S.default.createElement(v.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n.backButton)),S.default.createElement("div",{className:"sign-m-footer__right"},S.default.createElement(T.BtnPrimary,{addClass:"g-btn-sm",onClick:o},n.capture.button)))}}]),t}(_.Component))||a).propTypes=D},1547:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerFooter=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1276),_={backButtonText:f.PropTypes.string,onButtonClick:f.PropTypes.func};(t.ImageManagerFooter=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onButtonClick,n=e.backButtonText;return E.default.createElement("div",{className:"sign-m-footer"},E.default.createElement("div",{className:"sign-m-footer__left"},E.default.createElement(m.BtnSecondary,{addClass:"g-btn-sm",onClick:t},n)),E.default.createElement("div",{className:"sign-m-footer__right"}))}}]),t}(f.Component)).propTypes=_},1548:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerGalleryItem=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(439),_=o(m),S=n(1306),g={handleDelete:f.PropTypes.func,handleSelect:f.PropTypes.func,image:f.PropTypes.object,viewport:f.PropTypes.object};(t.ImageManagerGalleryItem=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.state={showImage:!1},e.setRef=e.setRef.bind(e),e.updateImagePosition=e.updateImagePosition.bind(e),e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.viewport&&this.updateImagePosition()}},{key:"componentDidUpdate",value:function(e){var t=this.props.viewport;e.viewport&&!(0,_.default)(t,e.viewport)&&this.updateImagePosition()}},{key:"updateImagePosition",value:function(){if(!this.state.showImage){var e=this.props.viewport;this.ref.offsetTop<=e.top+e.height-60&&this.setState({showImage:!0})}}},{key:"setRef",value:function(e){this.ref=e}},{key:"render",value:function(){var e=this.props,t=e.handleDelete,n=e.handleSelect,o=e.image,a=this.state.showImage;return E.default.createElement("div",{className:"signature-type-list-item signature-type-list-item--image",ref:this.setRef,onClick:function(e){e.stopPropagation(),n(o)}},E.default.createElement("div",{className:"signature-type-item"},E.default.createElement(S.ImageItem,{src:o.url,showImage:a})),E.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--delete",onClick:function(e){e.stopPropagation(),t(o)}},E.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-trash-white"})))}}]),t}(f.Component)).propTypes=g},1549:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageManagerGalleryList=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1548),g={handleDelete:E.PropTypes.func,handleSelect:E.PropTypes.func,list:E.PropTypes.array,viewport:E.PropTypes.object};(t.ImageManagerGalleryList=(0,_.connect)(function(e){return{list:e.ws.images}})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.list,n=e.handleDelete,o=e.handleSelect,a=e.viewport;return m.default.createElement("div",{className:"signature-type-list"},t.map(function(e,t){return m.default.createElement(S.ImageManagerGalleryItem,{key:t,image:e,handleDelete:n,handleSelect:o,viewport:a})}))}}]),t}(E.Component))||a).propTypes=g},1550:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerDraw=void 0;var a,r=n(6),i=o(r),s=n(30),l=o(s),d=n(3),c=o(d),u=n(1),p=o(u),h=n(5),f=o(h),E=n(2),m=o(E),_=n(4),S=o(_),g=n(0),T=o(g),v=n(7),y=n(1361),O=n(1588),C=o(O),D=n(1270),M=n(1575),A=n(1354),b=n(1355),R=n(1574),I=n(1267),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(I),N={title:g.PropTypes.string,btns:g.PropTypes.array,smGallery:g.PropTypes.func,smSignatureStatusChange:g.PropTypes.func,handleCurves:g.PropTypes.func,smSaveSignature:g.PropTypes.func,drawConfig:g.PropTypes.object,signature:g.PropTypes.object,locale:g.PropTypes.object};(t.SignatureManagerDraw=(0,v.connect)(function(e){return{drawConfig:e.im.drawConfig,signatureStatus:e.im.smSignatureStatus,locale:(0,D.getSignatureManagerLocale)(e).draw,signature:e.im.signature}},{smGallery:P.smGallery,smSignatureStatusChange:P.smSignatureStatusChange,smSaveSignature:P.smSaveSignature})(a=function(e){function t(e){(0,p.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return n.state={undo:0,redo:0,width:0,height:0,canUndo:!1,canRedo:!1,showToolbar:!0},n.orientationEndListener=null,n.signature=null,n.undo=n.undo.bind(n),n.redo=n.redo.bind(n),n.clean=n.clean.bind(n),n.resizeCanvas=n.resizeCanvas.bind(n),n.onDrawUpdate=n.onDrawUpdate.bind(n),n.getColor=n.getColor.bind(n),n.setColor=n.setColor.bind(n),n.setLineWidth=n.setLineWidth.bind(n),n.setDrawReference=n.setDrawReference.bind(n),n.setDrawWrapperReference=n.setDrawWrapperReference.bind(n),n.showToolbar=n.showToolbar.bind(n),n.hideToolbar=n.hideToolbar.bind(n),n}return(0,S.default)(t,e),(0,m.default)(t,null,[{key:"touchmoveHandler",value:function(e){e.preventDefault()}}]),(0,m.default)(t,[{key:"componentDidMount",value:function(){this.resizeCanvas(!0),document.addEventListener("touchmove",t.touchmoveHandler),"undefined"!=typeof window&&(this.orientationEndListener=new C.default(this.showToolbar),window.addEventListener("resize",this.resizeCanvas),window.addEventListener("orientationchange",this.hideToolbar))}},{key:"componentWillUpdate",value:function(e){var t=this.props,n=t.smGallery,o=t.smSignatureStatusChange;"saving"===e.signatureStatus&&(this.handleCurves(),o({message:""}),n())}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchmove",t.touchmoveHandler),"undefined"!=typeof window&&(window.removeEventListener("resize",this.resizeCanvas),window.removeEventListener("orientationchange",this.hideToolbar)),this.orientationEndListener&&this.orientationEndListener.removeEventListener()}},{key:"resizeCanvas",value:function(e){var t=this,n="object"===(void 0===e?"undefined":(0,l.default)(e))?300:0;this.draw&&this.draw.sDraw.clear(),setTimeout(function(){var e=t.state,n=e.width,o=e.height,a=t.drawWrapper,r=a.offsetWidth,i=a.offsetHeight;n===r&&o===i||t.setState({width:r,height:i})},n)}},{key:"hideToolbar",value:function(){this.setState({showToolbar:!1})}},{key:"showToolbar",value:function(){this.setState({showToolbar:!0})}},{key:"onDrawUpdate",value:function(){this.draw&&(this.updateCurves(),this.setState({canUndo:this.draw.sDraw.canUndo(),canRedo:this.draw.sDraw.canRedo()}))}},{key:"undo",value:function(){this.draw&&this.setState({undo:this.draw.sDraw.undo()})}},{key:"redo",value:function(){this.draw&&this.setState({redo:this.draw.sDraw.redo()})}},{key:"clean",value:function(){this.draw&&(this.draw.sDraw.clear(),this.updateCurves())}},{key:"setColor",value:function(e){this.draw&&this.draw.sDraw.setColor(e)}},{key:"getColor",value:function(){return this.draw?this.draw.sDraw.getColor():""}},{key:"setLineWidth",value:function(e){this.draw&&this.draw.sDraw.setLineWidth(e)}},{key:"updateCurves",value:function(){(0,this.props.smSaveSignature)(this.draw.sDraw.getCurves())}},{key:"handleCurves",value:function(){var e=this.props,t=e.handleCurves,n=e.signature;t&&n.curves&&n.curves.length&&t((0,i.default)({},n,{subType:"curve"}))}},{key:"setDrawReference",value:function(e){this.draw=e}},{key:"setDrawWrapperReference",value:function(e){this.drawWrapper=e}},{key:"renderCanvas",value:function(){var e=this.props.drawConfig,t=this.state,n=t.width,o=t.height,a=t.showToolbar;if(n&&o){var r=[T.default.createElement(y.SignatureDrawComponent,{key:"SignatureDrawComponent",width:n,height:o,ref:this.setDrawReference,updateDrawElement:this.onDrawUpdate,drawConfig:e,canDraw:!0})];return a&&r.push(T.default.createElement(R.SignatureManagerDrawNavMobile,{key:"SignatureManagerDrawNavMobile",getColor:this.getColor,setColor:this.setColor,setLineWidth:this.setLineWidth,clear:this.clean})),r}return null}},{key:"render",value:function(){var e=this.props,t=e.drawConfig,n=e.locale,o=this.state,a=o.canUndo,r=o.canRedo,i=this.draw?this.draw.sDraw.getCurves():{curves:[]};return T.default.createElement("div",{className:"sign-m-body"},T.default.createElement("div",{className:"sign-m-text sign-m-text--hide-mobile"},n.text),T.default.createElement("div",{className:"sign-m-upload-doc-area-wrap sign-m-upload-doc-area-wrap--draw"},T.default.createElement("div",{className:"sign-m-upload-nav"},T.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--left"},T.default.createElement("div",{className:"sign-m-upload-nav__btn-wrap"},T.default.createElement(M.UploadNavBtn,{disable:!a,classNameIcon:"i-undo",onClick:this.undo}),T.default.createElement(M.UploadNavBtn,{disable:!r,addClass:"sign-m-upload-nav__btn--border-right",classNameIcon:"i-redo",onClick:this.redo}),T.default.createElement(M.UploadNavBtn,{disable:!i.curves.length,classNameIcon:"i-clear",onClick:this.clean},n.cleanButton))),T.default.createElement("div",{className:"sign-m-upload-nav__cell sign-m-upload-nav__cell--right sign-m-upload-nav__cell--pr"},T.default.createElement(A.DropDownColor,{addClass:"g-dropdown-wrap--right g-dropdown-wrap--arrow",getColor:this.getColor,setColor:this.setColor,color:t.color}),T.default.createElement(b.DropDownLineThickness,{addClass:"g-dropdown-wrap--right g-dropdown-wrap--arrow",setLineWidth:this.setLineWidth}))),T.default.createElement("div",{ref:this.setDrawWrapperReference,className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top"},this.renderCanvas())))}}]),t}(g.Component))||a).propTypes=N},1551:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(1572),g=o(S),T=n(1573),v=o(T),y=(r=a=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){(0,this.props.handlePreviewOptionSelection)(1)}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.originalImage,o=e.editedImage,a=e.selectedOption,r=e.handlePreviewOptionSelection;return _.default.createElement("div",{className:"sign-m-upload-doc-area-wrap"},_.default.createElement("div",{className:"sign-m-upload-doc-area sign-m-upload-doc-area--align-top"},_.default.createElement("div",{className:"sign-m-upload-doc-area__title"},t.title),_.default.createElement("div",{className:"sign-m-upload-doc-container"},_.default.createElement("div",{className:"sign-m-upload-doc-container__body"},_.default.createElement("div",{className:"sign-m-upload-doc-container__cell"},_.default.createElement("div",{"data-label-text":t.originalImageLabel,className:"sign-m-upload-example"},_.default.createElement("div",{className:"sign-m-upload-doc__img"},_.default.createElement(g.default,{src:n})))),_.default.createElement("div",{className:"sign-m-upload-doc-container__cell"},_.default.createElement("div",{"data-label-text":t.editedImageLabel,className:"sign-m-upload-example"},_.default.createElement("div",{className:"sign-m-upload-doc__img"},_.default.createElement(g.default,{src:o})))))),_.default.createElement("div",{className:"sign-m-upload-doc-area__radio-block"},_.default.createElement(v.default,{isSelected:1===a,text:t.list.saveAndUse,onClick:function(){return r(1)}}),_.default.createElement(v.default,{isSelected:2===a,text:t.list.needClean,onClick:function(){return r(2)}}),_.default.createElement(v.default,{isSelected:3===a,text:t.list.cleanManually,onClick:function(){return r(3)}}))))}}]),t}(m.Component),a.propTypes={locale:m.PropTypes.object.isRequired,handlePreviewOptionSelection:m.PropTypes.func.isRequired,selectedOption:m.PropTypes.number.isRequired,originalImage:m.PropTypes.string,editedImage:m.PropTypes.string},r);t.default=y},1552:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerEmail=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(6),m=o(E),_=n(0),S=o(_),g=n(7),T=n(1356),v=n(1270),y=n(1268),O=n(1280),C=n(1267),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),M={saveEmail:_.PropTypes.func,setMobileSignatureMethod:_.PropTypes.func,smMobileSignLoading:_.PropTypes.func,sendEmail:_.PropTypes.func,openAddressBook:_.PropTypes.func,locale:_.PropTypes.object,email:_.PropTypes.string};(t.SignatureManagerEmail=(0,g.connect)(function(e){return(0,m.default)({},e.im.modeSignature,{locale:(0,v.getSignatureManagerLocale)(e).email,email:e.im.email})},{smMobileSignLoading:D.smMobileSignLoading,sendEmail:D.sendEmail,setMobileSignatureMethod:D.setMobileSignatureMethod,saveEmail:D.saveEmail})(a=function(e){function t(e){(0,l.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={enableSendButton:!1,isFocused:!1},n.send=n.send.bind(n),n.saveEmail=n.saveEmail.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.checkIfInputIsValid=n.checkIfInputIsValid.bind(n),n.setReference=n.setReference.bind(n),n}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.setMobileSignatureMethod)(y.MODE_TYPES.SM_EMAIL)}},{key:"saveEmail",value:function(e){(0,this.props.saveEmail)(e.target.value.trim())}},{key:"onFocus",value:function(){this.setState({isFocused:!0})}},{key:"onBlur",value:function(){this.setState({isFocused:!1})}},{key:"send",value:function(){var e=this.props,t=e.smMobileSignLoading,n=e.sendEmail;t(),n()}},{key:"checkIfInputIsValid",value:function(e){var t=this,n=this.props.email;setTimeout(function(){t.setState({enableSendButton:n&&n.trim().length>0&&e})},0)}},{key:"setReference",value:function(e){this.input=e}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return S.default.createElement("li",{key:e.id},S.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.email,o=e.openAddressBook,a=this.state.enableSendButton,r=[{rule:"isEmail"}];return S.default.createElement("div",{className:"sign-m-body"},S.default.createElement("p",{className:"sign-m-body-text"},t.text),S.default.createElement("div",{className:"sign-m-container"},S.default.createElement("div",{className:"sign-m__input-block"},S.default.createElement(T.Input,{type:"text",placeholder:t.placeholder,value:n,onChange:this.saveEmail,onFocus:this.onFocus,onBlur:this.onBlur,validations:r,handleIsValid:this.checkIfInputIsValid,handleAddressBookButtonClick:o,ref:this.setReference,validate:!0,autoFocus:!0}),S.default.createElement(O.BtnPrimary,{disabled:!a,onClick:this.send},t.sendButton)),S.default.createElement("div",{className:"sign-m-container-inner"},S.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img"},S.default.createElement("img",{src:y.IMAGES.SM_EMAIL,alt:""})),S.default.createElement("div",{className:"sign-m-container__cell"},S.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),S.default.createElement("ol",{className:"sign-m__list-number"},this.renderList())))))}}]),t}(_.Component))||a).propTypes=M},1553:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerGalleryItem=void 0;var a=n(20),r=o(a),i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(9),g=o(S),T=n(1361),v=n(1306),y=n(1268),O={initialCount:m.PropTypes.number,signature:m.PropTypes.object,handleSelect:m.PropTypes.func,handleDelete:m.PropTypes.func};(t.SignatureManagerGalleryItem=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.state={width:e.initialCount,height:e.initialCount},n.sizeCanvas=n.sizeCanvas.bind(n),n.onClick=n.onClick.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"sizeCanvas",value:function(){this.setState({width:this.refs.itemSignature.offsetWidth,height:this.refs.itemSignature.offsetHeight})}},{key:"renderCurves",value:function(e){var t=this.state,n=t.width,o=t.height;return n>0&&o>0?_.default.createElement(T.SignatureDrawComponent,{width:n,height:o,curves:e.curves,key:e.id}):null}},{key:"renderItemType",value:function(e){var t={fontSize:e.fontSize+"px"};switch(e.subType){case y.SUB_TYPES.text:return _.default.createElement("div",{className:this.getClassNameTitle(),style:t,key:e.id},e.text);case y.SUB_TYPES.curve:return this.renderCurves(e);case y.SUB_TYPES.image:return _.default.createElement(v.ImageItem,{src:e.url,key:e.id});case y.SUB_TYPES.initials:return _.default.createElement("div",{className:this.getClassNameTitle(),style:t,key:e.id},e.text);default:return null}}},{key:"getClassNameTitle",value:function(){var e=this.props.signature,t="";switch(e.fontFamily){case y.FONTS.JELLYCA.original:t=y.FONTS.JELLYCA.custom;break;case y.FONTS.PETRA.original:t=y.FONTS.PETRA.custom;break;case y.FONTS.SIGNATURE.original:t=y.FONTS.SIGNATURE.custom;break;default:t=""}return(0,g.default)((0,r.default)({"signature-type-list-item__title":!0},t,!0))}},{key:"componentDidMount",value:function(){this.sizeCanvas()}},{key:"onClick",value:function(e){var t=this.props,n=t.signature,o=t.handleSelect;e.stopPropagation(),o(n)}},{key:"render",value:function(){var e=this.props,t=e.signature,n=e.handleDelete,o=void 0;o=t.type===y.SUB_TYPES.initials?"signature-type-list-item--initials":"signature-type-list-item--signatures";var a=(0,g.default)((0,r.default)({"signature-type-list-item":!0},o,!0));return _.default.createElement("div",{key:t.id,className:a,onClick:this.onClick},_.default.createElement("div",{className:"signature-type-item",ref:"itemSignature"},this.renderItemType(t)),_.default.createElement("div",{className:"signature-type-list-item__btn signature-type-list-item__btn--delete",onClick:function(e){e.stopPropagation(),n(t)}},_.default.createElement("div",{className:"signature-type-list-item-icon sign-m-svg-icon-trash-white"})))}}]),t}(m.Component)).propTypes=O},1554:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerGalleryList=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1553),g=n(1305),T=n(1267),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(T),y=n(1268),O=n(1270),C={list:E.PropTypes.array,restrictSubTypes:E.PropTypes.array,handleSelect:E.PropTypes.func,handleDelete:E.PropTypes.func,smGallery:E.PropTypes.func,mobileSignatureResend:E.PropTypes.func,locale:E.PropTypes.object,loadState:E.PropTypes.bool,showResend:E.PropTypes.bool};(t.SignatureManagerGalleryList=(0,_.connect)(function(e){return{list:e.ws.signatures,loadState:e.im.modeSignature.loadState,showResend:e.im.modeSignature.showResend,locale:(0,O.getSignatureManagerLocale)(e)}},{smGallery:v.smGallery,mobileSignatureResend:v.mobileSignatureResend})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"renderList",value:function(){var e=this.props,t=e.list,n=e.handleSelect,o=e.handleDelete,a=e.restrictSubTypes;return t.length&&a&&a.length?t.map(function(e,t){return-1!==a.indexOf(e.subType)||e.subType===y.SUB_TYPES.text&&-1!==a.indexOf(y.SUB_TYPES.initials)?m.default.createElement(S.SignatureManagerGalleryItem,{signature:e,key:t,handleSelect:n,handleDelete:o}):null}):t.length?t.map(function(e,t){return m.default.createElement(S.SignatureManagerGalleryItem,{signature:e,key:t,handleSelect:n,handleDelete:o})}):null}},{key:"getLoaderButtons",value:function(){var e=this.props,t=e.smGallery,n=e.showResend,o=e.locale,a=e.mobileSignatureResend,r=[{btnDispatch:function(){return t()},btnText:o.backButton}];return n&&r.push({btnDispatch:function(){return a()},btnText:o.uploading.resendButton}),r}},{key:"renderBody",value:function(){return m.default.createElement("div",{className:"sign-m-body sign-m-body--signatures-list sign-m-body--padding-0"},m.default.createElement("div",{className:"clrx"},m.default.createElement("div",{className:"signature-type-list"},this.renderList())))}},{key:"renderLoader",value:function(){var e=this.props.locale,t=this.getLoaderButtons();return m.default.createElement("div",{className:"loading-overlay"},m.default.createElement(g.Loader,{title:e.uploading.awaitingText,btns:t}))}},{key:"render",value:function(){return this.props.loadState?m.default.createElement("div",null,this.renderLoader(),this.renderBody()):this.renderBody()}}]),t}(E.Component))||a).propTypes=C},1555:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodItem=void 0;var a,r=n(30),i=o(r),s=n(3),l=o(s),d=n(1),c=o(d),u=n(2),p=o(u),h=n(5),f=o(h),E=n(4),m=o(E),_=n(6),S=o(_),g=n(0),T=o(g),v=n(9),y=o(v),O=n(7),C=n(1267),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),M=n(1268),A=n(1287),b=n(1270),R={item:g.PropTypes.object,deviceProps:g.PropTypes.object,locale:g.PropTypes.object,dropzoneConfig:g.PropTypes.object,smGallery:g.PropTypes.func,smTypeSignature:g.PropTypes.func,smQR:g.PropTypes.func,smSMS:g.PropTypes.func,smEmail:g.PropTypes.func,smDraw:g.PropTypes.func,smMobileUploader:g.PropTypes.func,smUploader:g.PropTypes.func,smCapture:g.PropTypes.func,onLoadFilesSelect:g.PropTypes.func};(t.SignatureManagerMethodItem=(0,O.connect)(function(e){return(0,S.default)({},e.im.modeSignature,{locale:(0,b.getSignatureManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,deviceProps:e.deviceProps})},{smGallery:D.smGallery,smQR:D.smQR,smSMS:D.smSMS,smEmail:D.smEmail,smDraw:D.smDraw,smUploader:D.smUploader,smMobileUploader:D.smMobileUploader,smTypeSignature:D.smTypeSignature,smCapture:D.smCapture})(a=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"strip",value:function(e){var t=this.props.item,n=(0,i.default)(t.strip),o=void 0;return o="className"===e?"string"===n||0:"string"===n?t.strip:"",o}},{key:"funcTypeDispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props,n=t.item,o=t.deviceProps,a=t.smGallery,r=t.smTypeSignature,i=t.smQR,s=t.smSMS,l=t.smEmail,d=t.smDraw,c=t.smMobileUploader,u=t.smUploader,p=t.smCapture,h=t.onLoadFilesSelect;if(!n.disabled)switch(n.typeDispatch){case M.MODE_TYPES.SM_GALLERY:return a();case M.MODE_TYPES.TYPE_SIGNATURE:return r();case M.MODE_TYPES.SM_QR:return i();case M.MODE_TYPES.SM_SMS:return s();case M.MODE_TYPES.SM_EMAIL:return l();case M.MODE_TYPES.SM_DRAW:return d();case M.MODE_TYPES.SM_UPLOADER:return(0,A.isTabletOrMobile)(o)?(h(e),c()):u();case M.MODE_TYPES.SM_CAPTURE:return p();default:return!1}}},{key:"render",value:function(){var e=this,t=this.props,n=t.locale,o=t.dropzoneConfig,a=t.item,r=t.deviceProps,i={title:n.methods.list[a.id].title,text:n.methods.list[a.id].text},s=!1;(a.disabled||a.typeDispatch===M.MODE_TYPES.SM_CAPTURE&&(0,A.isTabletOrMobile)(r))&&(s=!0);var l=(0,y.default)({"sign-m-method-item":!0,"sign-m-method-item--strip":this.strip("className"),disabled:s});if((0,A.isTabletOrMobile)(r)){if(a.typeDispatch===M.MODE_TYPES.SM_UPLOADER)return T.default.createElement("div",{"data-strip":this.strip(),className:l},T.default.createElement("label",{htmlFor:"crop_upload_file"},T.default.createElement("div",{className:"sign-m-method-item__icon"},T.default.createElement("div",{className:a.icon})),T.default.createElement("div",{className:"sign-m-method-item-inner"},T.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.list.upload.titleMobile),T.default.createElement("div",{className:"sign-m-method-item__desc"},n.methods.list.upload.textMobile)),T.default.createElement("input",{value:"",id:"crop_upload_file",type:"file",hidden:"hidden",ref:"picture",accept:o.allowedFileTypes,onChange:function(t){return e.funcTypeDispatch(t.target.files)}})));if(a.typeDispatch===M.MODE_TYPES.SM_DRAW)return T.default.createElement("div",{"data-strip":this.strip(),className:l,onClick:function(){return e.funcTypeDispatch()}},T.default.createElement("div",{className:"sign-m-method-item__icon"},T.default.createElement("div",{className:a.icon})),T.default.createElement("div",{className:"sign-m-method-item-inner"},T.default.createElement("div",{className:"sign-m-method-item__title"},n.methods.list.draw.titleMobile),T.default.createElement("div",{className:"sign-m-method-item__desc"},n.methods.list.draw.textMobile)));if(s)return null}return T.default.createElement("div",{"data-strip":this.strip(),className:l,onClick:function(){return e.funcTypeDispatch()}},T.default.createElement("div",{className:"sign-m-method-item__icon"},T.default.createElement("div",{className:a.icon})),T.default.createElement("div",{className:"sign-m-method-item-inner"},T.default.createElement("div",{className:"sign-m-method-item__title"},i.title),T.default.createElement("div",{className:"sign-m-method-item__desc"},i.text)))}}]),t}(g.Component))||a).propTypes=R},1556:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodItemPreview=void 0;var a,r=n(30),i=o(r),s=n(3),l=o(s),d=n(1),c=o(d),u=n(2),p=o(u),h=n(5),f=o(h),E=n(4),m=o(E),_=n(0),S=o(_),g=n(9),T=o(g),v=n(7),y=n(434),O=o(y),C=n(1293),D=o(C),M=n(1285),A=n(435),b=n(1267),R=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(b),I=n(1268),P=n(1270),N=M.SYSTEM.EVENT_PRESS_ENTER,w={controller:_.PropTypes.object,locale:_.PropTypes.object,preview:_.PropTypes.object,getUserName:_.PropTypes.func,setCurrentController:_.PropTypes.func,cancelCurrentController:_.PropTypes.func,smGallery:_.PropTypes.func,smSignatureValue:_.PropTypes.func,handleText:_.PropTypes.func,smTypeSignature:_.PropTypes.func,value:_.PropTypes.string,fontFamily:_.PropTypes.string,disabled:_.PropTypes.bool};(t.SignatureManagerMethodItemPreview=(0,v.connect)(function(e){return{value:e.im.smSignatureValue,locale:(0,P.getSignatureManagerLocale)(e),preview:e.im.listMethods.methodPreview}},{cancelCurrentController:D.default.cancelCurrentController,setCurrentController:D.default.setCurrentController,smGallery:R.smGallery,smTypeSignature:R.smTypeSignature,smSignatureValue:R.smSignatureValue})(a=(0,O.default)(a=function(e){function t(e){(0,c.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.input=null,n.onChange=n.onChange.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.handleText=n.handleText.bind(n),n.setReference=n.setReference.bind(n),n}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.smSignatureValue,n=e.getUserName,o=e.setCurrentController,a=e.controller;n&&t(n()),o(a)}},{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.cancelCurrentController,n=e.controller;A.inputHandler.removeControllerListener(n,N,this.handleText),t(n)}},{key:"onChange",value:function(e){(0,this.props.smSignatureValue)(e.target.value)}},{key:"onFocus",value:function(e){var t=this.props.controller;this.moveCaretAtEnd(e),A.inputHandler.addControllerListener(t,N,this.handleText)}},{key:"onBlur",value:function(){var e=this.props.controller;A.inputHandler.removeControllerListener(e,N,this.handleText)}},{key:"handleText",value:function(){var e=this.props,t=e.smGallery,n=e.value,o=e.handleText,a=e.fontFamily,r={text:n,fontFamily:a||I.FONTS.JELLYCA.original,fontSize:24,subType:I.SUB_TYPES.text};r.text.trim().length>0&&(t(),o(r,!0))}},{key:"strip",value:function(e){var t=this.props.preview,n=(0,i.default)(t.strip),o=void 0;return o="className"===e?"string"===n||0:"string"===n?t.strip:"",o}},{key:"showValue",value:function(e){var t=this.props.locale;return e||t.methods.preview.placeholder}},{key:"setReference",value:function(e){this.input=e}},{key:"render",value:function(){var e=this.props,t=e.smTypeSignature,n=e.value,o=e.locale,a=e.disabled,r=e.preview,i=n.trim().length>0,s=(0,T.default)({disabled:a,"sign-m-method-item":!0,"sign-m-mobile-show":!0,"sign-m-method-item--strip":this.strip("className")}),l=(0,T.default)({disabled:a,"sign-m-method-item":!0,"sign-m-method-item--lg":!0,"sign-m-mobile-hide":!0,"sign-m-method-item--strip":this.strip("className")}),d=(0,T.default)({"g-btn g-btn-primary g-btn-auto-width g-btn-sm":!0,disabled:!n});return S.default.createElement("div",null,S.default.createElement("div",{"data-strip":this.strip(),className:l},S.default.createElement("div",{className:"sign-m-method-item__icon"},S.default.createElement("div",{className:r.icon}),S.default.createElement("div",{className:"sign-m-method-item__title"},o.methods.preview.title)),S.default.createElement("div",{className:"sign-m-method-item-inner"},S.default.createElement("div",{className:"sign-m-method-item__desc",dangerouslySetInnerHTML:{__html:o.methods.preview.text}}),S.default.createElement("div",{className:"sign-m-method-item__control"},S.default.createElement("input",{type:"text",className:"form-input form-input-sm",maxLength:100,onChange:this.onChange,placeholder:o.methods.preview.placeholder,value:n,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.setReference}),S.default.createElement("button",{className:d,disabled:!i,onClick:this.handleText},o.methods.preview.button))),S.default.createElement("div",{className:"sign-m-method-item-preview font-JellykaCuttyCupcakes"},S.default.createElement("span",{className:"sign-preview"},this.showValue(n)))),S.default.createElement("div",{"data-strip":this.strip(),className:s,onClick:t},S.default.createElement("div",{className:"sign-m-mobile-show"},S.default.createElement("div",{className:"sign-m-method-item__icon"},S.default.createElement("div",{className:r.icon})),S.default.createElement("div",{className:"sign-m-method-item-inner"},S.default.createElement("div",{className:"sign-m-method-item__title"},o.methods.preview.title),S.default.createElement("div",{className:"sign-m-method-item__desc",dangerouslySetInnerHTML:{__html:o.methods.preview.text}})))))}}]),t}(_.Component))||a)||a).propTypes=w},1557:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerMethodList=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1556),g=n(1555),T=n(1268),v={controller:E.PropTypes.object,restrictSubTypes:E.PropTypes.array,methodList:E.PropTypes.array,getUserName:E.PropTypes.func,handleText:E.PropTypes.func,onLoadFilesSelect:E.PropTypes.func,webcamEnabled:E.PropTypes.bool};(t.SignatureManagerMethodList=(0,_.connect)(function(e){return{methodList:e.im.listMethods.methodList,webcamEnabled:e.im.webcamEnabled}})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"renderPreview",value:function(){var e=this.props,t=e.handleText,n=e.getUserName,o=e.restrictSubTypes,a=e.controller,r=!1;return o&&o.length&&-1===o.indexOf(T.SUB_TYPES.text)&&-1===o.indexOf(T.SUB_TYPES.initials)&&(r=!0),m.default.createElement(S.SignatureManagerMethodItemPreview,{handleText:t,getUserName:n,disabled:r,controller:a})}},{key:"renderList",value:function(){var e=this.props,t=e.methodList,n=e.webcamEnabled,o=e.restrictSubTypes,a=e.onLoadFilesSelect;return o&&o.length?t.map(function(e,t){return-1===o.indexOf(e.subType)?e.disabled=!0:n||e.typeDispatch!==T.MODE_TYPES.SM_CAPTURE||(e.disabled=!0),m.default.createElement(g.SignatureManagerMethodItem,{item:e,key:t,onLoadFilesSelect:a})}):t.map(function(e,t){return e.disabled=!n&&e.typeDispatch===T.MODE_TYPES.SM_CAPTURE,m.default.createElement(g.SignatureManagerMethodItem,{item:e,key:t,onLoadFilesSelect:a})})}},{key:"render",value:function(){return m.default.createElement("div",{className:"sign-m-body"},m.default.createElement("div",{className:"clrx"},this.renderPreview(),m.default.createElement("div",{className:"sign-m-method-item-list"},this.renderList())))}}]),t}(E.Component))||a).propTypes=v},1558:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerQR=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1306),g=n(1267),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(g),v=n(1268),y=n(1270),O={setMobileSignatureMethod:E.PropTypes.func,getQrUrl:E.PropTypes.func,locale:E.PropTypes.object,qrUrl:E.PropTypes.string};(t.SignatureManagerQR=(0,_.connect)(function(e){return{qrUrl:e.im.qrUrl,locale:(0,y.getSignatureManagerLocale)(e).qr}},{setMobileSignatureMethod:T.setMobileSignatureMethod,getQrUrl:T.getQrUrl})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setMobileSignatureMethod,n=e.getQrUrl;t(v.MODE_TYPES.SM_QR),n()}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return m.default.createElement("li",{key:e.id},m.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.qrUrl,o={position:"relative"};return m.default.createElement("div",{className:"sign-m-body"},m.default.createElement("p",{className:"sign-m-body-text"},t.text),m.default.createElement("div",{className:"sign-m-container"},m.default.createElement("div",{className:"sign-m-container-inner"},m.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img",style:o},m.default.createElement(S.ImageItem,{src:n})),m.default.createElement("div",{className:"sign-m-container__cell"},m.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),m.default.createElement("ol",{className:"sign-m__list-number"},this.renderList())))))}}]),t}(E.Component))||a).propTypes=O},1559:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerSMS=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(6),m=o(E),_=n(0),S=o(_),g=n(7),T=n(1356),v=n(1270),y=n(1268),O=n(1280),C=n(1267),D=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),M={setMobileSignatureMethod:_.PropTypes.func,savePhoneNumber:_.PropTypes.func,sendPhoneNumber:_.PropTypes.func,smMobileSignLoading:_.PropTypes.func,openAddressBook:_.PropTypes.func,locale:_.PropTypes.object,phoneNumber:_.PropTypes.string};(t.SignatureManagerSMS=(0,g.connect)(function(e){return(0,m.default)({},e.im.modeSignature,{locale:(0,v.getSignatureManagerLocale)(e).sms,phoneNumber:e.im.phoneNumber})},{smMobileSignLoading:D.smMobileSignLoading,sendPhoneNumber:D.sendPhoneNumber,setMobileSignatureMethod:D.setMobileSignatureMethod,savePhoneNumber:D.savePhoneNumber})(a=function(e){function t(e){(0,l.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={enableSendButton:!1,isFocused:!1},n.send=n.send.bind(n),n.savePhoneNumber=n.savePhoneNumber.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.checkIfInputIsValid=n.checkIfInputIsValid.bind(n),n.setReference=n.setReference.bind(n),n}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.setMobileSignatureMethod)(y.MODE_TYPES.SM_SMS)}},{key:"savePhoneNumber",value:function(e){(0,this.props.savePhoneNumber)(e.target.value.trim())}},{key:"onFocus",value:function(){this.setState({isFocused:!0})}},{key:"onBlur",value:function(){this.setState({isFocused:!1})}},{key:"send",value:function(){var e=this.props,t=e.sendPhoneNumber;(0,e.smMobileSignLoading)(),t()}},{key:"checkIfInputIsValid",value:function(e){var t=this,n=this.props.phoneNumber;setTimeout(function(){t.setState({enableSendButton:n&&n.trim().length&&e})},0)}},{key:"setReference",value:function(e){this.input=e}},{key:"renderList",value:function(){return this.props.locale.list.map(function(e){return S.default.createElement("li",{key:e.id},S.default.createElement("span",null,e.text))})}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.phoneNumber,o=e.openAddressBook,a=this.state.enableSendButton,r=[{rule:"isPhone"}];return S.default.createElement("div",{className:"sign-m-body"},S.default.createElement("p",{className:"sign-m-body-text"},t.text),S.default.createElement("div",{className:"sign-m-container"},S.default.createElement("div",{className:"sign-m__input-block"},S.default.createElement(T.Input,{type:"text",placeholder:t.placeholder,value:n,onChange:this.savePhoneNumber,onFocus:this.onFocus,onBlur:this.onBlur,validations:r,handleIsValid:this.checkIfInputIsValid,handleAddressBookButtonClick:o,ref:this.setReference,validate:!0,autoFocus:!0}),S.default.createElement(O.BtnPrimary,{disabled:!a,onClick:this.send},t.sendButton)),S.default.createElement("div",{className:"sign-m-container-inner"},S.default.createElement("div",{className:"sign-m-container__cell sign-m-container__cell--img"},S.default.createElement("img",{src:y.IMAGES.SM_SMS,alt:""})),S.default.createElement("div",{className:"sign-m-container__cell"},S.default.createElement("div",{className:"sign-m-title-red text-red-upper"},t.listTitle),S.default.createElement("ol",{className:"sign-m__list-number"},this.renderList(t))))))}}]),t}(_.Component))||a).propTypes=M},1560:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerTypeSignature=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(434),g=o(S),T=n(1561),v=n(1267),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),O=n(1268),C=n(1270),D={smSignatureValue:E.PropTypes.func,locale:E.PropTypes.object,value:E.PropTypes.string};(t.SignatureManagerTypeSignature=(0,_.connect)(function(e){return{value:e.im.smSignatureValue,locale:(0,C.getSignatureManagerLocale)(e).type}},{smSignatureValue:y.smSignatureValue})(a=(0,g.default)(a=function(e){function t(){(0,l.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.input=null,e.onChange=e.onChange.bind(e),e.onFocus=e.onFocus.bind(e),e.setReference=e.setReference.bind(e),e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"onChange",value:function(e){(0,this.props.smSignatureValue)(e.target.value)}},{key:"onFocus",value:function(e){this.moveCaretAtEnd(e)}},{key:"setReference",value:function(e){this.input=e}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.locale,o=[O.FONTS.JELLYCA.custom];return m.default.createElement("div",{className:"sign-m-body"},m.default.createElement("div",{className:"g-form-group"},m.default.createElement("input",{type:"text",onChange:this.onChange,onFocus:this.onFocus,placeholder:n.placeholder,className:"form-input",value:t,ref:this.setReference})),m.default.createElement("div",{className:"sign-m-type-title"},n.text),m.default.createElement("div",{className:"sign-m-type-list clfx"},o.map(function(e,o){return m.default.createElement(T.SignatureManagerTypeSignatureItem,{text:t||n.placeholder,itemClass:e,key:o})})))}}]),t}(E.Component))||a)||a).propTypes=D},1561:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerTypeSignatureItem=void 0;var a,r=n(20),i=o(r),s=n(3),l=o(s),d=n(1),c=o(d),u=n(2),p=o(u),h=n(5),f=o(h),E=n(4),m=o(E),_=n(0),S=o(_),g=n(7),T=n(9),v=o(T),y=n(1267),O=n(1268),C={setSignatureFont:_.PropTypes.func,itemClass:_.PropTypes.string,text:_.PropTypes.string};(t.SignatureManagerTypeSignatureItem=(0,g.connect)(null,{setSignatureFont:y.smSignatureFont})(a=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentWillMount",value:function(){this.setFont()}},{key:"setFont",value:function(){var e=this.props,t=e.setSignatureFont,n=e.itemClass,o="";for(var a in O.FONTS)if(O.FONTS.hasOwnProperty(a)&&O.FONTS[a].custom===n){o=O.FONTS[a].original;break}t(o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemClass,o=t.text,a=(0,v.default)((0,i.default)({"sign-m-type-item":!0},n,!0));return S.default.createElement("div",{className:a,onClick:function(t){t.stopPropagation(),e.setFont()}},S.default.createElement("div",{className:"sign-m-type-item-inner"},S.default.createElement("div",{className:"sign-m-type-item__title"},o)))}}]),t}(_.Component))||a).propTypes=C},1562:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterCapture=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1280),g=n(1276),T=n(1267),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(T),y=n(1270),O={smInitial:E.PropTypes.func,takeSnapShot:E.PropTypes.func,locale:E.PropTypes.object};(t.SignatureManagerFooterCapture=(0,_.connect)(function(e){return{locale:(0,y.getSignatureManagerLocale)(e)}},{smInitial:v.smInitial})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smInitial,n=e.locale,o=e.takeSnapShot;return m.default.createElement("div",{className:"sign-m-footer"},m.default.createElement("div",{className:"sign-m-footer__left"},m.default.createElement(g.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n.backButton)),m.default.createElement("div",{className:"sign-m-footer__right"},m.default.createElement(S.BtnPrimary,{addClass:"g-btn-sm",onClick:o},n.capture.button)))}}]),t}(E.Component))||a).propTypes=O},1563:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterDraw=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1280),g=n(1276),T=n(1267),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(T),y=n(1270),O={smSignatureStatusChange:E.PropTypes.func,smInitial:E.PropTypes.func,locale:E.PropTypes.object};(t.SignatureManagerFooterDraw=(0,_.connect)(function(e){return{locale:(0,y.getSignatureManagerLocale)(e)}},{smInitial:v.smInitial,smSignatureStatusChange:v.smSignatureStatusChange})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smInitial,n=e.smSignatureStatusChange,o=e.locale;return m.default.createElement("div",{className:"sign-m-footer sign-m-mobile-hide"},m.default.createElement("div",{className:"sign-m-footer__left"},m.default.createElement(g.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},o.backButton)),m.default.createElement("div",{className:"sign-m-footer__right"},m.default.createElement(S.BtnPrimary,{addClass:"g-btn-sm",onClick:function(){return n({message:"saving"})}},o.draw.saveAndUseButton)))}}]),t}(E.Component))||a).propTypes=O},1564:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1279),T=o(g),v=n(1280),y=n(1276),O=n(1270),C={handleSave:m.PropTypes.func.isRequired,handleSaveAndUse:m.PropTypes.func.isRequired,restoreEditedImage:m.PropTypes.func,backButtonText:m.PropTypes.string,saveButtonText:m.PropTypes.string,saveAndUseButtonText:m.PropTypes.string},D=(a=(0,S.connect)(function(e){return{backButtonText:(0,O.getSignatureManagerLocale)(e).backButton,saveButtonText:(0,O.getSignatureManagerLocale)(e).editorPreview.saveButton,saveAndUseButtonText:(0,O.getSignatureManagerLocale)(e).editorPreview.saveAndUseButton}},{restoreEditedImage:T.default.restoreEditedImage}))(r=function(e){function t(){(0,d.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleBackButtonClick",value:function(){(0,this.props.restoreEditedImage)()}},{key:"render",value:function(){var e=this.props,t=e.saveButtonText,n=e.saveAndUseButtonText,o=e.backButtonText,a=e.handleSave,r=e.handleSaveAndUse;return _.default.createElement("div",{className:"sign-m-footer"},_.default.createElement("div",{className:"sign-m-footer__left"},_.default.createElement(y.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:this.handleBackButtonClick},o)),_.default.createElement("div",{className:"sign-m-footer__right"},_.default.createElement(y.BtnSecondary,{addClass:"g-btn-sm",onClick:a},t),_.default.createElement(v.BtnPrimary,{addClass:"g-btn-sm",onClick:r},n)))}}]),t}(m.Component))||r;t.default=D,D.propTypes=C},1565:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(7),g=n(1279),T=o(g),v=n(1280),y=n(1276),O=n(1267),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(O),D=n(1286),M=n(1270),A={onClick:m.PropTypes.func.isRequired,smUploader:m.PropTypes.func,smCapture:m.PropTypes.func,resetEditor:m.PropTypes.func,backButtonText:m.PropTypes.string,mainButtonText:m.PropTypes.string,uploaderType:m.PropTypes.string},b=(a=(0,S.connect)(function(e){return{backButtonText:(0,M.getSignatureManagerLocale)(e).backButton,mainButtonText:(0,M.getSignatureManagerLocale)(e).editorPreview.doneButton,uploaderType:e.im.modeSignature.uploaderType}},{smUploader:C.smUploader,smCapture:C.smCapture,resetEditor:T.default.resetEditor}))(r=function(e){function t(){(0,d.default)(this,t);var e=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e}return(0,E.default)(t,e),(0,u.default)(t,[{key:"handleBackButtonClick",value:function(){var e=this.props,t=e.smUploader,n=e.smCapture,o=e.resetEditor;e.uploaderType===D.MODE_TYPES.SM_UPLOADER?t():n(),o()}},{key:"render",value:function(){var e=this.props,t=e.mainButtonText,n=e.backButtonText,o=e.onClick;return _.default.createElement("div",{className:"sign-m-footer"},_.default.createElement("div",{className:"sign-m-footer__left"},_.default.createElement(y.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:this.handleBackButtonClick},n)),_.default.createElement("div",{className:"sign-m-footer__right"},_.default.createElement(v.BtnPrimary,{addClass:"g-btn-sm",onClick:o},t)))}}]),t}(m.Component))||r;t.default=b,b.propTypes=A},1566:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterGallery=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(6),m=o(E),_=n(0),S=o(_),g=n(7),T=n(1571),v=n(1267),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),O=n(1287),C=n(1270),D={smInitial:_.PropTypes.func,locale:_.PropTypes.object};(t.SignatureManagerFooterGallery=(0,g.connect)(function(e){return(0,m.default)({},e.im.modeSignature,{locale:(0,C.getSignatureManagerLocale)(e)})},{smInitial:y.smInitial})(a=function(e){function t(){(0,l.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.setReference=e.setReference.bind(e),e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){(0,O.isIeOrEdge)()&&this.button&&this.button.focus()}},{key:"setReference",value:function(e){this.button=e}},{key:"render",value:function(){var e=this.props,t=e.smInitial,n=e.locale,o={opacity:0,cursor:"initial",pointerEvents:"none"};return S.default.createElement("div",{className:"sign-m-footer sign-m-footer--separation"},S.default.createElement("div",{className:"sign-m-footer__left"}),S.default.createElement("div",{className:"sign-m-footer__right"},S.default.createElement(T.BtnIcon,{addClass:"g-btn-sm g-btn-primary",iconClass:"i-sign",onClick:t},n.gallery.mainButton)),S.default.createElement("button",{type:"button",ref:this.setReference,style:o}))}}]),t}(_.Component))||a).propTypes=D},1567:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterInitial=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1276),g=n(1267),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(g),v=n(1270),y={smGallery:E.PropTypes.func,backButtonText:E.PropTypes.string,signatures:E.PropTypes.array};(t.SignatureManagerFooterInitial=(0,_.connect)(function(e){return{backButtonText:(0,v.getSignatureManagerLocale)(e).backButton,signatures:e.ws.signatures}},{smGallery:T.smGallery})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smGallery,n=e.backButtonText;return e.signatures.length?m.default.createElement("div",{className:"sign-m-footer"},m.default.createElement("div",{className:"sign-m-footer__left"},m.default.createElement(S.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n))):null}}]),t}(E.Component))||a).propTypes=y},1568:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerFooterTypeSignature=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(0),m=o(E),_=n(7),S=n(1280),g=n(1276),T=n(1267),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(T),y=n(1268),O=n(1270),C={smInitial:E.PropTypes.func,handleText:E.PropTypes.func,smGallery:E.PropTypes.func,locale:E.PropTypes.object,text:E.PropTypes.string,fontFamily:E.PropTypes.string};(t.SignatureManagerFooterTypeSignature=(0,_.connect)(function(e){return{text:e.im.smSignatureValue,fontFamily:e.im.smSignatureFont,locale:(0,O.getSignatureManagerLocale)(e)}},{smInitial:v.smInitial,smGallery:v.smGallery})(a=function(e){function t(){(0,l.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.handleText=e.handleText.bind(e),e}return(0,f.default)(t,e),(0,c.default)(t,[{key:"handleText",value:function(e,t){t="boolean"==typeof t&&t;var n=this.props,o=n.handleText,a=n.text,r=n.fontFamily,i=n.smGallery,s={fontSize:24,subType:y.SUB_TYPES.text,text:a,fontFamily:r};i(),o(s,!!t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.locale,o=t.smInitial,a=t.text,r=a.trim().length>0;return m.default.createElement("div",{className:"sign-m-footer"},m.default.createElement("div",{className:"sign-m-footer__left"},m.default.createElement(g.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:o},n.backButton),m.default.createElement(g.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-show-mobile",onClick:this.handleText,disabled:!r},n.type.saveButton)),m.default.createElement("div",{className:"sign-m-footer__right"},m.default.createElement(g.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-hide-mobile",onClick:this.handleText},n.type.saveButton),m.default.createElement(S.BtnPrimary,{addClass:"g-btn-sm",onClick:function(t){return e.handleText(t,!0)},disabled:!r},n.type.saveAndUseButton)))}}]),t}(E.Component))||a).propTypes=C},1569:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(1276),_={onButtonClick:f.PropTypes.func,backButtonText:f.PropTypes.string},S=function(e){function t(){return(0,s.default)(this,t),(0,u.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onButtonClick,n=e.backButtonText;return E.default.createElement("div",{className:"sign-m-footer sign-m-mobile-hide"},E.default.createElement("div",{className:"sign-m-footer__left"},E.default.createElement(m.BtnSecondary,{addClass:"g-btn-sm sign-m-btn-back",onClick:t},n)))}}]),t}(f.Component);t.default=S,S.propTypes=_},1570:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BigBtn=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(9),_=o(m),S={type:f.PropTypes.object.isRequired,disabled:f.PropTypes.bool,onClick:f.PropTypes.func};(t.BigBtn=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.onClick=e.onClick.bind(e),e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"onClick",value:function(){var e=this.props,t=e.onClick;!e.disabled&&t&&t()}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,o=(0,_.default)("sign-m-method-item",{disabled:n});return E.default.createElement("div",{className:o,onClick:this.onClick},E.default.createElement("div",{className:"sign-m-method-item__icon"},E.default.createElement("div",{className:t.icon})),E.default.createElement("div",{className:"sign-m-method-item-inner"},E.default.createElement("div",{className:"sign-m-method-item__title"},t.title),E.default.createElement("div",{className:"sign-m-method-item__desc"},t.desc)))}}]),t}(f.Component)).propTypes=S},1571:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BtnIcon=void 0;var a=n(20),r=o(a),i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(0),_=o(m),S=n(9),g=o(S),T={iconClass:m.PropTypes.string,addClass:m.PropTypes.string,children:m.PropTypes.string,onClick:m.PropTypes.func};(t.BtnIcon=function(e){function t(){return(0,d.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.iconClass,o=e.addClass,a=void 0===o?"":o,i=e.children,s=(0,g.default)((0,r.default)({i:!0},n,!0));return _.default.createElement("button",{type:"button",className:"g-btn g-btn-auto-width "+a,onClick:t},_.default.createElement("i",{className:s}),i)}}]),t}(m.Component)).propTypes=T},1572:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),r=o(a),i=n(1),s=o(i),l=n(2),d=o(l),c=n(5),u=o(c),p=n(4),h=o(p),f=n(0),E=o(f),m=n(432),_=n(1350),S=o(_),g={height:200,width:266},T={src:f.PropTypes.string},v=function(e){function t(){(0,s.default)(this,t);var e=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this));return e.state={image:null},e}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.src;if(t){var n={dataUri:t,width:g.width,height:g.height};(0,m.resizeToFit)(n).then(function(e){return(0,m.base64ToImage)(e.resizedImage)}).then(function(t){return e.setState({image:t})})}}},{key:"render",value:function(){var e=this.state.image,t={width:g.width+"px",height:g.height+"px",display:"flex",margin:"auto",justifyContent:"center",alignItems:"center"};return E.default.createElement("div",{style:t},E.default.createElement(S.default,{image:e}))}}]),t}(f.Component);t.default=v,v.propTypes=T},1573:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),r=o(a),i=n(9),s=o(i),l=function(e){var t=e.isSelected,n=e.text,o=e.onClick,a=(0,s.default)("radioWrap radio-label-right radio-label--inline-block",{checked:t});return r.default.createElement("div",{className:a,onClick:o},r.default.createElement("div",{className:"radio"}),r.default.createElement("span",{className:"radio-label"},n))};l.propTypes={isSelected:a.PropTypes.bool.isRequired,text:a.PropTypes.string.isRequired,onClick:a.PropTypes.func.isRequired},t.default=l},1574:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureManagerDrawNavMobile=void 0;var a,r=n(3),i=o(r),s=n(1),l=o(s),d=n(2),c=o(d),u=n(5),p=o(u),h=n(4),f=o(h),E=n(6),m=o(E),_=n(0),S=o(_),g=n(7),T=n(1354),v=n(1355),y=n(1267),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),C=n(1270),D={smSignatureStatusChange:_.PropTypes.func,getColor:_.PropTypes.func,setColor:_.PropTypes.func,setLineWidth:_.PropTypes.func,clear:_.PropTypes.func,addClass:_.PropTypes.string,doneButtonText:_.PropTypes.string,drawConfig:_.PropTypes.object};(t.SignatureManagerDrawNavMobile=(0,g.connect)(function(e){return(0,m.default)({},e.im.modeSignature,{doneButtonText:(0,C.getSignatureManagerLocale)(e).draw.doneButton,drawConfig:e.im.drawConfig})},{smSignatureStatusChange:O.smSignatureStatusChange})(a=function(e){function t(){return(0,l.default)(this,t),(0,p.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.smSignatureStatusChange,n=e.doneButtonText,o=e.drawConfig,a=e.getColor,r=e.setColor,i=e.setLineWidth,s=e.clear;return S.default.createElement("div",{className:"sign-m-draw-nav-mobile sign-m-mobile-show"},S.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--top"},S.default.createElement("div",{className:"g-btn g-btn-primary g-btn-auto-width",onClick:function(){return t({message:"saving"})}},n)),S.default.createElement("div",{className:"sign-m-draw-nav-mobile__cell sign-m-draw-nav-mobile__cell--center"},S.default.createElement("div",{className:"sign-m-draw-nav-mobile__btn",onClick:s},S.default.createElement("i",{className:"i i-clear"})),S.default.createElement(T.DropDownColor,{getColor:a,setColor:r,color:o.color}),S.default.createElement(v.DropDownLineThickness,{setLineWidth:i})))}}]),t}(_.Component))||a).propTypes=D},1575:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UploadNavBtn=void 0;var a=n(6),r=o(a),i=n(20),s=o(i),l=n(3),d=o(l),c=n(1),u=o(c),p=n(2),h=o(p),f=n(5),E=o(f),m=n(4),_=o(m),S=n(0),g=o(S),T=n(9),v=o(T),y={disable:S.PropTypes.bool,children:S.PropTypes.string,addClass:S.PropTypes.string,classNameIcon:S.PropTypes.string,onClick:S.PropTypes.func},O={addClass:"",classNameIcon:""},C=t.UploadNavBtn=function(e){function t(){(0,u.default)(this,t);var e=(0,E.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return e.onClick=e.onClick.bind(e),e}return(0,_.default)(t,e),(0,h.default)(t,[{key:"onClick",value:function(){var e=this.props,t=e.disable,n=e.onClick;!t&&n&&n()}},{key:"render",value:function(){var e,t=this.props,n=t.addClass,o=t.classNameIcon,a=t.disable,i=t.children,l=(0,v.default)((0,s.default)({i:!0},o,!0)),d=(0,v.default)((e={"sign-m-upload-nav__btn":!0},(0,s.default)(e,n,n),(0,s.default)(e,"disabled",a),e)),c={color:a?"rgba(68, 68, 68, 0.6)":"initial"};return g.default.createElement("div",(0,r.default)({},this.props,{className:d,onClick:this.onClick}),g.default.createElement("i",{className:l}),g.default.createElement("span",{style:c},i))}}]),t}(S.Component);C.propTypes=y,C.defaultProps=O},1576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={COLORS:{RED:"FF0000",BLUE:"0000FF",BLACK:"000000"},THICKNESS:{XSMALL:2,SMALL:4,MEDIUM:6,LARGE:8,XLARGE:10}}},1577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={maxFileSize:"15 Mb",allowedFileTypes:["image/jpeg","image/jpg","image/png","image/gif"],imageDimensions:{width:640,height:480}}},1578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={JELLYCA:{original:"Jellyka CuttyCupcakes",custom:"font-JellykaCuttyCupcakes"},PETRA:{original:"PetraScriptEF",custom:"font-PetraScriptEF"},SIGNATURE:{original:"signature",custom:"font-signature"}}},1579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SM_EMAIL:"https://dev5_static.pdffiller.com/img/signature-manager/signature-email.png",SM_QR:"http://dev5_static.pdffiller.com/img/signature-manager/signature-qr.svg",SM_SMS:"https://dev5_static.pdffiller.com/img/signature-manager/signature-sms.png"}},1580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.imageManagerLocale={backButton:"Back",uploading:{header:"Upload Your Image",text:"Uploading an Image"},gallery:{header:"Image Wizard",emptyGallery:{title:"You do not have any saved Images",text:"To add your image, please use the options below."},footerDesktop:{uploaderButton:{title:"Upload Your Image",text:"Use this option to upload an image from your computer."},captureButton:{title:"Capture Your Image",text:"Easily capture a high quality image using your webcam."}},footerMobile:{uploaderButton:{title:"Upload Your Image",text:"Upload an image from your mobile device or tablet."}}},capture:{header:"Capture Your Image",text:"The program identifies your computerâ€™s camera, and you can see a live preview of the image that you can use, and decide when to capture an image.",button:"Take"},upload:{header:"Upload Your Image",dropZone:{title:"Drag and Drop Your Image Here",text:"Use the button below to upload your image to the Image Wizard. PDFfiller supports <b>JPG</b>, <b>GIF</b> and <b>PNG</b> formats.<br/>Just so you know, max file size:",button:"Browse Your Images"}},errorModal:{title:"Warning",button:"OK"},errors:{dropZone:{defaultError:"Can't upload the image",bigFile:"Your file is too big. Please select another one. Maximum file size is",wrongType:"Acceptable file types are",noFile:"No image selected",manyFiles:"Multiple images have been selected. Please select one image and try again"}}},t.signatureManagerLocale={backButton:"Back",uploading:{header:"Upload Your Image",text:"Uploading an Image",awaitingText:"Awaiting Signature...",resendButton:"Resend"},gallery:{header:"Signature Wizard",loadingText:"Loading signatures",mainButton:"Add New Signature"},methods:{header:"Signature Wizard",preview:{title:"type",text:"<b>Type</b> your full name below, and click <b>Sign</b> to proceed. Your signature will appear in a handwritten font style and ready for use.",button:"sign",placeholder:"John Smith"},list:{draw:{title:"Draw",text:"Easily draw your signature using the mouse or trackpad.",titleMobile:"Draw",textMobile:"Easily draw your signature right on your mobile device or tablet."},upload:{title:"Upload",text:"Upload the image of your signature from a computer.",titleMobile:"UPLOAD OR CAPTURE",textMobile:"Upload or capture your signature from any mobile device and tablet."},capture:{title:"Capture",text:"Allow the access to your camera and take a photo of your signature."},qr:{title:"Scan a QR Code",text:"Scan a QR Code to draw your signature on your mobile device."},sms:{title:"Use Mobile via SMS",text:"Get a link via SMS and easily draw a signature right on your mobile device."},email:{title:"Use Mobile via Email",text:"Get a link via Email and easily draw a signature right on your mobile device."}}},draw:{header:"Draw Your Signature",text:"Draw your signature below, use the toolbar to make any desired changes, then click Save and Use to continue",cleanButton:"Clean",doneButton:"Done",saveAndUseButton:"Save and Use"},capture:{header:"Capture Your Image",text:"Sign the paper and show to the camera, so your signature fits inside the box and click Take. Your signature will appear in the Signature Wizard and ready for use.",button:"Take"},upload:{header:"Upload Your Image",dropZone:{title:"Drag and Drop Your Image Here",text:"Use the button below to upload your signature to the Signature Wizard. PDFfiller supports <b>JPG</b>, <b>GIF</b> and <b>PNG</b> formats.<br/>Just so you know, Max file size:",button:"Browse Your Images"}},qr:{header:"Scan a QR Code <span>via mobile</span>",text:"Scanning this QR Code will open a new screen on your mobile device where you can easily draw your signature.",listTitle:"USAGE:",list:[{id:"scanQr",text:"Scan a QR Code."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"clickDone",text:"Click Done to save your signature."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},sms:{header:"Use Mobile via SMS",text:"Using Mobile Via SMS allows you to get a link via SMS and easily draw a signature right on your mobile device.",listTitle:"USAGE:",placeholder:"(999) 999-9999",sendButton:"Send",list:[{id:"enterNumber",text:"Enter your phone number."},{id:"findMessage",text:"Find a text message from PDFfiller on your mobile device."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},email:{header:"Use Mobile via Email",text:"Using Mobile Via Email allows you to get a link via Email on your mobile device and easily draw your signature right there.",listTitle:"USAGE:",placeholder:"Email",sendButton:"Send",addressBookMainButton:"Send to",list:[{id:"enterEmail",text:"Enter your email address."},{id:"findEmail",text:"Find an email from PDFfiller on your mobile device."},{id:"drawSignature",text:"Draw the signature or type your initials from any mobile device."},{id:"findSignature",text:"Find your signature in the Signature Wizard."}]},type:{header:"Signature Wizard",text:"Preview",placeholder:"John Smith",saveAndUseButton:"Save and Use",saveButton:"Save"},editorPreview:{title:"We automatically cleaned up your signature. What do you think?",originalImageLabel:"Before",editedImageLabel:"After",list:{saveAndUse:"This signature looks fine, save and use.",needClean:"This signature looks ok, but let me clean it up some more.",cleanManually:"This is no good, I will clean it up manually."},doneButton:"Do it!",saveButton:"Save",saveAndUseButton:"Save and Use"},editor:{toolbar:{flipRotate:"Flip / Rotate",crop:"Crop",erase:"Erase",adjust:"Adjust"},toolSubBar:{flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",applyCrop:"Apply Crop",thickness:"Thickness",autoAdjust:"Auto"}},errorModal:{title:"Warning",button:"OK"},errors:{dropZone:{defaultError:"Can't upload the image",bigFile:"Your file is too big. Please select another one. Maximum file size is",wrongType:"Acceptable file types are",noFile:"No image selected",manyFiles:"Multiple images have been selected. Please select one image and try again"}}}},1581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1286),a=n(1357),r=function(e){return e&&e.__esModule?e:{default:e}}(a),i=[{strip:5123,icon:"sign-m-svg-icon-draw",id:"draw",typeDispatch:o.MODE_TYPES.SM_DRAW,subType:r.default.curve},{icon:"sign-m-svg-icon-upload",id:"upload",typeDispatch:o.MODE_TYPES.SM_UPLOADER,subType:r.default.image},{icon:"sign-m-svg-icon-camera",id:"capture",typeDispatch:o.MODE_TYPES.SM_CAPTURE,subType:r.default.image},{icon:"sign-m-svg-icon-qr-mobile",id:"qr",typeDispatch:o.MODE_TYPES.SM_QR,subType:r.default.curve},{icon:"sign-m-svg-icon-sms-mobile",id:"sms",typeDispatch:o.MODE_TYPES.SM_SMS,subType:r.default.curve},{icon:"sign-m-svg-icon-email-mobile",id:"email",typeDispatch:o.MODE_TYPES.SM_EMAIL,subType:r.default.curve}];t.default=i},1582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={IMAGE_MANAGER:"ImageManager",SIGNATURE_MANAGER:"SignatureManager"}},1583:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODES=void 0;var o=n(1286);t.MODES={INITIAL:{content:{type:o.MODE_TYPES.INITIAL},footer:{type:o.MODE_TYPES.BIG_FOOTER,btnIcons:{uploader:"sign-m-svg-icon-upload",capture:"sign-m-svg-icon-camera"}}},UPLOADER:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{mods:"sign-m--hide-mobile-footer",type:o.MODE_TYPES.UPLOAD},footer:{type:o.MODE_TYPES.UPLOAD}},MOBILE_UPLOADER:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{mods:"sign-m--hide-mobile-footer",type:o.MODE_TYPES.MOBILE_UPLOAD},footer:{type:o.MODE_TYPES.MOBILE_UPLOAD}},UPLOADING:{header:{icon:"sign-m-svg-icon-upload-sm",title:"Upload Your Image"},content:{type:o.MODE_TYPES.UPLOADING}},CAPTURE:{content:{type:o.MODE_TYPES.CAPTURE}},SM_INITIAL:{type:o.MODE_TYPES.SM_INITIAL,mods:"sign-m--hide-mobile-footer"},SM_CHOOSE_SIGNATURE:{type:o.MODE_TYPES.SM_CHOOSE_SIGNATURE,mods:"sign-m--hide-mobile-footer"},SM_TYPE_SIGNATURE:{type:o.MODE_TYPES.SM_TYPE_SIGNATURE},SM_GALLERY:{type:o.MODE_TYPES.SM_GALLERY},SM_QR:{type:o.MODE_TYPES.SM_QR},SM_SMS:{type:o.MODE_TYPES.SM_SMS,mods:"sign-m--hide-mobile-footer"},SM_EMAIL:{type:o.MODE_TYPES.SM_EMAIL,mods:"sign-m--hide-mobile-footer"},SM_DRAW:{type:o.MODE_TYPES.SM_DRAW,mods:"sign-m--mobile-draw"},SM_MOBILE_SIGN_LOADING:{type:o.MODE_TYPES.SM_MOBILE_SIGN_LOADING,mods:"g-wrap-loading"},SM_UPLOADER:{mods:"sign-m--hide-mobile-footer",type:o.MODE_TYPES.SM_UPLOADER},SM_MOBILE_UPLOADER:{mods:"sign-m--hide-mobile-footer",type:o.MODE_TYPES.SM_MOBILE_UPLOADER},SM_UPLOADING:{type:o.MODE_TYPES.SM_UPLOADING},SM_CAPTURE:{type:o.MODE_TYPES.SM_CAPTURE},SM_EDITOR_PREVIEW:{type:o.MODE_TYPES.SM_EDITOR_PREVIEW},SM_EDITOR:{type:o.MODE_TYPES.SM_EDITOR}}},1584:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={height:200,width:200}},1585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DESKTOP_TYPE:"desktop"}},1586:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a,r,i=n(3),s=o(i),l=n(1),d=o(l),c=n(2),u=o(c),p=n(5),h=o(p),f=n(4),E=o(f),m=n(6),_=o(m),S=n(0),g=o(S),T=n(7),v=n(437),y=o(v),O=n(1345),C=o(O),D=n(432),M=n(40),A=o(M),b=n(1353),R=n(1352),I=n(1543),P=n(1547),N=n(1546),w=n(1268),k=n(1267),L=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(k),B=n(1270),x=w.modalIds.IMAGE_MANAGER,Y=C.default.DropzoneComponentWrapper,F=C.default.DropzoneButton,U=C.default.DropzoneContent,H=C.default.DropzoneTitle,K=y.default.Webcam,G=y.default.WebcamUtils,W={handleError:S.PropTypes.func.isRequired,setError:S.PropTypes.func,clearError:S.PropTypes.func,disableWebcam:S.PropTypes.func,uploading:S.PropTypes.func,uploadImage:S.PropTypes.func,initial:S.PropTypes.func,handleClose:S.PropTypes.func,handleUpload:S.PropTypes.func,handleDelete:S.PropTypes.func,handleSelect:S.PropTypes.func,capture:S.PropTypes.func,upload:S.PropTypes.func,locale:S.PropTypes.object,dropzoneConfig:S.PropTypes.object,jsOnly:S.PropTypes.bool,targetFiles:S.PropTypes.array,list:S.PropTypes.array,uploadedPercent:S.PropTypes.number,type:S.PropTypes.string,error:S.PropTypes.string},j=(a=(0,T.connect)(function(e){return(0,_.default)({},e.im.mode,{locale:(0,B.getImageManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,uploadedPercent:e.im.uploadedPercent,error:e.im.imageManagerError,list:e.ws.images})},{disableWebcam:L.disableWebcam,uploading:L.uploading,uploadImage:L.uploadImage,initial:L.initial,capture:L.capture,upload:L.upload,setError:L.setError,clearError:L.clearErrors}))(r=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.webcamInstance=null,n.modalId=t.getModalId(),n.handleError=n.handleError.bind(n),n.handleFilesSelect=n.handleFilesSelect.bind(n),n.handleImage=n.handleImage.bind(n),n.handleClose=n.handleClose.bind(n),n.setReference=n.setReference.bind(n),n}return(0,E.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.disableWebcam,n=e.jsOnly;G.checkWebcamAvailability(n,function(e){e||t()})}},{key:"componentDidUpdate",value:function(e){var t=this.props.error;t&&t!==e.error&&this.handleError(t)}},{key:"onLoadFilesSelect",value:function(e,t,n){var o=this.props,a=o.dropzoneConfig,r=o.locale,i=o.setError,s={customErrors:r.errors.dropZone,imageDimensions:a.imageDimensions,checkImage:!0,maxFilesNumber:1,maxFileSize:t,allowedFileTypes:n};(0,D.validateFiles)(e,s,this.handleFilesSelect,i)}},{key:"handleFilesSelect",value:function(e){var t=e[0];t&&this.handleImage(t.data,t.height,t.width)}},{key:"handleImage",value:function(e,t,n){var o=this,a={height:t,width:n};(0,this.props.uploadImage)(e,function(e,t){t&&o.handleUpload(t,a)})}},{key:"handleClose",value:function(){var e=this.props,t=e.handleClose,n=e.initial;t&&t(),n()}},{key:"handleUpload",value:function(e,t){(0,this.props.handleUpload)((0,_.default)({},e,t))}},{key:"handleError",value:function(e){var t=this.props,n=t.handleError,o=t.locale,a=t.clearError;n({btnConfirmText:o.errorModal.button,title:o.errorModal.title,content:e}),a()}},{key:"setReference",value:function(e){this.webcamInstance=e}},{key:"renderHeaderByTypeContent",value:function(e){var t=this.props,n=t.locale,o=t.initial,a=t.upload,r={status:!0},i="",s="",l=void 0;switch(e){case w.MODE_TYPES.INITIAL:i="sign-m-svg-icon-img",s=n.gallery.header,r.status=!1;break;case w.MODE_TYPES.CAPTURE:i="sign-m-svg-icon-camera-sm",s=n.capture.header,l=o;break;case w.MODE_TYPES.UPLOAD:i="sign-m-svg-icon-upload-sm",s=n.upload.header,l=o;break;case w.MODE_TYPES.MOBILE_UPLOAD:i="sign-m-svg-icon-upload-sm",s=n.upload.header,l=a;break;case w.MODE_TYPES.UPLOADING:i="sign-m-svg-icon-upload-sm",s=n.uploading.header,l=a}return g.default.createElement(b.ImageManagerHeader,{icon:i,title:s,btnBackDispatch:l,btnBack:r,handleClose:this.handleClose})}},{key:"renderComponentByTypeContent",value:function(e,t){var n=this,o=this.props,a=o.handleDelete,r=o.handleSelect,i=o.locale,s=o.uploadedPercent,l=o.jsOnly,d=o.dropzoneConfig,c=o.list,u=o.initial,p=o.setError;switch(e){case w.MODE_TYPES.INITIAL:return[g.default.createElement(I.ImageManagerContentInitial,{handleDelete:a,handleSelect:r,uploaderIcon:t.btnIcons.uploader,captureIcon:t.btnIcons.capture,locale:i.gallery,list:c,key:"ImageManagerContentInitialINITIAL"})];case w.MODE_TYPES.UPLOAD:return[g.default.createElement("div",{key:"divUPLOAD",className:"sign-m-body"},g.default.createElement(Y,{maxFileSize:d.maxFileSize,allowedFileTypes:d.allowedFileTypes,handleFilesSelect:this.handleFilesSelect,handleErrors:p,errors:i.errors.dropZone,checkImage:!0},g.default.createElement(H,{title:i.upload.dropZone.title}),g.default.createElement(U,{content:i.upload.dropZone.text+" "+d.maxFileSize+"."}),g.default.createElement(F,{title:i.upload.dropZone.button,className:"g-btn g-btn-primary g-btn-auto-width"}))),g.default.createElement(P.ImageManagerFooter,{key:"ImageManagerFooterUPLOAD",backButtonText:i.backButton,onButtonClick:u})];case w.MODE_TYPES.MOBILE_UPLOAD:var h=this.props.targetFiles,f=d.maxFileSize,E=d.allowedFileTypes;return this.onLoadFilesSelect(h,f,E),[g.default.createElement(R.ImageManagerContentUploading,{title:i.uploading.text,uploadedPercent:s,key:"ImageManagerContentUploadingSM_MOBILE_UPLOADER"}),g.default.createElement(P.ImageManagerFooter,{key:"ImageManagerFooterMOBILE_UPLOAD",backButtonText:i.backButton,onButtonClick:u})];case w.MODE_TYPES.UPLOADING:return[g.default.createElement(R.ImageManagerContentUploading,{key:"ImageManagerContentUploadingUPLOADING",title:i.uploading.text,uploadedPercent:s}),g.default.createElement(P.ImageManagerFooter,{key:"ImageManagerFooterUPLOADING",backButtonText:i.backButton,onButtonClick:u})];case w.MODE_TYPES.CAPTURE:return[g.default.createElement("div",{key:"divCAPTURE",className:"sign-m-body"},g.default.createElement("div",null,i.capture.text),g.default.createElement("div",{className:"crop-body",ref:"cropBody"},g.default.createElement("div",{className:"crop-body-table"},g.default.createElement("div",{className:"crop-body-cell"},g.default.createElement(K,{ref:this.setReference,handleImage:this.handleImage,handleError:p,jsOnly:l,isImageMirrored:!0}))))),g.default.createElement(N.ImageManagerFooterCapture,{key:"ImageManagerFooterCaptureCAPTURE",takeSnapShot:function(){return n.webcamInstance.takeSnapshot()}})];default:return null}}},{key:"render",value:function(){var e=this.props.type,t=w.MODES[e],n=t.content.mods||"";return g.default.createElement(A.default,{contentLabel:"Modal",className:"sign-m "+n,overflow:"hidden"},this.renderHeaderByTypeContent(t.content.type),this.renderComponentByTypeContent(t.content.type,t.footer))}}],[{key:"getModalId",value:function(){return x}}]),t}(S.Component))||r;j.propTypes=W,e.exports=j},1587:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a,r,i,s,l=n(3),d=o(l),c=n(1),u=o(c),p=n(2),h=o(p),f=n(5),E=o(f),m=n(4),_=o(m),S=n(6),g=o(S),T=n(0),v=o(T),y=n(7),O=n(29),C=n(437),D=o(C),M=n(1345),A=o(M),b=n(432),R=n(40),I=o(R),P=n(1343),N=o(P),w=n(1279),k=o(w),L=n(1524),B=o(L),x=n(1353),Y=n(1352),F=n(1557),U=n(1560),H=n(1568),K=n(1554),G=n(1566),W=n(1558),j=n(1559),V=n(1552),z=n(1551),X=o(z),q=n(1569),Z=o(q),Q=n(1550),J=n(1563),$=n(1562),ee=n(1567),te=n(1565),ne=o(te),oe=n(1564),ae=o(oe),re=n(1305),ie=n(1268),se=n(1267),le=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(se),de=n(1270),ce=n(1287),ue=ie.modalIds.SIGNATURE_MANAGER,pe=A.default.DropzoneComponentWrapper,he=A.default.DropzoneButton,fe=A.default.DropzoneContent,Ee=A.default.DropzoneTitle,me=D.default.Webcam,_e=D.default.WebcamUtils,Se=N.default.inputHandler,ge=N.default.SYSTEM,Te=N.default.controllers,ve=Te.EnterEscapeController,ye=Te.AddressBookController,Oe=function(e){var t=(0,O.bindActionCreators)({disableWebcam:le.disableWebcam,uploadSignatureImage:le.uploadSignatureImage,smGallery:le.smGallery,closeSignature:le.closeSignature,getContactEmail:le.getContactEmail,getContactPhoneNumber:le.getContactPhoneNumber,setError:le.smSetError,clearError:le.clearErrors,smInitial:le.smInitial,smOpenEditor:le.smOpenEditor,setOriginalImage:le.smSetOriginalImage,initialImageAdjust:k.default.initialImageAdjust,restoreInitialState:k.default.restoreInitialState},e);return(0,g.default)({},t,{dispatch:e})},Ce=(a=(0,y.connect)(function(e){return(0,g.default)({},e.im.modeSignature,{locale:(0,de.getSignatureManagerLocale)(e),dropzoneConfig:e.im.dropzoneConfig,signatures:e.ws.signatures,addedSignature:e.ws.addedSignature,uploadedPercent:e.im.uploadedPercent,mobileSignatureMethod:e.im.mobileSignatureMethod,modalsOptions:e.modal.options,originalImage:e.im.originalImage,error:e.im.signatureManagerError,editedImage:e.signatureEditor.image,deviceProps:e.deviceProps})},Oe))((s=i=function(e){function t(e){(0,u.default)(this,t);var n=e.modalsOptions,o=e.modalId,a=e.dispatch,r=(0,E.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return r.state={selectedPreviewOption:1},r.webcamInstance=null,r.handleError=r.handleError.bind(r),r.handleFilesSelect=r.handleFilesSelect.bind(r),r.handleEditedImage=r.handleEditedImage.bind(r),r.handleImage=r.handleImage.bind(r),r.handleOpenAddressBook=r.handleOpenAddressBook.bind(r),r.handleClose=r.handleClose.bind(r),r.setReference=r.setReference.bind(r),r.handlePreviewOptionSelection=r.handlePreviewOptionSelection.bind(r),r.handleEditorPreviewConfirm=r.handleEditorPreviewConfirm.bind(r),r.onLoadFilesSelect=r.onLoadFilesSelect.bind(r),r.handleWebcamImage=r.handleWebcamImage.bind(r),r.modalId=t.getModalId(),r.modalOptions=n[r.modalId]||n[o]||{},r.enterEscapeController=new ve(a),r.addressBookController=new ye(a),r}return(0,_.default)(t,e),(0,h.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.disableWebcam,n=e.jsOnly;_e.checkWebcamAvailability(n,function(e){e||t()})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.addedSignature,o=t.handleSelect,a=t.error;n&&n!==e.addedSignature?o(n):a&&a!==e.error&&this.handleError(a)}},{key:"onLoadFilesSelect",value:function(e){var t=this.props,n=t.dropzoneConfig,o=t.locale,a=t.setError,r=n.maxFileSize,i=n.allowedFileTypes,s={customErrors:o.errors,imageDimensions:n.imageDimensions,checkImage:!0,maxFilesNumber:1,maxFileSize:r,allowedFileTypes:i};(0,b.validateFiles)(e,s,this.handleFilesSelect,a)}},{key:"handleFilesSelect",value:function(e){if(e[0]){var t=this.props,n=t.initialImageAdjust,o=t.setOriginalImage,a=t.deviceProps,r=e[0];(0,ce.isTabletOrMobile)(a)?this.handleImage(r.data,{width:r.width,height:r.height}):(n(r.data),o(r.data))}}},{key:"handleWebcamImage",value:function(e){var t=this.props,n=t.initialImageAdjust,o=t.setOriginalImage;n(e),o(e)}},{key:"handleClose",value:function(){var e=this.props,t=e.closeSignature,n=e.smGallery,o=e.handleClose;o&&o(),t(),n()}},{key:"handleError",value:function(e){var t=this.props,n=t.handleError,o=t.locale,a=t.clearError;n({btnConfirmText:o.errorModal.button,title:o.errorModal.title,content:e}),a()}},{key:"handlePreviewOptionSelection",value:function(e){this.setState({selectedPreviewOption:e})}},{key:"handleEditorPreviewConfirm",value:function(){var e=this.props,t=e.smOpenEditor,n=e.restoreInitialState;switch(this.state.selectedPreviewOption){case 1:return this.handleEditedImage(!0);case 2:return t();case 3:return n()}}},{key:"handleEditedImage",value:function(e){var t=this.props,n=t.uploadSignatureImage,o=t.editedImage,a=t.handleUpload;n(o,e,null,function(t,n){n&&a(n,e)})}},{key:"handleImage",value:function(e,t){var n=this.props,o=n.uploadSignatureImage,a=n.handleUpload;o(e,!1,t,function(e,t){e||a(t,!1)})}},{key:"handleOpenAddressBook",value:function(){(0,this.props.handleOpenAddressBook)({controller:this.addressBookController,inputHandler:Se,controllerConstants:ge})}},{key:"setReference",value:function(e){this.webcamInstance=e}},{key:"renderHeaderByTypeContent",value:function(e){var t=this.props,n=t.smInitial,o=t.smGallery,a=t.upload,r=t.locale,i=t.signatures,s={status:!0},l="",d="",c="",u=n;switch(e){case ie.MODE_TYPES.SM_GALLERY:l=r.gallery.header,d="sign-m-svg-icon-type-sm",s.status=!1;break;case ie.MODE_TYPES.SM_INITIAL:l=r.methods.header,d="sign-m-svg-icon-gallery-signature-sm",s.status=i.length>0,u=o;break;case ie.MODE_TYPES.SM_TYPE_SIGNATURE:l=r.type.header,d="sign-m-svg-icon-type-sm";break;case ie.MODE_TYPES.SM_QR:l=r.qr.header,d="sign-m-svg-icon-qr-mobile-sm";break;case ie.MODE_TYPES.SM_SMS:l=r.sms.header,d="sign-m-svg-icon-sms-mobile-sm";break;case ie.MODE_TYPES.SM_EMAIL:l=r.email.header,d="sign-m-svg-icon-email-mobile-sm";break;case ie.MODE_TYPES.SM_DRAW:l=r.draw.header,d="sign-m-svg-icon-draw-sm",c="sign-m-mobile-hide";break;case ie.MODE_TYPES.SM_MOBILE_SIGN_LOADING:l=r.draw.header,d="sign-m-svg-icon-draw-sm";break;case ie.MODE_TYPES.SM_CAPTURE:l=r.capture.header,d="sign-m-svg-icon-camera-sm";break;case ie.MODE_TYPES.SM_UPLOADER:l=r.upload.header,d="sign-m-svg-icon-upload-sm";break;case ie.MODE_TYPES.SM_MOBILE_UPLOADER:l=r.upload.header,d="sign-m-svg-icon-upload-sm",u=a;break;case ie.MODE_TYPES.SM_UPLOADING:l=r.uploading.header,d="sign-m-svg-icon-upload-sm",u=a;break;case ie.MODE_TYPES.SM_EDITOR_PREVIEW:case ie.MODE_TYPES.SM_EDITOR:l=r.upload.header,d="sign-m-svg-icon-upload-sm"}return v.default.createElement(x.ImageManagerHeader,{icon:d,title:l,btnBack:s,btnBackDispatch:u,handleClose:this.handleClose,addClass:c})}},{key:"renderComponentByTypeContent",value:function(e){var t=this,n=this.props,o=n.handleDelete,a=n.handleSelect,r=n.handleText,i=n.handleCurves,s=n.locale,l=n.getUserName,d=n.uploadedPercent,c=n.jsOnly,u=n.dropzoneConfig,p=n.smInitial,h=n.signatures,f=n.originalImage,E=n.editedImage,m=n.setError,_=this.state.selectedPreviewOption,S=this.modalOptions.restrictSubTypes;switch(e){case ie.MODE_TYPES.SM_INITIAL:return[v.default.createElement(F.SignatureManagerMethodList,{handleText:r,getUserName:l,restrictSubTypes:S,controller:this.enterEscapeController,onLoadFilesSelect:this.onLoadFilesSelect,key:"SignatureManagerMethodListSM_INITIAL"}),v.default.createElement(ee.SignatureManagerFooterInitial,{key:"SignatureManagerFooterInitialSM_INITIAL"})];case ie.MODE_TYPES.SM_TYPE_SIGNATURE:return[v.default.createElement(U.SignatureManagerTypeSignature,{key:"SignatureManagerTypeSignatureSM_TYPE_SIGNATURE"}),v.default.createElement(H.SignatureManagerFooterTypeSignature,{handleText:r,key:"SignatureManagerFooterTypeSignatureSM_TYPE_SIGNATURE"})];case ie.MODE_TYPES.SM_MOBILE_SIGN_LOADING:return[v.default.createElement(K.SignatureManagerGalleryList,{handleSelect:a,handleDelete:o,restrictSubTypes:S,key:"SignatureManagerGalleryListSM_MOBILE_SIGN_LOADING"}),v.default.createElement(G.SignatureManagerFooterGallery,{key:"SignatureManagerFooterGallerySM_MOBILE_SIGN_LOADING"})];case ie.MODE_TYPES.SM_GALLERY:return h?[v.default.createElement(K.SignatureManagerGalleryList,{handleSelect:a,handleDelete:o,restrictSubTypes:S,key:"SignatureManagerGalleryListSM_GALLERY"}),v.default.createElement(G.SignatureManagerFooterGallery,{key:"SignatureManagerFooterGallerySM_GALLERY"})]:v.default.createElement("div",{className:"loading-overlay",key:"LoaderSM_GALLERY"},v.default.createElement(re.Loader,{title:s.gallery.loadingText}));case ie.MODE_TYPES.SM_QR:return[v.default.createElement(W.SignatureManagerQR,{key:"SignatureManagerQRSM_QR"}),v.default.createElement(Z.default,{key:"SignatureManagerFooterQRSM_QR",onButtonClick:p,backButtonText:s.backButton})];case ie.MODE_TYPES.SM_SMS:return[v.default.createElement(j.SignatureManagerSMS,{key:"SignatureManagerSMSSM_SMS",openAddressBook:this.handleOpenAddressBook}),v.default.createElement(Z.default,{key:"SignatureManagerSMSSM_SMS_Footer",onButtonClick:p,backButtonText:s.backButton})];case ie.MODE_TYPES.SM_EMAIL:return[v.default.createElement(V.SignatureManagerEmail,{openAddressBook:this.handleOpenAddressBook,key:"SignatureManagerEmailSM_EMAIL"}),v.default.createElement(Z.default,{key:"SignatureManagerFooterEmailSM_EMAIL",onButtonClick:p,backButtonText:s.backButton})];case ie.MODE_TYPES.SM_DRAW:return[v.default.createElement(Q.SignatureManagerDraw,{handleCurves:i,handleSelect:a,key:"SignatureManagerDrawSM_DRAW"}),v.default.createElement(J.SignatureManagerFooterDraw,{key:"SignatureManagerFooterDrawSM_DRAW"})];case ie.MODE_TYPES.SM_MOBILE_UPLOADER:return[v.default.createElement(Y.ImageManagerContentUploading,{title:s.uploading.text,uploadedPercent:d,key:"ImageManagerContentUploadingSM_MOBILE_UPLOADER"}),v.default.createElement(Z.default,{key:"SignatureManagerFooterUploaderSM_MOBILE_UPLOADER",onButtonClick:p,backButtonText:s.backButton})];case ie.MODE_TYPES.SM_UPLOADER:return[v.default.createElement("div",{className:"sign-m-body",key:"divSM_UPLOADER"},v.default.createElement(pe,{maxFileSize:u.maxFileSize,allowedFileTypes:u.allowedFileTypes,handleFilesSelect:this.handleFilesSelect,handleErrors:m,errors:s.errors.dropZone,checkImage:!0},v.default.createElement(Ee,{title:s.upload.dropZone.title}),v.default.createElement(fe,{content:s.upload.dropZone.text+" "+u.maxFileSize+"."}),v.default.createElement(he,{title:s.upload.dropZone.button,className:"g-btn g-btn-primary g-btn-auto-width"}))),v.default.createElement(Z.default,{key:"SignatureManagerFooterUploaderSM_UPLOADER",onButtonClick:p,backButtonText:s.backButton})];case ie.MODE_TYPES.SM_UPLOADING:return[v.default.createElement(Y.ImageManagerContentUploading,{title:s.uploading.text,uploadedPercent:d,key:"ImageManagerContentUploadingSM_UPLOADING"}),v.default.createElement(Z.default,{key:"SignatureManagerFooterUploaderSM_UPLOADING",onButtonClick:p,backButtonText:s.backButton})];case ie.MODE_TYPES.SM_CAPTURE:return[v.default.createElement("div",{className:"sign-m-body",key:"divSM_CAPTURE"},v.default.createElement("div",null,s.capture.text),v.default.createElement("div",{className:"crop-body",ref:"cropBody"},v.default.createElement("div",{className:"crop-body-table"},v.default.createElement("div",{className:"crop-body-cell"},v.default.createElement(me,{ref:this.setReference,handleImage:this.handleWebcamImage,handleError:m,jsOnly:c,isImageMirrored:!0,crop:!0}))))),v.default.createElement($.SignatureManagerFooterCapture,{takeSnapShot:function(){return t.webcamInstance.takeSnapshot()},key:"SignatureManagerFooterCaptureSM_CAPTURE"})];case ie.MODE_TYPES.SM_EDITOR_PREVIEW:return[v.default.createElement("div",{className:"sign-m-body",key:"SM_EDITOR_PREVIEW_content"},v.default.createElement(X.default,{handlePreviewOptionSelection:this.handlePreviewOptionSelection,locale:s.editorPreview,editedImage:E,originalImage:f,selectedOption:_})),v.default.createElement(ne.default,{key:"SM_EDITOR_PREVIEW_footer",onClick:this.handleEditorPreviewConfirm})];case ie.MODE_TYPES.SM_EDITOR:return[v.default.createElement("div",{className:"sign-m-body",key:"SM_EDITOR_content"},v.default.createElement(B.default,null)),v.default.createElement(ae.default,{key:"SM_EDITOR_footer",handleSave:function(){return t.handleEditedImage(!1)},handleSaveAndUse:function(){return t.handleEditedImage(!0)}})]}}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.signatures,o=ie.MODES[t];o.type===ie.MODE_TYPES.SM_GALLERY&&n&&!n.length&&(o=ie.MODES[ie.MODE_TYPES.SM_INITIAL]);var a=o.mods||"";return v.default.createElement(I.default,{contentLabel:"Modal",className:"sign-m "+a,overflow:"hidden"},this.renderHeaderByTypeContent(o.type),this.renderComponentByTypeContent(o.type))}}],[{key:"getModalId",value:function(){return ue}}]),t}(T.Component),i.propTypes={initialImageAdjust:T.PropTypes.func.isRequired,setOriginalImage:T.PropTypes.func.isRequired,smOpenEditor:T.PropTypes.func.isRequired,setError:T.PropTypes.func.isRequired,handleError:T.PropTypes.func.isRequired,clearError:T.PropTypes.func.isRequired,addedSignature:T.PropTypes.oneOfType([T.PropTypes.object,T.PropTypes.bool]),disableWebcam:T.PropTypes.func,uploadSignatureImage:T.PropTypes.func,handleClose:T.PropTypes.func,handleUpload:T.PropTypes.func,handleDelete:T.PropTypes.func,handleSelect:T.PropTypes.func,handleText:T.PropTypes.func,handleCurves:T.PropTypes.func,upload:T.PropTypes.func,dispatch:T.PropTypes.func,getUserName:T.PropTypes.func,getContactEmail:T.PropTypes.func,getContactPhoneNumber:T.PropTypes.func,smGallery:T.PropTypes.func,closeSignature:T.PropTypes.func,handleOpenAddressBook:T.PropTypes.func,smInitial:T.PropTypes.func,restoreInitialState:T.PropTypes.func,locale:T.PropTypes.object,dropzoneConfig:T.PropTypes.object,modalsOptions:T.PropTypes.object,deviceProps:T.PropTypes.object,targetFiles:T.PropTypes.object,jsOnly:T.PropTypes.bool,signatures:T.PropTypes.array,uploadedPercent:T.PropTypes.number,type:T.PropTypes.string,modalId:T.PropTypes.string,mobileSignatureMethod:T.PropTypes.string,originalImage:T.PropTypes.string,editedImage:T.PropTypes.string,error:T.PropTypes.string},r=s))||r;e.exports=Ce},1588:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(1),r=o(a),i=n(2),s=o(i),l=function(){function e(t){(0,r.default)(this,e),this.config={noChangeCountToEnd:100,noEndTimeout:1e3},this.callback=t,this.lastEnd=null,this.interval=null,this.timeout=null,this.changeOrientation=this.changeOrientation.bind(this),"undefined"!=typeof window&&window.addEventListener("orientationchange",this.changeOrientation)}return(0,s.default)(e,[{key:"changeOrientation",value:function(){var e=this,t=void 0,n=void 0,o=void 0;this.lastEnd&&this.lastEnd(!1),this.lastEnd=this.end,this.interval=setInterval(function(){window.innerWidth===t&&window.innerHeight===n?++o===e.config.noChangeCountToEnd&&e.end(!0):(t=window.innerWidth,n=window.innerHeight,o=0)}),this.timeout=setTimeout(function(){return e.end(!0)},this.config.noEndTimeout)}},{key:"end",value:function(e){clearInterval(this.interval),clearTimeout(this.timeout),this.interval=null,this.timeout=null,e&&this.callback()}},{key:"removeEventListener",value:function(){"undefined"!=typeof window&&window.removeEventListener("orientationchange",this.changeOrientation)}}]),e}();t.default=l},1589:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),r=o(a),i=n(29),s=n(1326),l=n(1325),d=n(436),c=o(d),u=n(1348),p=o(u),h=n(1349),f=o(h),E=n(168),m=o(E),_=n(451),S=o(_),g=n(1308),T=n(1307),v=function(e){var t=[T.imageSignature,T.editorManager,l.maskMiddleware,c.default,p.default].concat((0,r.default)(e));return(0,i.compose)(i.applyMiddleware.apply(void 0,(0,r.default)(t)))(i.createStore)((0,i.combineReducers)({deviceProps:g.deviceProps,signatureEditor:f.default,modal:m.default,im:g.im,ws:g.ws,ab:s.ab,locale:S.default}))};t.default=v},1590:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1346),r=o(a),i=n(1279),s=o(i),l=n(1267),d=o(l),c=n(1296),u=n(1268),p=function(e){return function(t){return function(n){var o=t(n),a=e.getState().im.modeSignature.type;switch(n.type){case r.default.EDITED_IMAGE_SET:a!==u.MODE_TYPES.SM_CAPTURE&&a!==u.MODE_TYPES.SM_UPLOADER||e.dispatch(d.default.smOpenEditorPreview());break;case r.default.INITIAL_STATE_RESTORE:a===u.MODE_TYPES.SM_EDITOR_PREVIEW&&e.dispatch(d.default.smOpenEditor());break;case r.default.EDITED_IMAGE_RESTORE:a===u.MODE_TYPES.SM_EDITOR&&e.dispatch(d.default.smOpenEditorPreview());break;case c.actionTypes.SIGNATURE_MANAGER_LOCALE_SET:n.locale.editor&&e.dispatch(s.default.setLocale(n.locale.editor));break;case c.actionTypes.CLOSE_SIGNATURE:a!==u.MODE_TYPES.SM_EDITOR_PREVIEW&&a!==u.MODE_TYPES.SM_EDITOR||e.dispatch(s.default.resetEditor())}return o}}};t.default=p},1591:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),r=o(a),i=n(6),s=o(i),l=n(253),d=o(l),c=n(166),u=n(1296),p=n(1267),h=o(p),f=n(1268),E=void 0,m=function(e){return function(t){return function(n){switch(n.type){case u.actionTypes.INITIAL:e.dispatch((0,c.setLocale)("imageManager",f.LOCALE.imageManagerLocale)),e.dispatch((0,c.setLocale)("signatureManager",f.LOCALE.signatureManagerLocale));break;case u.actionTypes.API_REST_SET:E=new d.default("ImageSignatureManager",n.config);break;case u.actionTypes.SM_LAUNCH_UPLOAD_IMAGE:if(E){var o=n.data,a=n.use,i=n.dimensions,l=n.callback;e.dispatch(h.default.smUploading()),E.upload(o,function(t,n){if(n){var o=i||e.getState().signatureEditor.imageDimensions,r=(0,s.default)({},n,o);a||e.dispatch(h.default.smGallery()),l(null,r)}else e.dispatch(h.default.smSetError(t))},function(t){return e.dispatch(h.default.setUploadedPercent(t))})}else e.dispatch(h.default.smSetError("apiRest is "+(void 0===E?"undefined":(0,r.default)(E))));break;case u.actionTypes.LAUNCH_UPLOAD_IMAGE:if(E){var p=n.data,m=n.callback;e.dispatch(h.default.uploading()),E.upload(p,function(t,n){n?(m(null,n),e.dispatch(h.default.initial())):e.dispatch(h.default.setError(t))},function(t){return e.dispatch(h.default.setUploadedPercent(t))})}break;case u.actionTypes.SM_GET_QR_URL:E?E.getQrUrl(function(t,n){n?(n=n.replace("#","%23"),e.dispatch(h.default.setQrUrl("https://chart.googleapis.com/chart?chs="+f.QR_PROPS.height+"x"+f.QR_PROPS.width+"&cht=qr&chl="+n))):e.dispatch(h.default.smSetError(t))}):e.dispatch(h.default.smSetError("apiRest is "+(void 0===E?"undefined":(0,r.default)(E))));break;case u.actionTypes.SM_SEND_PHONE_NUMBER:if(E){var _=e.getState().im.phoneNumber;E.sendPhoneNumber(_,function(t){t&&e.dispatch(h.default.smSetError(t))})}else e.dispatch(h.default.smSetError("apiRest is "+(void 0===E?"undefined":(0,r.default)(E))));break;case u.actionTypes.SM_SEND_EMAIL:if(E){var S=e.getState().im.email;E.sendEmail(S,function(t){t&&e.dispatch(h.default.smSetError(t))})}else e.dispatch(h.default.smSetError("apiRest is "+(void 0===E?"undefined":(0,r.default)(E))))}return t(n)}}};t.default=m},1592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1268),a={browser:"Chrome@52.0.2743.82",browserName:"Chrome",os:"GNU/Linux",osVersion:"",type:o.RENDER.DESKTOP_TYPE},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e};t.default=r},1593:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.im=void 0;var o=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o),r=n(1296),i=n(1268),s={smSignatureValue:"Dmitry Nozhenko",uploadedPercent:0,uploadImageFunction:null,webcamEnabled:!0,dropzoneConfig:i.DROPZONE_CONFIG,qrUrl:"",mobileSignatureMethod:"",phoneNumber:"",email:"",addressBookApiRest:null,drawConfig:{canUndo:!1,canRedo:!1,color:i.DRAW_OPTIONS.COLORS.BLACK,lineWidth:i.DRAW_OPTIONS.THICKNESS.XSMALL},mode:{type:i.MODE_TYPES.INITIAL},modeSignature:{type:i.MODE_TYPES.SM_GALLERY,loadState:!1,showResend:!1,uploaderType:null},listMethods:{methodPreview:{strip:"easy",icon:"sign-m-svg-icon-type"},methodList:i.METHODS_LIST},originalImage:"",imageManagerError:"",signatureManagerError:"",signature:{}};t.im=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r.actionTypes.INITIAL:return(0,a.default)({},e,{mode:(0,a.default)({},e.mode,{type:i.MODE_TYPES.INITIAL}),uploadedPercent:0});case r.actionTypes.UPLOADER:return(0,a.default)({},e,{mode:(0,a.default)({},e.mode,{type:i.MODE_TYPES.UPLOADER})});case r.actionTypes.MOBILE_UPLOADER:return(0,a.default)({},e,{mode:(0,a.default)({},e.mode,{type:i.MODE_TYPES.MOBILE_UPLOADER,targetFiles:t.targetFiles})});case r.actionTypes.UPLOADING:return(0,a.default)({},e,{mode:(0,a.default)({},e.mode,{type:i.MODE_TYPES.UPLOADING}),uploadedPercent:0});case r.actionTypes.CAPTURE:return(0,a.default)({},e,{mode:(0,a.default)({},e.mode,{type:i.MODE_TYPES.CAPTURE})});case r.actionTypes.SET_UPLOADED_PERCENT:return(0,a.default)({},e,{uploadedPercent:Math.max(t.percent,e.uploadedPercent)});case r.actionTypes.DISABLE_WEBCAM:return(0,a.default)({},e,{webcamEnabled:!1});case r.actionTypes.ERROR_SET:return(0,a.default)({},e,{mode:(0,a.default)({},e.mode,{type:i.MODE_TYPES.INITIAL}),imageManagerError:t.error});case r.actionTypes.ERRORS_CLEAN:return(0,a.default)({},e,{imageManagerError:"",signatureManagerError:""});case r.actionTypes.CLOSE_SIGNATURE:return(0,a.default)({},e,{smSignatureStatus:!1,phoneNumber:"",email:""});case r.actionTypes.SM_INITIAL:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_INITIAL})});case r.actionTypes.SM_SET_DRAW_CONFIG:return(0,a.default)({},e,{drawConfig:(0,a.default)({},e.drawConfig,t.config)});case r.actionTypes.TYPE_SIGNATURE:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_TYPE_SIGNATURE})});case r.actionTypes.SM_GALLERY:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_GALLERY,loadState:!1}),signature:{}});case r.actionTypes.SM_QR:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_QR})});case r.actionTypes.SM_SMS:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_SMS})});case r.actionTypes.SM_EMAIL:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_EMAIL})});case r.actionTypes.SM_DRAW:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_DRAW})});case r.actionTypes.SM_DRAW_COMPONENT_UPDATE_HISTORY_POINT:return(0,a.default)({},e,{drawConfig:(0,a.default)({},e.drawConfig,t.drawConfig)});case r.actionTypes.SM_SIGNATURE_SAVE:return(0,a.default)({},e,{signature:t.signature});case r.actionTypes.SM_SIGNATURE_VALUE:return(0,a.default)({},e,{smSignatureValue:t.value});case r.actionTypes.SM_SIGNATURE_STATUS_CHANGE:return(0,a.default)({},e,{smSignatureStatus:t.value.message});case r.actionTypes.SM_SIGNATURE_FONT:return(0,a.default)({},e,{smSignatureFont:t.font});case r.actionTypes.SM_UPLOADER:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_UPLOADER,uploaderType:i.MODE_TYPES.SM_UPLOADER})});case r.actionTypes.SM_MOBILE_UPLOADER:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_MOBILE_UPLOADER,uploaderType:i.MODE_TYPES.SM_UPLOADER})});case r.actionTypes.SM_SET_ORIGINAL_IMAGE:return(0,a.default)({},e,{originalImage:t.image});case r.actionTypes.SM_UPLOADING:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_UPLOADING}),uploadedPercent:0});case r.actionTypes.SM_CAPTURE:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_CAPTURE,uploaderType:i.MODE_TYPES.SM_CAPTURE})});case r.actionTypes.SM_MOBILE_SIGN_LOADING:var n=e.mobileSignatureMethod!==i.MODE_TYPES.SM_QR;return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_MOBILE_SIGN_LOADING,loadState:!0,showResend:n})});case r.actionTypes.SM_SET_UPLOAD_FUNCTION:return(0,a.default)({},e,{uploadImageFunction:t.imageUploadFunction});case r.actionTypes.SM_SET_QR_URL:return(0,a.default)({},e,{qrUrl:t.url});case r.actionTypes.SM_SET_MOBILE_SIGNATURE_METHOD:return(0,a.default)({},e,{mobileSignatureMethod:t.method});case r.actionTypes.SM_SAVE_PHONE_NUMBER:return(0,a.default)({},e,{phoneNumber:t.number});case r.actionTypes.SM_SAVE_EMAIL:return(0,a.default)({},e,{email:t.email});case r.actionTypes.SM_MOBILE_SIGNATURE_RESEND:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:e.mobileSignatureMethod,loadState:!1})});case r.actionTypes.SM_GET_CONTACT_EMAIL:return(0,a.default)({},e,{email:t.contact.email});case r.actionTypes.SM_GET_CONTACT_PHONE_NUMBER:return(0,a.default)({},e,{phoneNumber:t.contact.phone.replace(/[^+0-9]/g,"")});case r.actionTypes.SM_SET_ADDRESSBOOK_API_REST:return(0,a.default)({},e,{addressBookApiRest:t.apiRest});case r.actionTypes.SM_EDITOR_PREVIEW_OPEN:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_EDITOR_PREVIEW})});case r.actionTypes.SM_EDITOR_OPEN:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_EDITOR})});case r.actionTypes.SM_ERROR_SET:return(0,a.default)({},e,{modeSignature:(0,a.default)({},e.modeSignature,{type:i.MODE_TYPES.SM_GALLERY,loadState:!1}),signatureManagerError:t.error});default:return e}}},1594:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ws=void 0;var o=n(1268),a={images:[{systemId:17891,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17896,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17826,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"},{systemId:17891,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17896,url:"https://dev5.pdffiller.com/flash/data/pics/MTc4OTY7MTEwNjIxNjc=/e700a9fb3d9f9e2d0f4c048d144f86c1/0.png"},{systemId:17826,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"}],signatures:[{id:123423,subType:o.SUB_TYPES.curve,curve:[{lineWidth:1,smoothing:!0,color:"#000000",controlPoints:[0,0,10,10,20,20]},{lineWidth:1,smoothing:!0,color:"#000000",controlPoints:[0,0,10,40,20,70]}]},{id:89897812,subType:o.SUB_TYPES.image,url:"http://s3.amazonaws.com/TimeScapes/images/stills/4k/big_sur.jpg"},{id:45645,subType:o.SUB_TYPES.initials,fontFamily:o.FONTS.PETRA.original,fontSize:12,text:"A. N."},{id:4531645,subType:o.SUB_TYPES.initials,fontFamily:o.FONTS.PETRA.original,fontSize:50,text:"Long Initials"},{id:91827,subType:o.SUB_TYPES.text,fontFamily:o.FONTS.PETRA.original,fontSize:50,text:"Long Text"}]};t.ws=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,e}},1595:function(e,t,n){var o,a;/**
 * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT
 */
!function(n){"use strict";var r=function(e){var t=[],n=/\[\]$/,o=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=function(e,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)},r=function(e,i){var s,l,d;if(e)if(o(i))for(s=0,l=i.length;s<l;s++)n.test(e)?a(e,i[s]):r(e+"["+("object"==typeof i[s]?s:"")+"]",i[s]);else if(i&&"[object Object]"===String(i))for(d in i)r(e+"["+d+"]",i[d]);else a(e,i);else if(o(i))for(s=0,l=i.length;s<l;s++)a(i[s].name,i[s].value);else for(d in i)r(d,i[d]);return t};return r("",e).join("&").replace(/%20/g,"+")};"object"==typeof e&&"object"==typeof e.exports?e.exports=r:(o=[],void 0!==(a=function(){return r}.apply(t,o))&&(e.exports=a))}()},1610:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CONNECT="WEBSOCKET_CONNECT",t.CLOSE="WEBSOCKET_CLOSE",t.ERROR="WEBSOCKET_ERROR"},1611:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WsService=t.MESSAGE_MANAGER_HOST_PRODUCTION=t.MESSAGE_MANAGER_HOST_DEVELOPMENT=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(261),l=n(1610);t.MESSAGE_MANAGER_HOST_DEVELOPMENT="wss://wsmm_dev.pdffiller.com",t.MESSAGE_MANAGER_HOST_PRODUCTION="wss://wsmm.pdffiller.com",t.WsService=function(e){function t(e,n,r){o(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.host=e,i.port=n,i.uid=r,i}return r(t,e),i(t,[{key:"parseInput",value:function(e,t){var n=e.match(/([^:]+[:][^:]+)[:]?([^:]*)/),o=n[1].trim(),a=n[2]&&n[2].trim()||t&&t.trim();return!/wss[:][\/][\/]/.test(o)&&console.warn("WsService: Host is not wss:// address: ",o),a&&/[^\d]/.test(a)&&console.warn("WsService: Port is not a number value: ",a),{host:o,port:a}}},{key:"connect",value:function(){var e=this;this.ws&&(this.ws.close(),delete this.ws);var t=this.parseInput(this.host,this.port),n=t.host,o=t.port;return this.ws=new WebSocket(n+(o?":"+o:"")),this.ws.onopen=function(){e.emit(l.CONNECT),e.startPing(5e3),e.ws.send(e.authMessage())},this.ws.onmessage=function(t){var n=void 0;try{n=JSON.parse(t.data)}catch(e){n={group:"SYSTEM",type:"ALERT",message:t.data}}n.group||(n.group="SYSTEM"),n.type||n.message||(n.message=n.type,n.type="ALERT"),e.emit(n.type,n)},this.ws.onclose=function(){e.stopPing(),e.emit(l.CLOSE)},this.ws.onerror=function(){e.emit(l.ERROR)},this.ws}},{key:"authMessage",value:function(){return JSON.stringify({auth:{userId:this.uid}})}},{key:"startPing",value:function(e){var t=this;this.ws.pingpongTimer=setInterval(function(){t.ws.OPEN===t.ws.readyState?t.ws.send(t.pingMessage()):t.stopPing()},e)}},{key:"stopPing",value:function(){clearInterval(this.ws.pingpongTimer)}},{key:"pingMessage",value:function(){return JSON.stringify({})}}]),t}(s.EventEmitter)},1619:function(e,t,n){!function(t,o){e.exports=o(n(0),n(11))}(0,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return"application/x-moz-file"===e.type||(0,S.default)(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=n(2),f=a(h),E=n(3),m=a(E),_=n(4),S=a(_),g=n(5),T=a(g),v="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"),y=function(e){function t(e,n){s(this,t);var o=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.renderChildren=function(e,t,n){return"function"==typeof e?e(u({},o.state,{isDragActive:t,isDragReject:n})):e},o.onClick=o.onClick.bind(o),o.onDocumentDrop=o.onDocumentDrop.bind(o),o.onDragStart=o.onDragStart.bind(o),o.onDragEnter=o.onDragEnter.bind(o),o.onDragLeave=o.onDragLeave.bind(o),o.onDragOver=o.onDragOver.bind(o),o.onDrop=o.onDrop.bind(o),o.onFileDialogCancel=o.onFileDialogCancel.bind(o),o.setRef=o.setRef.bind(o),o.setRefs=o.setRefs.bind(o),o.onInputElementClick=o.onInputElementClick.bind(o),o.isFileDialogActive=!1,o.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},o}return d(t,e),p(t,null,[{key:"onDocumentDragOver",value:function(e){e.preventDefault()}}]),p(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",t.onDocumentDragOver,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",t.onDocumentDragOver),document.removeEventListener("drop",this.onDocumentDrop)),this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),document.body.onfocus=null}},{key:"onDocumentDrop",value:function(e){this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),this.setState({draggedFiles:(0,T.default)(e)}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter(function(n){return n!==e.target&&t.node.contains(n)}),this.dragTargets.length>0||(this.setState({draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,a=n.onDrop,r=n.onDropAccepted,s=n.onDropRejected,l=n.multiple,d=n.disablePreview,u=n.accept,p=(0,T.default)(e),h=[],f=[];e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,p.forEach(function(e){if(!d)try{e.preview=window.URL.createObjectURL(e)}catch(t){"production"!==o.env.NODE_ENV&&console.error("Failed to generate preview for file",e,t)}c(e,u)&&t.fileMatchSize(e)?h.push(e):f.push(e)}),l||f.push.apply(f,i(h.splice(1))),a&&a.call(this,h,f,e),f.length>0&&s&&s.call(this,f,e),h.length>0&&r&&r.call(this,h,e),this.draggedFiles=null,this.setState({draggedFiles:[],acceptedFiles:h,rejectedFiles:f})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),setTimeout(this.open.bind(this),0))}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this.props.onFileDialogCancel,t=this.fileInputEl,n=this.isFileDialogActive;e&&n&&setTimeout(function(){t.files.length||(n=!1,e())},300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"fileMatchSize",value:function(e){return e.size<=this.props.maxSize&&e.size>=this.props.minSize}},{key:"allFilesAccepted",value:function(e){var t=this;return e.every(function(e){return c(e,t.props.accept)})}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.activeClassName,o=e.inputProps,a=e.multiple,i=e.name,s=e.rejectClassName,l=e.children,d=r(e,["accept","activeClassName","inputProps","multiple","name","rejectClassName","children"]),c=d.activeStyle,p=d.className,h=d.rejectStyle,E=d.style,m=r(d,["activeStyle","className","rejectStyle","style"]),_=this.state.draggedFiles,S=_.length,g=a||S<=1,T=S>0&&this.allFilesAccepted(_),y=S>0&&(!T||!g);p=p||"",T&&n&&(p+=" "+n),y&&s&&(p+=" "+s),p||E||c||h||(E={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},c={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},h={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"});var O=void 0;O=c&&T?u({},E,c):h&&y?u({},E,h):u({},E);var C={accept:t,type:"file",style:{display:"none"},multiple:v&&a,ref:this.setRefs,onChange:this.onDrop};i&&i.length&&(C.name=i);var D=["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"],M=u({},m);return D.forEach(function(e){return delete M[e]}),f.default.createElement("div",u({className:p,style:O},M,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,ref:this.setRef}),this.renderChildren(l,T,y),f.default.createElement("input",u({},o,C)))}}]),t}(f.default.Component);y.propTypes={accept:m.default.string,children:m.default.oneOfType([m.default.node,m.default.func]),disableClick:m.default.bool,disablePreview:m.default.bool,preventDropOnDocument:m.default.bool,inputProps:m.default.object,multiple:m.default.bool,name:m.default.string,maxSize:m.default.number,minSize:m.default.number,className:m.default.string,activeClassName:m.default.string,rejectClassName:m.default.string,style:m.default.object,activeStyle:m.default.object,rejectStyle:m.default.object,onClick:m.default.func,onDrop:m.default.func,onDropAccepted:m.default.func,onDropRejected:m.default.func,onDragStart:m.default.func,onDragEnter:m.default.func,onDragOver:m.default.func,onDragLeave:m.default.func,onFileDialogCancel:m.default.func},y.defaultProps={preventDropOnDocument:!0,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},t.default=y,e.exports=t.default}).call(t,n(1))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function r(e){if(u===clearTimeout)return clearTimeout(e);if((u===o||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function i(){E&&h&&(E=!1,h.length?f=h.concat(f):m=-1,f.length&&s())}function s(){if(!E){var e=a(i);E=!0;for(var t=f.length;t;){for(h=f,f=[];++m<t;)h&&h[m].run();m=-1,t=f.length}h=null,E=!1,r(e)}}function l(e,t){this.fun=e,this.array=t}function d(){}var c,u,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{u="function"==typeof clearTimeout?clearTimeout:o}catch(e){u=o}}();var h,f=[],E=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||E||a(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.prependListener=d,p.prependOnceListener=d,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t.default=function(e,t){if(e&&t){var n=function(){var n=Array.isArray(t)?t:t.split(","),o=e.name||"",a=e.type||"",r=a.replace(/\/.*$/,"");return{v:n.some(function(e){var t=e.trim();return"."===t.charAt(0)?o.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?r===t.replace(/\/.*$/,""):a===t})}}();if("object"==typeof n)return n.v}return!0},e.exports=t.default},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var o=n(2),a=n(1),r=n(4),i=n(19),s="prototype",l=function(e,t){return function(){return e.apply(t,arguments)}},d=function(e,t,n){var c,u,p,h,f=e&d.G,E=e&d.P,m=f?o:e&d.S?o[t]||(o[t]={}):(o[t]||{})[s],_=f?a:a[t]||(a[t]={});f&&(n=t);for(c in n)u=!(e&d.F)&&m&&c in m,p=(u?m:n)[c],h=e&d.B&&u?l(p,o):E&&"function"==typeof p?l(Function.call,p):p,m&&!u&&i(m,c,p),_[c]!=p&&r(_,c,h),E&&((_[s]||(_[s]={}))[c]=p)};o.core=a,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,e.exports=d},function(e,t,n){var o=n(5),a=n(18);e.exports=n(22)?function(e,t,n){return o.setDesc(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t,n){var o=n(20)("wks"),a=n(2).Symbol;e.exports=function(e){return o[e]||(o[e]=a&&a[e]||(a||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var o=n(10);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,a){return e.call(t,n,o,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var o=n(16),a=n(11),r=n(7)("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==a(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(2),a=n(4),r=n(6)("src"),i="toString",s=Function[i],l=(""+s).split(i);n(1).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,i){"function"==typeof n&&(a(n,r,e[t]?""+e[t]:l.join(String(t))),"name"in n||(n.name=t)),e===o?e[t]=n:(i||delete e[t],a(e,t,n))})(Function.prototype,i,function(){return"function"==typeof this&&this[r]||s.call(this)})},function(e,t,n){var o=n(2),a="__core-js_shared__",r=o[a]||(o[a]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var o=n(17),a=n(13);e.exports=function(e,t,n){if(o(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(e))}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t,n){var o=n(23),a=Math.min;e.exports=function(e){return e>0?a(o(e),9007199254740991):0}},function(e,t,n){"use strict";var o=n(3),a=n(24),r=n(21),i="endsWith",s=""[i];o(o.P+o.F*n(14)(i),"String",{endsWith:function(e){var t=r(this,e,i),n=arguments,o=n.length>1?n[1]:void 0,l=a(t.length),d=void 0===o?l:Math.min(a(o),l),c=String(e);return s?s.call(t,c,d):t.slice(d-c.length,d)===c}})},function(e,t,n){var o=n(5),a=n(3),r=n(1).Array||Array,i={},s=function(e,t){o.each.call(e.split(","),function(e){void 0==t&&e in r?i[e]=r[e]:e in[]&&(i[e]=n(12)(Function.call,[][e],t))})};s("pop,reverse,shift,keys,values,entries",1),s("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),s("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),a(a.S,"Array",i)}])},function(e,t){"use strict";function n(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default}])})},1620:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});for(var s=(function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()),l=n(0),d=o(l),c=n(23),u=o(c),p=n(439),h=o(p),f=["defer","iScroll","onRefresh","options"],E={},m=["beforeScrollStart","scrollCancel","scrollStart","scroll","scrollEnd","flick","zoomStart","zoomEnd"],_=0,S=m.length;_<S;_++){var g=m[_],T="on"+g[0].toUpperCase()+g.slice(1);E[T]=g,f.push(T)}var v=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._isMounted=!1,n._initializeTimeout=null,n._queuedCallbacks=[],n._iScrollBindedEvents={},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._initializeIScroll()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._teardownIScroll()}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,h.default)(this.props,e)||!(0,h.default)(this.context,t)}},{key:"componentDidUpdate",value:function(e){var t=this;(0,h.default)(e.options,this.props.options)?(this._updateIScrollEvents(e,this.props),this.refresh()):this.withIScroll(!0,function(e){var n=e.x,o=e.y,a=e.scale;t._teardownIScroll(),t._initializeIScroll(),t.withIScroll(!0,function(e){a&&e.zoom&&e.zoom(a,0,0,0),e.scrollTo(n,o)})})}},{key:"getIScroll",value:function(){return this._iScrollInstance}},{key:"getIScrollInstance",value:function(){return console.warn("Function 'getIScrollInstance' is deprecated. Instead use 'getIScroll'"),this._iScrollInstance}},{key:"withIScroll",value:function(e,t){t||"function"!=typeof e||(t=e),this.getIScroll()?t(this.getIScroll()):!0===e&&this._queuedCallbacks.push(t)}},{key:"refresh",value:function(){this.withIScroll(function(e){return e.refresh()})}},{key:"_runInitializeIScroll",value:function(){var e=this,t=this.props,n=t.iScroll,o=t.options,a=new n(u.default.findDOMNode(this),o);this._iScrollInstance=a,this._triggerRefreshEvent(),a.originalRefresh=a.refresh,a.refresh=function(){a.originalRefresh.apply(a),e._triggerRefreshEvent()},this._bindIScrollEvents(),this._callQueuedCallbacks()}},{key:"_initializeIScroll",value:function(){var e=this;if(!1!==this._isMounted){var t=this.props.defer;if(!1===t)this._runInitializeIScroll();else{var n=!0===t?0:t;this._initializeTimeout=setTimeout(function(){return e._runInitializeIScroll()},n)}}}},{key:"_callQueuedCallbacks",value:function(){var e=this._queuedCallbacks,t=e.length;this._queuedCallbacks=[];for(var n=0;n<t;n++)e[n](this.getIScroll())}},{key:"_teardownIScroll",value:function(){this._clearInitializeTimeout(),this._iScrollInstance&&(this._iScrollInstance.destroy(),this._iScrollInstance=void 0),this._iScrollBindedEvents={},this._queuedCallbacks=[]}},{key:"_clearInitializeTimeout",value:function(){null!==this._initializeTimeout&&(clearTimeout(this._initializeTimeout),this._initializeTimeout=null)}},{key:"_bindIScrollEvents",value:function(){this._iScrollBindedEvents={},this._updateIScrollEvents({},this.props)}},{key:"_updateIScrollEvents",value:function(e,t){for(var n in E)this._updateIScrollEvent(E[n],e[n],t[n])}},{key:"_updateIScrollEvent",value:function(e,t,n){if(t!==n){var o=this._iScrollBindedEvents;this.withIScroll(!0,function(a){if(void 0!==t&&(a.off(e,o[e]),o[e]=void 0),void 0!==n){var r=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];n.apply(void 0,[a].concat(t))};a.on(e,r),o[e]=r}})}}},{key:"_triggerRefreshEvent",value:function(){var e=this.props.onRefresh;"function"==typeof e&&this.withIScroll(function(t){return e(t)})}},{key:"render",value:function(){var e={};for(var t in this.props)~f.indexOf(t)||(e[t]=this.props[t]);return d.default.createElement("div",e)}}]),t}(d.default.Component);v.displayName="ReactIScroll",v.defaultProps={defer:!0,options:{},style:{position:"relative",height:"100%",width:"100%",overflow:"hidden"}},t.default=v},1623:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDrawElement=t.HISTORY_LENGTH_LIMIT=t.DEFAULT_SMOOTHING=t.DEFAULT_LINE_WIDTH=t.DEFAULT_COLOR=void 0;var a=n(1),r=o(a),i=n(2),s=o(i),l=n(1505),d=o(l),c=t.DEFAULT_COLOR="000000",u=t.DEFAULT_LINE_WIDTH=1,p=t.DEFAULT_SMOOTHING=!1,h=t.HISTORY_LENGTH_LIMIT=50;t.SignatureDrawElement=function(){function e(){(0,r.default)(this,e),this._canvas=null,this._curves=[],this._currentCurve={},this._color=c,this._lineWidth=u,this._smoothing=p,this._undoRedoCallback=null,this._isMobile=!1,this._history=[],this._currentHistoryPoint=-1,this._scale=1,this._historyLengthLimit=h}return(0,s.default)(e,[{key:"init",value:function(e,t,n,o,a,r){if(this._canvas=document.createElement("canvas"),this._canvas.width=e,this._canvas.height=t,this._curves=void 0!==n?(0,d.default)(n):[],this._undoRedoCallback=void 0!==o?o:null,a?(this._isMobile=new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile","i").test(navigator.userAgent),this._mouseDownHandler=this._mouseDown.bind(this),this._isMobile?this._canvas.addEventListener("touchstart",this._mouseDownHandler):this._canvas.addEventListener("mousedown",this._mouseDownHandler)):this._checkScale(),this._curves.length>0){var i=this._curves[this._curves.length-1];this._color=i.color,this._lineWidth=i.lineWidth,this._smoothing=i.smoothing,this._redraw()}else r&&(this._color=r.color,this._lineWidth=r.lineWidth);return this._canvas.getContext("2d").strokeStyle="#"==this._color.charAt(0)?this._color:"#"+this._color,null!=this._undoRedoCallback&&this._undoRedoCallback(),this._canvas}},{key:"update",value:function(e,t){return this._canvas.width=e,this._canvas.height=t,this._checkScale(!0),this._canvas.getContext("2d").strokeStyle="#"==this._color.charAt(0)?this._color:"#"+this._color,this._redraw(),this._canvas}},{key:"setCurvesColor",value:function(e){this._curves.forEach(function(t){t.color=e})}},{key:"setColor",value:function(e){this._color!=e&&(this._addHistoryPoint({type:"color",old:this._color,new:e}),this._color=e,this._redraw(),this.setCurvesColor(e))}},{key:"getColor",value:function(){return this._color}},{key:"setCurvesLineWidth",value:function(e){this._curves.forEach(function(t){t.lineWidth=e})}},{key:"setLineWidth",value:function(e){this._lineWidth!=e&&(this._addHistoryPoint({type:"lineWidth",old:this._lineWidth,new:e}),this._lineWidth=e,this._redraw(),this.setCurvesLineWidth(e))}},{key:"getLineWidth",value:function(){return this._lineWidth}},{key:"setSmoothing",value:function(e){this._smoothing!=e&&(this._addHistoryPoint({type:"smoothing",old:this._lineWidth,new:e}),this._smoothing=e,this._redraw())}},{key:"getSmoothing",value:function(){return this._smoothing}},{key:"mergeCurves",value:function(e){var t=void 0,n=[];if(e)for(var o=0,a=e.length;o<a;o++)t=e[o],n=n.concat(t.controlPoints);return n}},{key:"getWidthHeight",value:function(e){var t;return t=this.getMinMax(e),{width:t.max.x-t.min.x,height:t.max.y-t.min.y}}},{key:"getMinMax",value:function(e){var t;return t=this.dataToPointArray(e),{min:{x:Math.min.apply(Math,t.x),y:Math.min.apply(Math,t.y)},max:{x:Math.max.apply(Math,t.x),y:Math.max.apply(Math,t.y)}}}},{key:"dataToPointArray",value:function(e){var t=void 0,n=void 0,o=void 0,a=void 0,r=void 0;for(t={x:[],y:[]},n=a=0,r=e.length;a<r;n=++a)o=e[n],n%2==0?t.x.push(o):t.y.push(o);return t}},{key:"getSignatureCurveWidthHeight",value:function(e){var t={curves:e},n=this.mergeCurves(e),o=this.getWidthHeight(n);return t.width=o.width,t.height=o.height,t}},{key:"getCurves",value:function(){return this.getSignatureCurveWidthHeight(this._curves)}},{key:"clear",value:function(){this._addHistoryPoint({type:"curves",old:this._curves.concat(),new:[]}),this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height),this._curves=[]}},{key:"undo",value:function(){if(this.canUndo()){console.log("undo");var e=this._history[this._currentHistoryPoint];switch(e.type){case"color":this._color=e.old;break;case"lineWidth":this._lineWidth=e.old;break;case"smoothing":this._smoothing=e.old;break;case"curves":this._curves=e.old.concat()}this._redraw(),this._currentHistoryPoint--,null!=this._undoRedoCallback&&this._undoRedoCallback()}}},{key:"redo",value:function(){if(this.canRedo()){console.log("redo"),this._currentHistoryPoint++;var e=this._history[this._currentHistoryPoint];switch(e.type){case"color":this._color=e.new;break;case"lineWidth":this._lineWidth=e.new;break;case"smoothing":this._smoothing=e.new;break;case"curves":this._curves=e.new}this._redraw(),null!=this._undoRedoCallback&&this._undoRedoCallback()}}},{key:"canUndo",value:function(){return this._checkRange(),this._currentHistoryPoint>=0}},{key:"canRedo",value:function(){return this._checkRange(),this._currentHistoryPoint<this._history.length-1}},{key:"destroy",value:function(){this._mouseMoveHandler&&this._canvas.removeEventListener("mousemove",this._mouseMoveHandler),this._mouseUpHandler&&this._canvas.removeEventListener("mouseup",this._mouseUpHandler),this._mouseDownHandler&&this._canvas.removeEventListener("mousedown",this._mouseDownHandler),this._mouseLeaveHandler&&this._canvas.removeEventListener("mouseleave",this._mouseLeaveHandler)}},{key:"_mouseDown",value:function(e){this._currentCurve={lineWidth:this._lineWidth,smoothing:this._smoothing,color:this._color,controlPoints:[]},this._mouseMoveHandler=this._mouseMove.bind(this),this._mouseUpHandler=this._mouseUp.bind(this),this._mouseLeaveHandler=this._mouseLeave.bind(this),this._isMobile?(this._canvas.addEventListener("touchmove",this._mouseMoveHandler),this._canvas.addEventListener("touchend",this._mouseUpHandler),this._canvas.addEventListener("touchleave",this._mouseLeaveHandler)):(document.addEventListener("mousemove",this._mouseMoveHandler),document.addEventListener("mouseup",this._mouseUpHandler),document.addEventListener("mouseleave",this._mouseLeaveHandler))}},{key:"_mouseMove",value:function(e){e.preventDefault();var t=this._getMousePos(e,this._canvas);if(this._currentCurve.controlPoints){this._currentCurve.controlPoints.push(Math.round(t.x)),this._currentCurve.controlPoints.push(Math.round(t.y));var n=this._canvas.getContext("2d");4==this._currentCurve.controlPoints.length&&(n.lineWidth=this._currentCurve.lineWidth,n.strokeStyle=this._currentCurve.color,n.beginPath(),n.moveTo(this._currentCurve.controlPoints[0],this._currentCurve.controlPoints[1])),this._currentCurve.controlPoints.length>=4&&(n.lineTo(this._currentCurve.controlPoints[this._currentCurve.controlPoints.length-2],this._currentCurve.controlPoints[this._currentCurve.controlPoints.length-1]),n.stroke())}}},{key:"_mouseLeave",value:function(e){this._mouseUp(e)}},{key:"_mouseUp",value:function(e){if(document.removeEventListener("touchmove",this._mouseMoveHandler),document.removeEventListener("touchend",this._mouseUpHandler),document.removeEventListener("touchleave",this._mouseLeaveHandler),document.removeEventListener("mousemove",this._mouseMoveHandler),document.removeEventListener("mouseup",this._mouseUpHandler),document.removeEventListener("mouseleave",this._mouseLeaveHandler),this._mouseMoveHandler=null,this._mouseUpHandler=null,this._mouseLeaveHandler=null,this._currentCurve.controlPoints&&this._currentCurve.controlPoints.length>=4){var t=this._curves.concat();this._curves.push(this._currentCurve),this._redraw(),this._addHistoryPoint({type:"curves",old:t,new:this._curves.concat()})}this._currentCurve={}}},{key:"_checkScale",value:function(e){if(this._curves.length>0&&this._curves[0].controlPoints.length>0){for(var t=this._curves[0].controlPoints[0],n=this._curves[0].controlPoints[1],o=t,a=n,r=this._curves.length,i=0;i<r;i++){var s=this._curves[i].controlPoints,l=s.length;if(l%2==0)for(var d=0;d<l;d+=2)t=Math.max(t,s[d]),n=Math.max(n,s[d+1]),o=Math.min(o,s[d]),a=Math.min(a,s[d+1])}var c=this._canvas.width-6,u=this._canvas.height-6,p=t-o,h=n-a;(p>c||h>u)&&(this._scale=Math.min(c/p,u/h)),e&&(this._scale=Math.min(this._canvas.width/p,this._canvas.height/h));for(var f=(t+o)/2,E=(n+a)/2,m=0;m<r;m++){var s=this._curves[m].controlPoints,l=s.length;if(l%2==0)for(var d=0;d<l;d+=2)s[d]=(s[d]-f)*this._scale+this._canvas.width/2,s[d+1]=(s[d+1]-E)*this._scale+this._canvas.height/2}}}},{key:"_getMousePos",value:function(e,t){var n=t.getBoundingClientRect(),o=e;return e.type.indexOf("touch")>=0&&(o=e.changedTouches[0]),{x:o.clientX-n.left,y:o.clientY-n.top}}},{key:"_redraw",value:function(){var e=this._canvas.getContext("2d");e.clearRect(0,0,this._canvas.width,this._canvas.height),e.lineWidth=this._lineWidth,e.strokeStyle="#"==this._color.charAt(0)?this._color:"#"+this._color,e.beginPath(),e.lineJoin="round",e.lineCap="round";for(var t=this._curves.length,n=0;n<t;n++){var o=this._curves[n].controlPoints,a=o.length;if(4==a&&o.push(o[2],o[3]),a%2==0)if(this._smoothing){var r=this._filtratePointsForSmoothingLine(o);for(a=r.length,e.moveTo(r[0],r[1]),i=2;;){if(!(i+3<a))break;e.quadraticCurveTo(r[i],r[i+1],r[i+2],r[i+3]),i+=4}for(;i<a-1;)e.lineTo(r[i],r[i+1]),i++}else{e.moveTo(o[0],o[1]);for(var i=2;i<a;i+=2)e.lineTo(o[i],o[i+1])}}e.stroke()}},{key:"_modifyControlPoints",value:function(e){for(var t=e.length,n=0;n<t;n+=4)if(n+5<t){var o={x:e[n],y:e[n+1]},a={x:e[n+2],y:e[n+3]},r={x:e[n+4],y:e[n+5]},i={x:0,y:0},s={x:(o.x+r.x)/2,y:(o.y+r.y)/2};i.x=s.x+2*(a.x-s.x),i.y=s.y+2*(a.y-s.y),e[n+2]=i.x,e[n+3]=i.y}}},{key:"_filtratePointsForSmoothingLine",value:function(e){var t=e.length-2,n=[],o=0;n.push(e[0]),n.push(e[1]);for(var a=2;a<t;a+=2)(Math.abs(n[o]-e[a])>=9||Math.abs(n[o+1]-e[a+1])>=9)&&(n.push(e[a]),n.push(e[a+1]),o+=2);if(2==n.length){var r=2*Math.floor(e.length/4);n.push(e[r]),n.push(e[r+1])}return n.push(e[t]),n.push(e[t+1]),n}},{key:"_addHistoryPoint",value:function(e){this._currentHistoryPoint<this._history.length-1&&(this._history.length=this._currentHistoryPoint+1),this._history.push(e),this._currentHistoryPoint=this._history.length-1,this._trimHistory(),null!=this._undoRedoCallback&&this._undoRedoCallback()}},{key:"_checkRange",value:function(){this._currentHistoryPoint>=this._history.length&&(this._currentHistoryPoint=this._history.length-1),this._currentHistoryPoint<-1&&(this._currentHistoryPoint=-1)}},{key:"_trimHistory",value:function(){for(;this._history.length>this._historyLengthLimit;)this._history.shift();this._checkRange()}}]),e}()}});
//# sourceMappingURL=0.a5db1a1cc5ac7e6b1f8b.js.map