webpackJsonp([5],{1264:function(e,t,n){"use strict";function o(){s||(i.style.display="none",i.removeAttribute("chat-opening")),clearTimeout(p),clearTimeout(c)}n(1626);var r=n(1625),i=null,a=!1,c=null,p=null,u="",l="",s=!1,d=r.scriptUrl||"/js",f=r.errorsUrl,m=r.socketIo,h={main:{position:"absolute",background:"#fff",margin:"auto",width:"203px",height:"136px",border:"1px solid #ccc","-moz-border-radius":"3px","-webkit-border-radius":"3px","border-radius":"3px","-moz-box-shadow":"0px 4px 8px 0px rgba(0, 0, 0, 0.15)","-webkit-box-shadow":"0px 4px 8px 0px rgba(0, 0, 0, 0.15)","box-shadow":"0px 4px 8px 0px rgba(0, 0, 0, 0.15)",display:"none","z-index":"9999"},loading:{height:"60px",width:"60px",margin:"22px auto 0px",background:"url(/images/loading.gif) no-repeat","font-size":"14px","font-weight":"bold","text-align":"center",padding:"22px 0 0 2px"},text:{color:"#424242",font:'1.14286em "Arial", sans-serif',"text-align":"center"}},g=function(e,t){return Object.keys(t).forEach(function(n){e.style[n]=t[n]}),e},v=function(){return-1!==navigator.appVersion.indexOf("Win")?"Windows":-1!==navigator.appVersion.indexOf("Mac")?"MacOS":-1!==navigator.appVersion.indexOf("UNIX")?"UNIX":-1!==navigator.appVersion.indexOf("Linux")?"Linux":"Undefined"},b=function(){return l||(l=v())},x=function(){if(u)return u;var e=navigator.userAgent,t=void 0,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],u="IE "+(t[1]||"")):"Chrome"===n[1]&&null!==(t=e.match(/\b(OPR|Edge)\/(\d+)/))?u=t.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),u=n.join(" "))},w=function(e){var t=new XMLHttpRequest,n="browser="+encodeURIComponent(x())+"\n    &os="+encodeURIComponent(b())+"\n    &type="+encodeURIComponent(e);t.open("POST",f,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n)},y=function(e){return new Promise(function(t,n){var o=document.createElement("script");o.async=!0,o.src=e,o.addEventListener("load",t),o.addEventListener("error",function(){w("error_inject_js "+e),n("Error loading script.")}),o.addEventListener("abort",function(){w("abort_inject_js "+e),n("Script loading aborted.")}),document.head.appendChild(o)})},E=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=document.body.scrollLeft||document.documentElement.scrollLeft;return e.style.top=Math.max(0,(window.innerHeight-parseInt(h.main.height))/2+t)+"px",e.style.left=Math.max(0,(window.innerWidth-parseInt(h.main.width))/2+n)+"px",e},j=function(){if(!(i=document.querySelectorAll(".chat-loading"))||!i.length){i=document.createElement("div"),i.id="chat-loader",i.className="chat-loading",g(i,h.main);var e=document.createElement("div");e.className="chat-loading__bg",e.textContent="0%",g(e,h.loading);var t=document.createElement("div");t.className="chat-loading__text",t.textContent="please wait...",g(t,h.text),i.appendChild(e),i.appendChild(t),document.body.appendChild(i)}},I=function(e,t){var n=void 0;document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(t,!0,!0)):document.createEventObject&&(n=document.createEventObject(),n.eventType=t),n.eventName=t,e.dispatchEvent?e.dispatchEvent(n):e.fireEvent&&htmlEvents["on"+t]?e.fireEvent("on"+n.eventType,n):e[t]?e[t]():e["on"+t]&&e["on"+t]()},O=function(){var e=document.getElementById("chat-app-wrapper");return e?(I(e,"open-chat"),setTimeout(function(){if(!localStorage.getItem("chat-app-success"))return w("error_in_app.js 2");localStorage.removeItem("chat-app-success")},2e3),!0):(w("error_in_app.js 1"),!1)},T=function(e){return 200!==e?(a=!1,w("get_app.js"),a):(a=!0,O(),a)},k=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t>100)return!1;var n=i.querySelectorAll(".chat-loading__bg"),o=Math.pow(1.082075,t);return n[0].innerHTML=t+"%",p=setTimeout(function(){e(t+1)},o)},_=function(){return y(d).then(function(){T(200)}).catch(function(){T(404)})},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&e.preventDefault(),(!a||"pending"!==a)&&(s||(i.setAttribute("chat-opening","true"),i.style.display="block",E(i)),a?O():(a="pending",y(m).then(_).catch(function(){w("error_socket.io.js")})),!!s||(clearTimeout(c),c=setTimeout(function(){return o()},3e4),k(),c))},C=function(){var e=localStorage.getItem("chat-app-state");return!(!e||"opened"!==e)},M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s=e,"undefined"!=typeof window){s||j();return C()&&L(null),!0}return!1};e.exports={init:M,startLoad:L,stopLoad:o}},1625:function(e,t,n){"use strict";e.exports={scriptUrl:"https://cdn.pdffiller.com/support-chat/29/app.js",errorsUrl:"https://supervisor.pdffiller.com/api/chat/stat",socketIo:"https://support-chat.pdffiller.com/socket.io/socket.io.js"}},1626:function(e,t,n){"use strict";window.localStorage||Object.defineProperty(window,"localStorage",new function(){var e=[],t={};Object.defineProperty(t,"getItem",{value:function(e){return e?this[e]:null},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"key",{value:function(t){return e[t]},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"setItem",{value:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),Object.defineProperty(t,"removeItem",{value:function(e){e&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),this.get=function(){var n;for(var o in t)n=e.indexOf(o),-1===n?t.setItem(o,t[o]):e.splice(n,1),delete t[o];for(e;e.length>0;e.splice(0,1))t.removeItem(e[0]);for(var r,i,a=0,c=document.cookie.split(/\s*;\s*/);a<c.length;a++)r=c[a].split(/\s*=\s*/),r.length>1&&(t[i=unescape(r[0])]=unescape(r[1]),e.push(i));return t},this.configurable=!1,this.enumerable=!0})}});
//# sourceMappingURL=chat.a5db1a1cc5ac7e6b1f8b.js.map