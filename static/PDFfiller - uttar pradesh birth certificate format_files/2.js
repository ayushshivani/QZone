webpackJsonp([2],{1263:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(1340),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(o),n=i(1303),a=r(n),l=i(1284),u=i(1275),d=r(u),p=i(1500),c=r(p);t.default={components:s,reducer:{wizard:d.default},rootSaga:c.default,functions:{getListItems:l.getListItems,getSignToReuse:a.default,isElementDone:l.isElementDone},actions:{toggleWizardNext:u.toggleWizardNext,toggleWizardPrev:u.toggleWizardPrev,toggleWizardLastActive:u.toggleWizardLastActive,toggleWizardByElement:u.toggleWizardByElement,setWizardActive:u.setWizardActive,triggerSelectSignatureClick:u.triggerSelectSignatureClick,setWizardTraverseMode:u.setWizardTraverseMode}},e.exports=t.default},1272:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pxPerSymbol=t.wizardFocusTimeout=t.elemOverflowStates=t.leftReserveForScroll=t.restrictedTodoListCorner=t.assistantButtonIds=t.assistantMarginTop=t.boundingPadding=t.todoListSizes=t.todoListStates=t.allCompleteTimeout=t.toggleWizardTypes=void 0;var r,o=i(20),s=function(e){return e&&e.__esModule?e:{default:e}}(o),n=(t.toggleWizardTypes={next:"next",prev:"prev",lastActive:"lastActive",byElement:"byElement"},t.allCompleteTimeout=5e3,t.todoListStates={maximized:"maximized",minimized:"minimized",hidden:"hidden"});t.todoListSizes=(r={},(0,s.default)(r,n.maximized,{width:240,height:236}),(0,s.default)(r,n.minimized,{width:64,height:64}),(0,s.default)(r,n.hidden,{width:0,height:0}),r),t.boundingPadding=10,t.assistantMarginTop=13,t.assistantButtonIds={add:"add",initial:"initial",next:"next",replace:"replace",reuse:"reuse",check:"check",uncheck:"uncheck"},t.restrictedTodoListCorner={right:447,top:105},t.leftReserveForScroll=10,t.elemOverflowStates={visible:"visible",elemIsAbove:"elemIsAbove",elemIsBelow:"elemIsBelow"},t.wizardFocusTimeout=500,t.pxPerSymbol=8},1275:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case A:return(0,C.default)({},e,{todoListDragStarted:!0});case q:return(0,C.default)({},e,{todoListDragStarted:!1});case F:return(0,C.default)({},e,{cacheSignature:(0,C.default)({},e.cacheSignature,(0,R.default)({},t.key,{content:t.content,timestamp:+new Date}))});case V:return(0,C.default)({},e,{toggleWizardNextGroup:{type:x.toggleWizardTypes.next}});case U:return(0,C.default)({},e,{toggleWizard:{type:x.toggleWizardTypes.next}});case G:return(0,C.default)({},e,{toggleWizard:{type:x.toggleWizardTypes.prev}});case H:return(0,C.default)({},e,{toggleWizard:{type:x.toggleWizardTypes.lastActive}});case Z:return(0,C.default)({},e,{toggleWizard:{type:x.toggleWizardTypes.byElement,el:t.el}});case N:return(0,C.default)({},e,{triggerSelectSignatureClick:t.el?{el:t.el}:{}});case j:return(0,C.default)({},e,{triggerReuseSignatureClick:{}});case B:return(0,C.default)({},e,{mobileWizardTodoListIsActive:t.value});case O:return(0,C.default)({},e,{wizardItems:(0,C.default)({},e.wizardItems,(0,R.default)({},t.id,{done:!0}))});case L:return(0,C.default)({},e,{haveFilledFields:t.value});case W:return(0,C.default)({},e,{activeElemOverflow:t.value});case D:return(0,C.default)({},e,{unfilledCounts:(0,S.getArrayOfZero)(t.pageCount)});case M:return(0,C.default)({},e,{unfilledCounts:t.unfilledCounts});case X:return(0,C.default)({},e,{wizardActive:t.value});case Y:return(0,C.default)({},e,{isRequiredCompleted:t.value});case Q:return(0,C.default)({},e,{isAllCompleted:t.value});case K:return(0,C.default)({},e,{wizardTraverseMode:t.value});default:return e}}function s(){return{type:V}}function n(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:N,el:e}}function a(){return{type:j}}function l(e){return{type:O,id:e}}function u(e){return{type:L,value:e}}function d(e){return{type:W,value:e}}function p(e){return{type:D,pageCount:e}}function c(e){return{type:M,unfilledCounts:e}}function f(e){return{type:B,value:e}}function g(){return{type:U}}function m(){return{type:G}}function v(){return{type:H}}function h(e){return{type:Z,el:e}}function y(e){return{type:X,value:e}}function T(e){var t=e.content,i=e.key;return{type:F,content:t,key:i}}function P(){return{type:A}}function E(){return{type:q}}function b(e){return{type:Y,value:e}}function _(e){return{type:Q,value:e}}function z(e){return{type:K,value:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.SET_IS_ALL_COMPLETED=t.SET_IS_REQUIRED_COMPLETED=t.SET_WIZARD_ACTIVE=t.SET_WIZARD_TRAVERSE_MODE=t.TOGGLE_WIZARD_BY_EL=t.TOGGLE_WIZARD_LASTACTIVE=t.TOGGLE_WIZARD_PREV=t.TOGGLE_WIZARD_NEXT_GROUP=t.TOGGLE_WIZARD_NEXT=t.SET_MOBILE_TODO_IS_ACTIVE=t.TRIGGER_REUSE_SIGNATURE_CLICK=t.TRIGGER_SELECT_SIGNATURE_CLICK=t.SET_UNFILLED_COUNT=t.SET_UNFILLED_COUNTS=t.INITIALIZE_WIZARD=t.SET_ACTIVE_ELEM_OVERFLOW=t.SET_HAVE_FILLED_FIELDS=t.SET_WIZZARD_ITEM_DONE=t.CACHE_SIGNATURE=t.TODO_LIST_DRAG_STOPPED=t.TODO_LIST_DRAG_STARTED=void 0;var w=i(20),R=r(w),k=i(6),C=r(k);t.default=o,t.toggleWizardNextGroup=s,t.triggerSelectSignatureClick=n,t.triggerReuseSignatureClick=a,t.setWizardItemDone=l,t.setHaveFilledFields=u,t.setActiveElemOverflow=d,t.initializeWizard=p,t.setUnfilledCounts=c,t.setMobileTodoIsActive=f,t.toggleWizardNext=g,t.toggleWizardPrev=m,t.toggleWizardLastActive=v,t.toggleWizardByElement=h,t.setWizardActive=y,t.cacheSignature=T,t.todoListDragStarted=P,t.todoListDragStopped=E,t.setIsRequiredCompleted=b,t.setIsAllCompleted=_,t.setWizardTraverseMode=z;var S=i(15),I=i(10),x=i(1272),A=t.TODO_LIST_DRAG_STARTED="wizard/TODO_LIST_DRAG_STARTED",q=t.TODO_LIST_DRAG_STOPPED="wizard/TODO_LIST_DRAG_STOPPED",F=t.CACHE_SIGNATURE="wizard/CACHE_SIGNATURE",O=t.SET_WIZZARD_ITEM_DONE="wizard/SET_WIZZARD_ITEM_DONE",L=t.SET_HAVE_FILLED_FIELDS="wizard/SET_HAVE_FILLED_FIELDS",W=t.SET_ACTIVE_ELEM_OVERFLOW="wizard/SET_ACTIVE_ELEM_OVERFLOW",D=t.INITIALIZE_WIZARD="wizard/INITIALIZE_WIZARD",M=t.SET_UNFILLED_COUNTS="wizard/SET_UNFILLED_COUNTS",N=(t.SET_UNFILLED_COUNT="wizard/SET_UNFILLED_COUNT",t.TRIGGER_SELECT_SIGNATURE_CLICK="wizard/TRIGGER_SELECT_SIGNATURE_CLICK"),j=t.TRIGGER_REUSE_SIGNATURE_CLICK="wizard/TRIGGER_REUSE_SIGNATURE_CLICK",B=t.SET_MOBILE_TODO_IS_ACTIVE="wizard/SET_MOBILE_TODO_IS_ACTIVE",U=t.TOGGLE_WIZARD_NEXT="wizard/TOGGLE_WIZARD_NEXT",V=t.TOGGLE_WIZARD_NEXT_GROUP="wizard/TOGGLE_WIZARD_NEXT_GROUP",G=t.TOGGLE_WIZARD_PREV="wizard/TOGGLE_WIZARD_PREV",H=t.TOGGLE_WIZARD_LASTACTIVE="wizard/TOGGLE_WIZARD_LASTACTIVE",Z=t.TOGGLE_WIZARD_BY_EL="wizard/TOGGLE_WIZARD_BY_EL",K=t.SET_WIZARD_TRAVERSE_MODE="wizard/SET_WIZARD_TRAVERSE_MODE",X=t.SET_WIZARD_ACTIVE="wizard/SET_WIZARD_ACTIVE",Y=t.SET_IS_REQUIRED_COMPLETED="wizard/SET_IS_REQUIRED_COMPLETED",Q=t.SET_IS_ALL_COMPLETED="wizard/SET_IS_ALL_COMPLETED",J=t.initialState={todoListDragStarted:!1,cacheSignature:{},wizardItems:{},activeElemOverflow:x.elemOverflowStates.visible,haveFilledFields:!1,unfilledCounts:[],triggerSelectSignatureClick:{},triggerReuseSignatureClick:{},mobileWizardTodoListIsActive:!1,toggleWizard:{type:x.toggleWizardTypes.next},toggleWizardNextGroup:{type:x.toggleWizardTypes.next},wizardTraverseMode:I.wizardTraverseModes.all,wizardActive:!1,wizardFocus:!1,isRequiredCompleted:!1,isAllCompleted:!1}},1284:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUnfilledCounts=t.getNextItem=t.addTodoListPaddingToBounding=t.getValidTodoPosition=t.isValidTodoPosition=t.getTodoListSize=t.fixXY=t.getWizardFocusBounding=t.getWhereFocus=t.getListItems=t.getExpectedWizardFocus=t.isValidByWizard=t.isValidByWindow=t.isElementDone=t.getElementLocale=t.getTodoTitle=t.getPartOfListOnPage=t.needToPreventSafariDragBug=t.errorLocale=t.todoListEmptyTitle=void 0;var o=i(14),s=r(o),n=i(6),a=r(n),l=i(26),u=r(l),d=i(108),p=r(d),c=i(42),f=r(c),g=i(67),m=r(g),v=i(170),h=r(v),y=i(21),T=r(y),P=i(94),E=r(P),b=i(1304),_=i(25),z=i(22),w=i(15),R=i(1272),k=t.todoListEmptyTitle="error",C=t.errorLocale={stickerText:"%LABEL%",defaultLabel:k},S=(t.needToPreventSafariDragBug=function(e){var t=e.initialPosition,i=e.position;if(e.todoListState!==R.todoListStates.minimized)return!1;var r=Math.abs(t.x-i.x);return Math.abs(t.y-i.y)<=2&&r<=2},t.getPartOfListOnPage=function(e,t){return e.filter(function(e){var i=e.el;return i.length>0?i[0].pageId===t:i.pageId===t})},t.getTodoTitle=function(e,t){var i=t.filter(function(e){return!e.done}).length;return 0===i&&e.allCompleted||i<11&&e.lessThan11.replace(/%N%/g,i)||i>10&&e.moreThan10},t.getElementLocale=function(e,t){var i=t.type,r=t.subType,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.assistant.prompts;return s[i]?o&&(0,_.isCheckmarkElement)({type:i})?s[i][r]&&s[i][r].radioGroup||s[i].any.radioGroup||C:(0,_.isCheckmarkElement)({type:i})?s[i][r]&&s[i][r].normal||s[i].any.normal||C:s[i][r]||s[i].any||C:C}),I=function(e,t){var i=t.stickerText,r=t.defaultLabel;return i.replace(/%LABEL%/g,e.template&&e.template.label||r)},x=function(e,t){return I(t,S(e,t,!0))},A=function(e,t){return I(t,S(e,t))},q=function(e,t,i,r){var o=t[e[0].id],s=e.filter(function(e){return e.content&&e.content.checked}).length>0;return{el:e,contentDone:s,done:s||!!o&&o.done,active:i&&i.length&&i.length>0&&i[0].id===e[0].id||!1,text:x(r,e[0]),required:e[0].template.required||!1}},F=t.isElementDone=function(e,t){return(0,_.isFilledElement)(e)||(0,T.default)(t,e.id+".done",!1)},O=function(e,t,i,r){return{el:e,contentDone:(0,_.isFilledElement)(e),done:F(e,t),active:i&&i.id&&i.id===e.id||!1,text:A(r,e),required:e.template.required||!1}},L=t.isValidByWindow=function(e,t){return!(e.top<t.top||e.left<t.left||e.right>t.right||e.bottom>t.bottom)},W=t.isValidByWizard=function(e,t){return e.top>t.bottom||e.bottom<t.top||e.left>t.right||e.right<t.left},D=(t.getExpectedWizardFocus=function(e,t){var i=(e?[e]:[]).filter(_.isFillable).map(function(e){return(0,_.isElementInsideRadioGroup)(e)?t.filter((0,_.byRadioGroup)(e.template.radioGroup)):e});return i.length>0&&i[0]||!1},t.getListItems=function(e,t,i,r,o){return(0,z.groupByRadioGroup)(e.filter(function(e){return(0,_.isFillable)(e)&&(0,w.isEnabledElement)(e)&&(0,E.default)(o,e.pageId)&&!(0,_.isFormulaElement)(e)})).map(function(e){return e.length&&e.length>0?q(e,t,i,r):O(e,t,i,r)})},t.getWhereFocus=function(e){return e?e&&(0,_.isFillable)(e)?{isFocusOnFillableElement:!0,isFocusOnSimpleElement:!1}:{isFocusOnSimpleElement:!0,isFocusOnFillableElement:!1}:{isFocusOnFillableElement:!1,isFocusOnSimpleElement:!1}},t.getWizardFocusBounding=function(e,t,i,r,o){var s=i[t];if(!s)return{top:0,left:0,bottom:0,right:0};var n=(0,p.default)((0,b.wizardFocusBoundingToProps)({wizardFocus:r,scale:o,pageId:t}),function(t,i){if("bounding"!==i)return t;var r=(0,p.default)(t,function(t,i){return"x"===i?t+e.left+e.framePadding.left-s.scrollLeft+s.left:"y"===i?t+e.top+e.framePadding.top-s.scrollTop+s.top:t});return{top:r.y,left:r.x,bottom:r.y+r.height,right:r.x+r.width}});return(0,u.default)(n).length>0?n:{wizardFocusId:!1,bounding:!1}},t.fixXY=function(e,t,i,r){var o=e.x,s=e.y,n=t.width,a=t.height;if(!(o+n>i.right-R.restrictedTodoListCorner.right&&s<i.top+R.restrictedTodoListCorner.top||o+n>i.right-R.leftReserveForScroll))return{x:(0,m.default)(o,i.left,i.right-n),y:(0,m.default)(s,i.top,i.bottom-a)};var l=(i.right-(o+n))*R.restrictedTodoListCorner.top/R.restrictedTodoListCorner.right,u=r||l>s?{left:i.left,right:i.right-R.restrictedTodoListCorner.right-n,top:i.top,bottom:i.bottom-a}:{left:i.left-R.leftReserveForScroll,right:i.right-n-R.leftReserveForScroll,top:i.top+R.restrictedTodoListCorner.top,bottom:i.bottom-a};return{x:(0,m.default)(o,u.left,u.right),y:(0,m.default)(s,u.top,u.bottom)}},t.getTodoListSize=function(e){return R.todoListSizes[e]||R.todoListSizes[R.todoListStates.hidden]},function(e){var t=e.x,i=e.y,r=e.width,o=e.windowBoundingBox;return!(t+r>o.right-R.restrictedTodoListCorner.right&&i<o.top+R.restrictedTodoListCorner.top)}),M=t.isValidTodoPosition=function(e,t,i,r){var o=e.x,s=e.y,n=t.width,a=t.height;return function(e){return L(e,r)&&D({x:o,y:s,width:n,windowBoundingBox:r})&&(!i||W(e,i))}({top:s,left:o,right:o+n,bottom:s+a})},N=function(e){return(0,a.default)({},e,{x:e.x-R.leftReserveForScroll})};t.getValidTodoPosition=function(e,t,i){var r=e.width,o=e.height,s=i.top,n=i.left,a=i.right,l=i.bottom,u=[{x:a-r,y:l-o},{x:n,y:l-o},{x:n,y:s},{x:a-r-R.restrictedTodoListCorner.right,y:s},{x:a-r,y:s+R.restrictedTodoListCorner.top}],d=(0,f.default)(u,function(r){return M(r,e,t,i)});return N(u[Math.max(d,0)])},t.addTodoListPaddingToBounding=function(e){var t=e.left,i=e.right,r=e.top,o=e.bottom;return{top:r-R.boundingPadding,left:t-R.boundingPadding,right:i+R.boundingPadding,bottom:o+100}},t.getNextItem=function(e,t){var i=t.focusIndex,r=t.prev,o=void 0!==r&&r,n=t.unfilled,a=void 0!==n&&n,l=t.required,u=void 0!==l&&l,d=o?e.length-i-2:i,p=e.filter(function(e,t){return t!==i}),c=o?[].concat((0,s.default)(e),(0,s.default)(p)).reverse():[].concat((0,s.default)(e),(0,s.default)(p)),g=(0,f.default)(c,function(e,t){return(!a||!e.done)&&(!u||e.required)&&t>d});return-1!==g&&c[g]},t.getUnfilledCounts=function(e,t){return e.reduce(function(e,t){if(t.done)return e;var i=t.el.length?t.el[0]:t.el,r=i.pageId;return[].concat((0,s.default)(e.slice(0,r)),[++e[r]],(0,s.default)(e.slice(r+1)))},(0,h.default)(Array(t),0))}},1303:function(e,t,i){"use strict";function r(e){var t=e.cacheSignature,i=e.element;return!(!t||!i||"array"==typeof i||i.type!==o.elemTypes.signature)&&(i.template&&i.template.restrictSubTypes?i.template.restrictSubTypes.reduce(function(e,i){return t[i]?e.timestamp?e.timestamp<t[i].timestamp?t[i]:e:t[i]:e},!1):t.null||!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=i(18);e.exports=t.default},1304:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getWizardAssistantPosition=t.wizardAssistantToProps=t.wizardFocusBoundingToProps=t.marksToProps=t.getMarkItemFromElement=t.getMarkItemFromArrayOfRadioElements=t.getWizardFocusBounding=t.convertTLRBToBound=t.getSignatureModalOptions=void 0;var o=i(14),s=r(o),n=i(6),a=r(n),l=i(108),u=r(l),d=i(1628),p=r(d),c=i(1629),f=r(c),g=i(67),m=r(g),v=i(21),h=r(v),y=i(10),T=i(15),P=i(22),E=i(25),b=i(1284),_=i(1272),z=(t.getSignatureModalOptions=function(e){return e.template&&e.template.restrictSubTypes&&{restrictSubTypes:e.template.restrictSubTypes}||{}},function(e){return-15+e.y+e.height/2}),w=function(e){return e?"gray":"green"},R=function(e){return e.x+e.width/2},k=function(e){return"x"===e||"y"===e?-10:20},C=function(e){return e.length?e:[e]},S=function(e,t){return e&&(e.length&&e[0].pageId===t||e.hasOwnProperty("pageId")&&e.pageId===t)||!1},I=t.convertTLRBToBound=function(e){var t=e.y,i=e.x;return{y:t,x:i,width:e.right-i,height:e.bottom-t}},x=t.getWizardFocusBounding=function(e){return I(e.reduce(function(e,t){var i=e.y,r=e.x,o=e.right,s=e.bottom,n=(0,E.getElementXYRightBottom)(t);return{y:(0,f.default)([i,n.y]),x:(0,f.default)([r,n.x]),right:(0,p.default)([o,n.right]),bottom:(0,p.default)([s,n.bottom])}},{y:99999,x:99999,right:0,bottom:0}))},A=t.getMarkItemFromArrayOfRadioElements=function(e){return(0,a.default)({elem:e},e.reduce(function(e,t,i){var r=e.top,o=e.color;return{top:0===i?z(t.template):r,color:"gray"===o?"gray":w((0,E.isFilledCheckmarkElement)(t))}},{top:null,color:null}))},q=t.getMarkItemFromElement=function(e){return{elem:e,top:z(e.template),color:w((0,E.isFilledElement)(e))}},F=function(e,t){return e.reduce(function(i,r,o){if(!1===r||!1===e[t])return i;if(t===o)return i.push(r),i;var s=e[t].top-20,n=e[t].top+20;return r.top===(0,m.default)(r.top,s,n)?i:(i.push(r),i)},[])},O=function(e){var t=e.mark,i=e.wizardItems,r=e.scale,o=i[t.elem.id];return(0,a.default)({},t,{top:t.top*r||0,color:o&&o.done?"gray":t.color})},L=(t.marksToProps=function(e){var t=e.elements,i=e.wizardItems,r=e.scale,o=e.pageId;if(!t)return[];var s=(0,E.byPage)(o),n=(0,P.groupByRadioGroup)(t.filter(function(e){return(0,E.isFillable)(e)&&(0,T.isEnabledElement)(e)&&s(e)})),a=n.map(function(e){return O({mark:e.length&&e.length>0?A(e):q(e),wizardItems:i,scale:r})});return a?a.reduce(function(e,t,i,r){var o=0===e.length?r:e;return o[i]&&"green"===o[i].color?F(o,i):o},[]):{marks:!1}},function(e,t){return e*(t||0)}),W=function(e){var t=e.wizardFocusArray,i=e.isRadio,r=e.scale;return(0,u.default)(x(t),function(e,t){return i?k(t)+L(e,r):L(e,r)})},D=(t.wizardFocusBoundingToProps=function(e){var t=e.wizardFocus,i=e.scale,r=e.pageId;if(!S(t,r))return{};var o=C(t);return{wizardFocusId:o[0].id,bounding:W({wizardFocusArray:o,isRadio:o.length>1,scale:i})}},function(e,t,i,r,o,s,n){var a=(e.stickerText,e.panelData),l=e.defaultLabel,u=t?a.fieldFilled:a.fieldEmpty;return o&&(u=t?a.fieldFilled:n?a.fieldEmpty2:a.fieldEmpty1),i&&(u=t?a.groupFilled:a.groupEmpty),r&&t&&(u=s.content.checked?a.fieldFilled:a.fieldEmpty),{text:u.text.replace(/%LABEL%/g,s.template.label||l),buttons:u.buttons,hint:s.template.hint||!1}}),M=function(e,t){if(!e.template||!e.template.list)return[];var i=e.template.list.map(function(e,t){var i=e.data;return{id:t,label:e.label,value:i}});return e.template.allowCustomText?[].concat((0,s.default)(i),[{label:t.custom,value:-1}]):i},N=function(e){var t=(0,h.default)(e,"content.text"),i=(0,h.default)(e,"template.format",y.defaultDateFormat),r=(0,h.default)(e,"template.initial"),o=""!==r&&r!==i?r:(0,T.formatDate)(new Date,i);return{date:t||o,format:i}};t.wizardAssistantToProps=function(e){var t=e.wizardFocus,i=e.pageId,r=e.locale,o=e.activeElement,s=e.signToReuse||!1;if(!S(t,i))return{};var n=C(t),l=void 0;l=t.length?t.filter(function(e){return e.content&&!0===e.content.checked&&e.id===o.id}).length>0:n.filter((0,E.byFilled)(!0)).length>0;var u=n.length>1,d=n[0],p=!t.length&&(0,E.isCheckmarkElement)(d),c=(0,b.getElementLocale)(r,d,u);return(0,a.default)({},D(c,l,u,p,(0,E.isSignature)(d),d,s),{type:d.type,subType:d.subType},(0,E.isDate)(d)&&N(d),(0,E.isDropdownElement)(d)?{customDropdownValueSelected:(0,h.default)(d,"content.customDropdownValueSelected",!1),contentText:(0,h.default)(d,"content.text",!1),list:M(d,c)}:{})},t.getWizardAssistantPosition=function(e){var t=e.wizardAssistantSize,i=e.elementBounding,r=e.frameSize;if(!t||0===t.width||0===t.height||!i||!r)return{x:0,y:0,top:!1,arrow:0};var o=R(i)-t.width/2,s=i.y+i.height+_.assistantMarginTop;return{x:function(){return o<0?0:o+t.width>r.width?r.width-t.width:o}(),y:function(){return s+t.height>r.height?i.y-_.assistantMarginTop-t.height:s}(),top:function(){return s+t.height>r.height}(),arrow:function(){return o<0?-o:o+t.width>r.width?r.width-t.width-o:0}()}}},1338:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(46),T=i(433),P=r(T),E=(s=o=function(e){function t(){var e,i,r,o;(0,u.default)(this,t);for(var s=arguments.length,n=Array(s),l=0;l<s;l++)n[l]=arguments[l];return i=r=(0,f.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(n))),r.onDateChange=function(e){e&&r.props.updateActiveElement(r.props.activeElementId,{text:e},y.cancellableOpts)},o=i,(0,f.default)(r,o)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e={className:"small sort",clearable:!1,searchable:!1};return h.default.createElement("div",{className:"jsf-wizard__calendar"},h.default.createElement(P.default,{selectOptions:e,months:this.props.months,date:this.props.date,format:this.props.format,onChange:this.onDateChange}))}}]),t}(v.Component),o.propTypes={date:v.PropTypes.string.isRequired,format:v.PropTypes.string.isRequired,updateActiveElement:v.PropTypes.func.isRequired,activeElementId:v.PropTypes.string.isRequired,months:v.PropTypes.arrayOf(v.PropTypes.string).isRequired},s);t.default=E,e.exports=t.default},1339:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n,a=i(6),l=r(a),u=i(27),d=r(u),p=i(3),c=r(p),f=i(1),g=r(f),m=i(2),v=r(m),h=i(5),y=r(h),T=i(4),P=r(T),E=i(0),b=r(E),_=i(23),z=i(95),w=i(9),R=r(w),k=i(441),C=i(15),S=i(1272),I=i(1497),x=r(I),A=function(e){return"todoItemRef#03g40g_"+e},q=(s=o=function(e){function t(e){(0,g.default)(this,t);var i=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return n.call(i),i.down=!1,i.scrollToAfterUpdate=!1,i}return(0,P.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.delegateEvents()}},{key:"componentWillReceiveProps",value:function(e){var t=e.activeListIndex,i=e.todoListState;t!==this.props.activeListIndex&&-1!==t&&i===S.todoListStates.maximized&&this.scrollTo({activeListIndex:t})}},{key:"componentDidUpdate",value:function(e){this.props.todoListState===S.todoListStates.maximized&&e.todoListState!==S.todoListStates.maximized&&(this.delegateEvents(),this.scrollToAfterUpdate&&(this.scrollTo(),this.scrollToAfterUpdate=!1))}},{key:"delegateEvents",value:function(){var e=this.getNode();e&&(this.ps=(0,C.ps)(e),this.ps.initialize({minScrollbarLength:20}))}},{key:"render",value:function(){var e=i(1351);return"hidden"===this.props.todoListState?null:this.props.mobile?this.renderInner(e):b.default.createElement(z.DraggableCore,{onStart:this.props.onDragStart,onDrag:this.props.onDragMove,onStop:this.props.onDragStop,handle:"."+e.dragHandler},b.default.createElement("div",{style:{position:"absolute",top:0,left:0,zIndex:13,cursor:"pointer",transform:"translate("+this.props.position.x+"px, "+this.props.position.y+"px)",display:this.props.hidden?"none":"block"}},this.renderInner(e)))}}]),t}(E.Component),o.propTypes={todoListState:E.PropTypes.oneOf((0,d.default)(S.todoListStates)).isRequired,toggleCollapse:E.PropTypes.func.isRequired,title:E.PropTypes.string.isRequired,list:E.PropTypes.arrayOf(E.PropTypes.shape({done:E.PropTypes.bool.isRequired,active:E.PropTypes.bool.isRequired,text:E.PropTypes.string.isRequired,required:E.PropTypes.bool.isRequired,el:E.PropTypes.oneOfType([E.PropTypes.object,E.PropTypes.array]).isRequired,contentDone:E.PropTypes.bool.isRequired})).isRequired,position:E.PropTypes.shape({x:E.PropTypes.number.isRequired,y:E.PropTypes.number.isRequired}).isRequired,onDragStart:E.PropTypes.func.isRequired,onDragMove:E.PropTypes.func.isRequired,onDragStop:E.PropTypes.func.isRequired,onClickItem:E.PropTypes.func.isRequired,onClickCheckbox:E.PropTypes.func.isRequired,hidden:E.PropTypes.bool.isRequired,activeListIndex:E.PropTypes.number.isRequired,mobile:E.PropTypes.bool,footerMarkup:E.PropTypes.string.isRequired},n=function(){var e=this;this.scrollTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,i=e.getNode(),r=e.getTodoItemNode(t.activeListIndex);if(!i||!r)return void(e.scrollToAfterUpdate=!0);var o=(0,k.getScrollDelta)(0)(i.getBoundingClientRect(),r.getBoundingClientRect());i.scrollTop=i.scrollTop+o},this.onMouseDown=function(){e.down=!0,e.position=e.props.position},this.onMouseUp=function(){e.down&&e.position===e.props.position&&e.props.toggleCollapse()},this.onClickBack=function(t){var i=e.props.list.filter(function(e){return!0===e.active})[0];return e.props.onClickItem(t,i.el,i)},this.getNode=function(){return e.refs["scrollRef#30g349g"]&&(0,_.findDOMNode)(e.refs["scrollRef#30g349g"])},this.getTodoItemNode=function(t){return(0,_.findDOMNode)(e.refs[A(t)])},this.renderInner=function(t){return e.props.todoListState===S.todoListStates.minimized?b.default.createElement("div",{className:"jsf-btn-to-do-list",onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp},b.default.createElement("div",{className:(0,R.default)(t.dragHandler,t.minDragHandler)})):e.props.todoListState===S.todoListStates.maximized?b.default.createElement("div",{className:"jsf-to-do-list"},b.default.createElement("div",{className:"jsf-to-do-list__triangle-shadow"}),e.props.mobile&&b.default.createElement("div",{className:"jsf-to-do-list-header-mobile"},"ToDo List",b.default.createElement("div",{className:"jsf-to-do-list-header-mobile__btn",onClick:e.onClickBack},b.default.createElement("i",{className:"i i-prev"}),"Back")),b.default.createElement("div",{className:"jsf-to-do-list__header"},e.props.title,b.default.createElement("div",{className:t.dragHandler}),b.default.createElement("div",{className:"jsf-to-do-list__close",onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp})),b.default.createElement("div",{className:"jsf-to-do-list__body"},b.default.createElement("div",{className:"g-scrollbar",ref:"scrollRef#30g349g"},b.default.createElement("ul",{className:"jsf-to-do-list-ul"},e.props.list.map(function(t,i){return b.default.createElement(x.default,(0,l.default)({ref:A(i),key:i,onClickItem:e.props.onClickItem,onClickCheckbox:e.props.onClickCheckbox},t))})))),b.default.createElement("div",{className:"jsf-to-do-list__footer",dangerouslySetInnerHTML:{__html:e.props.footerMarkup}})):b.default.createElement("div",null)}},s);t.default=q,e.exports=t.default},1340:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WizardIosNavigation=t.WizardThumbnails=t.WizardPointer=t.WizardFooter=t.WizardTodoList=t.WizardContent=t.WizardController=void 0;var o=i(1483),s=r(o),n=i(1478),a=r(n),l=i(1496),u=r(l),d=i(1487),p=r(d),c=i(1492),f=r(c),g=i(1494),m=r(g),v=i(1491),h=r(v);t.WizardController=s.default,t.WizardContent=a.default,t.WizardTodoList=u.default,t.WizardFooter=p.default,t.WizardPointer=f.default,t.WizardThumbnails=m.default,t.WizardIosNavigation=h.default},1341:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getList=t.allFieldsFilled=t.allRequiredFieldsFilled=void 0;var r=i(128),o=i(127),s=i(22),n=i(19),a=i(1284),l=function(e){return e.wizard.wizardItems},u=function(e){return e.pdf.pagesSettings},d=function(e){return e.el.length?e.el.length===e.el.filter(function(e){return e.enabled}).length:e.el.enabled};t.allRequiredFieldsFilled=function(e){return e.filter(function(e){return e.required&&d(e)}).length===e.filter(function(e){return e.required&&e.contentDone&&d(e)}).length},t.allFieldsFilled=function(e){return e.filter(function(e){return d(e)}).length===e.filter(function(e){return e.contentDone&&d(e)}).length},t.getList=(0,r.createSelector)([n.selectors.getElements,l,o.wizardFocusSelector,s.getEditorLocale,u],function(e,t,i,r,o){return(0,a.getListItems)(e,t,i,r,o.map(function(e){return e.source}))})},1351:function(e,t){e.exports={dragHandler:"dragHandler___sl4n_",minDragHandler:"minDragHandler___1bD8z",wizardTodoPopupView:"wizardTodoPopupView___27HAW"}},1474:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(1272),T=function(){},P=(s=o=function(e){function t(){var e,i,r,o;(0,u.default)(this,t);for(var s=arguments.length,n=Array(s),l=0;l<s;l++)n[l]=arguments[l];return i=r=(0,f.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(n))),r.onClick=function(){switch(r.props.id){case y.assistantButtonIds.check:r.props.onClickCheck();break;case y.assistantButtonIds.uncheck:r.props.onClickUncheck();break;case y.assistantButtonIds.replace:case y.assistantButtonIds.add:r.props.onClickSelectSignature();break;case y.assistantButtonIds.reuse:r.props.onClickReuseSignature();break;case y.assistantButtonIds.initial:break;case y.assistantButtonIds.next:default:r.props.toggleWizardNext()}},o=i,(0,f.default)(r,o)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props.title;return h.default.createElement("div",{className:"jsf-wizard-btn",onClick:this.onClick},e)}}]),t}(v.Component),o.propTypes={id:v.PropTypes.string.isRequired,title:v.PropTypes.string.isRequired,toggleWizardNext:v.PropTypes.func.isRequired,onClickSelectSignature:v.PropTypes.func.isRequired,onClickReuseSignature:v.PropTypes.func.isRequired,onClickCheck:v.PropTypes.func.isRequired,onClickUncheck:v.PropTypes.func.isRequired},o.defaultProps={onClickReuseSignature:T},s);t.default=P,e.exports=t.default},1475:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(6),a=r(n),l=i(3),u=r(l),d=i(1),p=r(d),c=i(2),f=r(c),g=i(5),m=r(g),v=i(4),h=r(v),y=i(0),T=r(y),P=i(35),E=i(9),b=r(E),_=i(1606),z=r(_),w=i(79),R=r(w),k=i(1605),C=r(k),S=i(453),I=r(S),x=i(46),A=i(1272),q="id",F=(s=o=function(e){function t(){var e,i,r,o;(0,p.default)(this,t);for(var s=arguments.length,n=Array(s),a=0;a<s;a++)n[a]=arguments[a];return i=r=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(n))),r.onChange=function(e){var t=e.value,i=e.label;-1===t&&r.props.customDropdownValueSelected||r.props.updateActiveElement(r.props.activeElementId,{text:-1===t?"":i,customDropdownValueSelected:-1===t},x.cancellableOpts)},r.getSelectedValue=function(){var e=r.props,t=e.contentText,i=e.customDropdownValueSelected,o=e.list;if(!1===t)return!1;if(i)return-1;var s=(0,C.default)(o,function(e){return(0,I.default)(e.label,t)});if(!s.length)return!1;var n=(0,R.default)(s,["label",t]);return(void 0!==n?n:s[0])[q]},o=i,(0,m.default)(r,o)}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){!1===this.props.contentText&&this.props.list.length>0&&this.onChange(this.props.list[0])}},{key:"getWidth",value:function(){if(!this.props.list||0===this.props.list.length)return 0;var e=(0,z.default)(this.props.list,function(e){return e.value.length});return A.pxPerSymbol*e.value.length}},{key:"render",value:function(){var e={className:"small sort",clearable:!1,searchable:!1};return T.default.createElement("div",{style:{width:this.getWidth()},className:(0,b.default)("jsf-wizard__calendar")},T.default.createElement("div",{className:"jsf-wizard-calendar__select jsf-wizard-calendar__select--month"},T.default.createElement(P.Select,(0,a.default)({options:this.props.list,onChange:this.onChange,value:this.getSelectedValue(),valueKey:q},e))))}}]),t}(y.Component),o.propTypes={activeElementId:y.PropTypes.string.isRequired,list:y.PropTypes.arrayOf(y.PropTypes.shape({id:y.PropTypes.number.isRequired,value:y.PropTypes.oneOfType([y.PropTypes.string,y.PropTypes.number]).isRequired,label:y.PropTypes.string.isRequired})).isRequired,contentText:y.PropTypes.oneOfType([y.PropTypes.string.isRequired,y.PropTypes.bool.isRequired]),customDropdownValueSelected:y.PropTypes.bool,position:y.PropTypes.shape({x:y.PropTypes.number.isRequired,y:y.PropTypes.number.isRequired,top:y.PropTypes.bool.isRequired,arrow:y.PropTypes.number.isRequired}).isRequired,wizardAssistantSize:y.PropTypes.object,frameOffset:y.PropTypes.object.isRequired,updateActiveElement:y.PropTypes.func.isRequired},s);t.default=F,e.exports=t.default},1476:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(9),T=r(y),P=i(23),E=i(15),b=(s=o=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.onClick=function(e){return(0,E.stopEvent)(e)},i.storeAssistantRef=function(e){i.assistantRef=e},i.getNode=function(){return(0,P.findDOMNode)(i.assistantRef)},i.state={visible:!1},i}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.sendSizeToRedux()}},{key:"componentWillReceiveProps",value:function(e){var t=e.position;this.state.visible||t===this.props.position||0===t.x&&0===t.y||this.setState({visible:!0})}},{key:"componentDidUpdate",value:function(){this.sendSizeToRedux()}},{key:"componentWillUnmount",value:function(){this.props.setWizardAssistantSize({width:0,height:0})}},{key:"sendSizeToRedux",value:function(){var e=this.getNode(),t=this.props.wizardAssistantSize;if(e&&t){var i=e.getBoundingClientRect(),r=i.width,o=i.height,s={width:Math.round(r),height:Math.round(o)};s.width===t.width&&s.height===t.height||this.props.setWizardAssistantSize(s)}}},{key:"render",value:function(){return h.default.createElement("div",{className:(0,T.default)("jsf-wizard",{"jsf-wizard--top":this.props.position.top,"jsf-wizard--calendar":this.props.date,"jsf-wizard--two-btn":this.props.buttons.length>1}),onClick:this.onClick,ref:this.storeAssistantRef,style:{top:this.props.position.y+"px",left:this.props.position.x+"px",opacity:this.state.visible?"1":"0.01"}},h.default.createElement("div",{className:"jsf-wizard__arrow",style:{marginLeft:-10-this.props.position.arrow+"px",pointerEvents:"none"}}),h.default.createElement("div",{className:"jsf-wizard-header"},h.default.createElement("div",{className:"jsf-wizard__close",onClick:this.props.onClickClose}),h.default.createElement("div",{className:"jsf-wizard__text"},this.props.text),this.props.date&&this.props.date,this.props.dropdown&&this.props.dropdown,h.default.createElement("div",{className:"jsf-wizard__action-btn"},this.props.buttons.map(function(e){return e}))),this.props.hint&&h.default.createElement("div",{className:"jsf-wizard__note"},this.props.hint))}}]),t}(v.Component),o.propTypes={position:v.PropTypes.shape({x:v.PropTypes.number.isRequired,y:v.PropTypes.number.isRequired,top:v.PropTypes.bool.isRequired,arrow:v.PropTypes.number.isRequired}).isRequired,text:v.PropTypes.string.isRequired,buttons:v.PropTypes.array.isRequired,onClickClose:v.PropTypes.func.isRequired,setWizardAssistantSize:v.PropTypes.func.isRequired,wizardAssistantSize:v.PropTypes.object,hint:v.PropTypes.oneOfType([v.PropTypes.string,v.PropTypes.bool]).isRequired,date:v.PropTypes.element,dropdown:v.PropTypes.element},s);t.default=b,e.exports=t.default},1477:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WizardAssistantDropdownView=t.WizardAssistantDateView=t.WizardAssistantButtonView=t.WizardAssistantView=void 0;var o=i(1476),s=r(o),n=i(1474),a=r(n),l=i(1338),u=r(l),d=i(1475),p=r(d);t.WizardAssistantView=s.default,t.WizardAssistantButtonView=a.default,t.WizardAssistantDateView=u.default,t.WizardAssistantDropdownView=p.default},1478:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n,a,l,u=i(6),d=r(u),p=i(3),c=r(p),f=i(1),g=r(f),m=i(2),v=r(m),h=i(5),y=r(h),T=i(4),P=r(T),E=i(0),b=r(E),_=i(128),z=i(7),w=i(66),R=r(w),k=i(17),C=i(19),S=i(36),I=i(53),x=i(31),A=i(46),q=i(10),F=i(15),O=i(18),L=i(38),W=i(16),D=i(127),M=i(32),N=i(22),j=i(1304),B=i(1275),U=i(1303),V=r(U),G=i(1480),H=i(1482),Z=i(1477),K=function(e,t){return!!t.isActivePage&&C.selectors.getElements(e)},X=function(e){return e.wizard.wizardItems},Y=function(e,t){var i=t.pageId;return e.navigation.scales[i]},Q=function(e,t){return t.pageId},J=function(e,t){return t.isActivePage&&(0,D.wizardFocusSelector)(e)},$=function(e,t){return t.signToReuse},ee=function(e){return e.wizard.cacheSignature},te=(0,_.createSelector)([K,X,Y,Q],function(e,t,i,r){return(0,j.marksToProps)({elements:e,wizardItems:t,scale:i,pageId:r})}),ie=(0,_.createSelector)([J,Q,N.getEditorLocale,C.selectors.getActiveElement,$],function(e,t,i,r,o){return(0,j.wizardAssistantToProps)({wizardFocus:e,pageId:t,locale:i,activeElement:r,signToReuse:o})}),re=(0,_.createSelector)([J,Y,Q],function(e,t,i){return(0,j.wizardFocusBoundingToProps)({wizardFocus:e,scale:t,pageId:i})}),oe=(0,_.createSelector)([ee,J],function(e,t){return(0,V.default)({cacheSignature:e,element:t})}),se=(o=(0,z.connect)(function(e,t){var i=t.pageId;return function(e){var t=e.navigation.activePageId===i,r=oe(e,{isActivePage:t});return{isActivePage:t,wizardFocus:t&&(0,D.wizardFocusSelector)(e),wizardActive:t&&e.wizard.wizardActive,frameOffset:C.selectors.getFrameOffset(e,i),workspace:e.viewport.workspace,activeElement:e.ws.activeElement,framePadding:e.viewport.workspace&&e.viewport.workspace.framePadding||{},frameSize:C.selectors.getFrameSize(e,i),wizardAssistantSize:e.viewport.wizardAssistantSize,useSigDateStamp:e.ws.defaults.useSigDateStamp,signToReuse:r,scale:Y(e,{pageId:i}),wizardAssistantDateView:(0,N.getEditorLocale)(e).wizardAssistantDateView,marks:te(e,{pageId:i,isActivePage:t}),assistantProps:ie(e,{pageId:i,isActivePage:t,signToReuse:r}),boundingProps:re(e,{pageId:i,isActivePage:t}),triggerSelectSignatureClick:e.wizard.triggerSelectSignatureClick,triggerReuseSignatureClick:e.wizard.triggerReuseSignatureClick}}},{setActiveElement:W.setActiveElement,changePage:S.changePage,updateElement:W.updateElement,toggleWizardNext:B.toggleWizardNext,toggleWizardByElement:B.toggleWizardByElement,updateActiveElement:I.updateActiveElement,setWizardAssistantSize:x.setWizardAssistantSize,setFillablePictureSelectingId:M.setFillablePictureSelectingId}))((a=n=function(e){function t(e){(0,g.default)(this,t);var i=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return l.call(i),i.state={isMarksVisible:!(e.wizardFocus||e.activeElement)},i}return(0,P.default)(t,e),(0,v.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.wizardFocus,i=e.wizardActive,r=e.triggerSelectSignatureClick,o=e.triggerReuseSignatureClick;e.isActivePage&&(r!==this.props.triggerSelectSignatureClick&&this.onClickSelectSignature(r),o!==this.props.triggerReuseSignatureClick&&this.onClickReuseSignature());var s=i&&!t;this.changeMarksVisible(s)}},{key:"componentWillUnmount",value:function(){this.changeMarksVisible.cancel()}},{key:"render",value:function(){return b.default.createElement("div",{style:{display:this.props.wizardActive?"block":"none"}},this.renderFocus(),!k.thisDevice.hasTouch&&this.renderAssistant(),!k.thisDevice.hasTouch&&this.renderMarks())}}]),t}(E.Component),n.propTypes={pageId:E.PropTypes.number.isRequired,signToReuse:E.PropTypes.oneOfType([E.PropTypes.bool,E.PropTypes.shape({content:E.PropTypes.object.isRequired,timestamp:E.PropTypes.number.isRequired})]).isRequired,triggerSelectSignatureClick:E.PropTypes.object.isRequired,triggerReuseSignatureClick:E.PropTypes.object.isRequired,useSigDateStamp:E.PropTypes.bool.isRequired,framePadding:E.PropTypes.shape({top:E.PropTypes.number.isRequired,right:E.PropTypes.number.isRequired,bottom:E.PropTypes.number.isRequired,left:E.PropTypes.number.isRequired}).isRequired,wizardFocus:E.PropTypes.oneOfType([E.PropTypes.object,E.PropTypes.array,E.PropTypes.bool]),wizardActive:E.PropTypes.bool.isRequired,wizardAssistantDateView:E.PropTypes.shape({months:E.PropTypes.arrayOf(E.PropTypes.string).isRequired}).isRequired,marks:E.PropTypes.array.isRequired,assistantProps:E.PropTypes.oneOfType([E.PropTypes.array,E.PropTypes.shape({type:E.PropTypes.string,date:E.PropTypes.string,format:E.PropTypes.string,text:E.PropTypes.string})]).isRequired,boundingProps:E.PropTypes.shape({wizardFocusId:E.PropTypes.string,bounding:E.PropTypes.shape({height:E.PropTypes.number,width:E.PropTypes.number,x:E.PropTypes.number,y:E.PropTypes.number})}).isRequired,scale:E.PropTypes.number.isRequired,wizardAssistantSize:E.PropTypes.object,setWizardAssistantSize:E.PropTypes.func.isRequired,toggleWizardNext:E.PropTypes.func.isRequired,toggleWizardByElement:E.PropTypes.func.isRequired,text:E.PropTypes.string,type:E.PropTypes.string,subType:E.PropTypes.string,date:E.PropTypes.string,format:E.PropTypes.string,frameSize:E.PropTypes.oneOfType([E.PropTypes.shape({width:E.PropTypes.number.isRequired,height:E.PropTypes.number.isRequired}),E.PropTypes.oneOf([!1])]).isRequired,frameOffset:E.PropTypes.object.isRequired,workspace:E.PropTypes.shape({width:E.PropTypes.number.isRequired,height:E.PropTypes.number.isRequired}),updateActiveElement:E.PropTypes.func.isRequired,updateElement:E.PropTypes.func.isRequired,isActivePage:E.PropTypes.bool.isRequired,activeElement:E.PropTypes.oneOfType([E.PropTypes.bool,E.PropTypes.string]).isRequired,setActiveElement:E.PropTypes.func.isRequired,changePage:E.PropTypes.func.isRequired,setFillablePictureSelectingId:E.PropTypes.func.isRequired},n.contextTypes={dispatchAction:E.PropTypes.func},l=function(){var e=this;this.onClickSelectSignature=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.el?t.el:e.props.wizardFocus;e.props.setFillablePictureSelectingId(i.id),i.type===O.elemTypes.image?e.context.dispatchAction(L.managers.actions.openImageManager,{}):i.type===O.elemTypes.signature&&e.context.dispatchAction(L.managers.actions.openSignatureManager,(0,j.getSignatureModalOptions)(i))},this.onClickReuseSignature=function(){e.props.signToReuse&&e.props.updateActiveElement(e.props.activeElement,(0,d.default)({},e.props.signToReuse.content,e.getDateStampObject()),(0,d.default)({byReuse:!0},A.cancellableOpts))},this.onClickMarkItem=function(t){return function(i){(0,F.stopEvent)(i),e.props.toggleWizardByElement(t)}},this.onClickClose=function(t){(0,F.stopEvent)(t);var i=e.props.activeElement;i&&e.props.setActiveElement(i,!1)},this.onClickCheck=function(){e.props.updateActiveElement(e.props.activeElement,{checked:!0},A.cancellableOpts)},this.onClickUncheck=function(){e.props.updateActiveElement(e.props.activeElement,{checked:!1},A.cancellableOpts)},this.getSignatureModalOptions=function(){},this.getDateStampObject=function(){return e.props.useSigDateStamp?{dateStamp:(0,F.formatDate)(new Date,q.defaultDateFormat)}:{}},this.changeMarksVisible=(0,R.default)(function(t){e.state.isMarksVisible!==t&&e.setState({isMarksVisible:t})},300),this.renderFocus=function(){return e.props.boundingProps.bounding&&e.props.wizardFocus?b.default.createElement(G.WizardFocusView,(0,d.default)({wizardFocus:e.props.wizardFocus,scale:e.props.scale},e.props.boundingProps.bounding)):null},this.renderAssistant=function(){if(!e.props.boundingProps.bounding||!e.props.frameSize)return null;var t=(0,j.getWizardAssistantPosition)({wizardAssistantSize:e.props.wizardAssistantSize,elementBounding:e.props.boundingProps.bounding,frameSize:e.props.frameSize}),i=void 0;return void 0!==e.props.assistantProps.date&&(i={date:b.default.createElement(Z.WizardAssistantDateView,{updateActiveElement:e.props.updateActiveElement,date:e.props.assistantProps.date,format:e.props.assistantProps.format,months:e.props.wizardAssistantDateView.months,activeElementId:e.props.activeElement,key:0})}),void 0!==e.props.assistantProps.list&&(i={dropdown:b.default.createElement(Z.WizardAssistantDropdownView,(0,d.default)({workspace:e.props.workspace,wizardAssistantSize:e.props.wizardAssistantSize,position:t,frameOffset:e.props.frameOffset},e.props.assistantProps,{updateActiveElement:e.props.updateActiveElement,key:0,activeElementId:e.props.activeElement}))}),b.default.createElement(Z.WizardAssistantView,(0,d.default)({key:e.props.boundingProps.wizardFocusId,text:e.props.assistantProps.text,hint:e.props.assistantProps.hint,setWizardAssistantSize:e.props.setWizardAssistantSize,wizardAssistantSize:e.props.wizardAssistantSize,position:t},i,{buttons:e.props.assistantProps.buttons?e.props.assistantProps.buttons.map(function(t){return b.default.createElement(Z.WizardAssistantButtonView,{key:t.id,id:t.id,title:t.label,toggleWizardNext:e.props.toggleWizardNext,onClickSelectSignature:e.onClickSelectSignature,onClickReuseSignature:e.onClickReuseSignature,onClickCheck:e.onClickCheck,onClickUncheck:e.onClickUncheck})}):[],onClickClose:e.onClickClose,pageId:e.props.pageId,isActivePage:e.props.isActivePage}))},this.renderMarks=function(){return b.default.createElement("div",{style:{display:e.state.isMarksVisible?"inline":"none"}},e.props.marks.map(function(t,i){return b.default.createElement(H.WizardMarkView,(0,d.default)({key:i,framePadding:e.props.framePadding,onClickMarkItem:e.onClickMarkItem},t))}))}},s=a))||s;t.default=se,e.exports=t.default},1479:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(9),T=r(y),P=(s=o=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.setFlash=function(e){return i.setState({flash:e},function(){e&&(i.timeout&&clearTimeout(i.timeout),i.timeout=setTimeout(function(){return i.setFlash(!1)},500))})},i.renderItem=function(e){var t=e.id,r=void 0===t?-1:t,o=e.x,s=e.y,n=e.width,a=e.height;return h.default.createElement("div",{key:r,className:(0,T.default)({"jsf-fillable--active":i.state.flash}),style:{position:"absolute",top:s,left:o,width:n,height:a,outline:"1px solid #5fc315",pointerEvents:"none"}})},i.renderElementItems=function(){var e=i.props,t=e.wizardFocus,r=e.scale;return!!Array.isArray(t)&&t.map(function(e){var t=e.id,i=e.template;return{id:t,x:i.x*r,y:i.y*r,width:i.width*r,height:i.height*r}}).map(i.renderItem)},i.state={flash:!0},i}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout(function(){e.setState({flash:!1})},500)}},{key:"componentWillReceiveProps",value:function(e){var t=e.wizardFocus;t.length&&(this.props.wizardFocus.length?t[0].id!==this.props.wizardFocus[0].id&&this.setFlash(!0):this.setFlash(!0)),t.id&&(this.props.wizardFocus.id?t.id!==this.props.wizardFocus.id&&this.setFlash(!0):this.setFlash(!0))}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.y,i=e.x,r=e.width,o=e.height;return h.default.createElement("div",null,this.renderItem({y:t,x:i,width:r,height:o}),this.renderElementItems())}}]),t}(v.Component),o.propTypes={scale:v.PropTypes.number.isRequired,y:v.PropTypes.number.isRequired,x:v.PropTypes.number.isRequired,width:v.PropTypes.number.isRequired,height:v.PropTypes.number.isRequired,wizardFocus:v.PropTypes.oneOfType([v.PropTypes.object,v.PropTypes.array,v.PropTypes.bool])},s);t.default=P,e.exports=t.default},1480:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardFocusView=void 0;var r=i(1479),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.WizardFocusView=o.default},1481:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(9),T=r(y),P=(s=o=function(e){function t(){var e,i,r,o;(0,u.default)(this,t);for(var s=arguments.length,n=Array(s),l=0;l<s;l++)n[l]=arguments[l];return i=r=(0,f.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(n))),r.onClick=function(e){return r.props.onClickMarkItem(r.props.elem)(e)},o=i,(0,f.default)(r,o)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.top,i=e.color,r=e.framePadding;return h.default.createElement("div",{onClick:this.onClick,className:(0,T.default)("jsf-wizard-mark",{"jsf-wizard-mark--done":"gray"===i}),style:{position:"absolute",right:-r.left+"px",top:Math.round(t)+"px"}},h.default.createElement("div",{className:"jsf-wizard-mark__inner"}))}}]),t}(v.Component),o.propTypes={top:v.PropTypes.number.isRequired,color:v.PropTypes.oneOf(["green","gray"]).isRequired,elem:v.PropTypes.oneOfType([v.PropTypes.object,v.PropTypes.array]),onClickMarkItem:v.PropTypes.func.isRequired,framePadding:v.PropTypes.shape({top:v.PropTypes.number.isRequired,right:v.PropTypes.number.isRequired,bottom:v.PropTypes.number.isRequired,left:v.PropTypes.number.isRequired}).isRequired},s);t.default=P,e.exports=t.default},1482:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WizardMarkView=void 0;var r=i(1481),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.WizardMarkView=o.default},1483:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s,n,a,l,u=i(27),d=r(u),p=i(3),c=r(p),f=i(1),g=r(f),m=i(2),v=r(m),h=i(5),y=r(h),T=i(4),P=r(T),E=i(6),b=r(E),_=i(0),z=r(_),w=i(7),R=i(128),k=i(66),C=r(k),S=i(21),I=r(S),x=i(42),A=r(x),q=i(17),F=i(19),O=i(22),L=i(15),W=i(16),D=i(36),M=i(32),N=i(127),j=i(10),B=i(1272),U=i(1275),V=i(1489),G=r(V),H=i(1340),Z=i(1486),K=i(1284),X=i(1341),Y=function(e){return e.viewport.workspace},Q=function(e){return e.navigation.activePageId},J=function(e){return e.navigation.scales[e.navigation.activePageId]},$=function(e){return(0,I.default)(e.pdf,"pdfPages.length",0)},ee=(0,R.createSelector)([Y,Q,F.selectors.getFrameOffsets,N.wizardFocusSelector,J],function(e,t,i,r,o){return(0,K.getWizardFocusBounding)(e,t,i,r,o)}),te=(o=(0,w.connect)(function(e){return(0,b.default)({focusElement:(0,O.getFocusElement)(e),workspace:Y(e),frameOffsets:F.selectors.getFrameOffsets(e),scale:J(e),list:(0,X.getList)(e),isModalVisible:(0,O.isModalVisible)(e),activePageIdChangedByScenatio:e.navigation.activePageIdChangedByScenatio,toggleWizard:e.wizard.toggleWizard,toggleWizardNextGroup:e.wizard.toggleWizardNextGroup,activePageId:e.navigation.activePageId,activeElement:e.ws.activeElement,unfilledCounts:e.wizard.unfilledCounts,haveFilledFields:e.wizard.haveFilledFields,activeElemOverflow:e.wizard.activeElemOverflow,wizardFocus:(0,N.wizardFocusSelector)(e),wizardActive:e.wizard.wizardActive,wizardTraverseMode:e.wizard.wizardTraverseMode,pagesCount:$(e),isFConstructorShown:e.viewport.isFConstructorShown,isPAConstructorShown:e.viewport.isPAConstructorShown,isFConstructorPreviewShown:(0,I.default)(e,"fConstructor.isFConstructorPreviewShown",!1)},(0,K.getWhereFocus)((0,O.getFocusElement)(e)),ee(e))},{changePage:D.changePage,setActiveElement:W.setActiveElement,setForceFocusElement:M.setForceFocusElement,setWizardActive:U.setWizardActive,setHaveFilledFields:U.setHaveFilledFields,setUnfilledCounts:U.setUnfilledCounts,setActiveElemOverflow:U.setActiveElemOverflow,updateElement:W.updateElement,initializeWizard:U.initializeWizard,setWizardTraverseMode:U.setWizardTraverseMode}))((a=n=function(e){function t(e){(0,g.default)(this,t);var i=(0,y.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));l.call(i),i.clickedItem=!1;var r=i.props.list,o=(0,A.default)(r,function(e){return!e.done}),s=o>-1&&r[o].el;return i.state={lastWizardFocus:s},i}return(0,P.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){this.onLoad(this.props.activePageId),0===this.props.list.length&&this.props.setWizardActive(!1)}},{key:"componentWillReceiveProps",value:function(e){var t=e.activePageIdChangedByScenatio,i=e.activePageId,r=e.wizardFocus,o=e.isFocusOnSimpleElement,s=e.wizardActive,n=e.isFocusOnFillableElement,a=e.list,l=e.toggleWizardNextGroup,u=e.toggleWizard,d=e.pagesCount,p=e.isFConstructorShown,c=e.isFConstructorPreviewShown,f=e.isPAConstructorShown,g=e.activeElement;if(p&&!c||f)return!1;!this.props.isFConstructorShown||p||g||this.onLoad(i),this.clickedItem&&this.clickedItem.pageId===i&&(this.setClickedActive(this.clickedItem.id),this.clickedItem=!1),i!==this.props.activePageId&&t&&this.onLoad(i),r&&r!==this.props.wizardFocus&&this.setState({lastWizardFocus:r}),o&&s&&this.props.setWizardActive(!1),n&&!s&&this.props.setWizardActive(!0),l!==this.props.toggleWizardNextGroup&&this.wizardFocusItem(l,!1,!0,a),u!==this.props.toggleWizard&&this.wizardFocusItem(u),!this.props.pagesCount&&d&&this.props.initializeWizard(d)}},{key:"render",value:function(){return z.default.createElement("div",null,z.default.createElement(H.WizardTodoList,{bounding:this.props.bounding,list:this.props.list}),z.default.createElement(Z.WizardPointerController,{bounding:this.props.bounding,activePageId:this.props.activePageId,lastWizardFocus:this.state.lastWizardFocus,activeElemOverflow:this.props.activeElemOverflow,workspace:this.props.workspace,setActiveElemOverflow:this.props.setActiveElemOverflow}),z.default.createElement(Z.WizardUnfilledCountController,{list:this.props.list,haveFilledFields:this.props.haveFilledFields,unfilledCounts:this.props.unfilledCounts,setUnfilledCounts:this.props.setUnfilledCounts,setHaveFilledFields:this.props.setHaveFilledFields}),z.default.createElement(G.default,null),q.thisDevice.isIOS&&z.default.createElement(H.WizardIosNavigation,{wizardFocusItem:this.wizardFocusItem,wizardFocus:this.props.wizardFocus}))}}]),t}(_.Component),n.propTypes={activePageIdChangedByScenatio:_.PropTypes.bool,activeElement:_.PropTypes.oneOfType([_.PropTypes.bool,_.PropTypes.string]).isRequired,bounding:_.PropTypes.oneOfType([_.PropTypes.object,_.PropTypes.bool]).isRequired,list:_.PropTypes.arrayOf(_.PropTypes.shape({el:_.PropTypes.oneOfType([_.PropTypes.object,_.PropTypes.array]).isRequired,contentDone:_.PropTypes.bool.isRequired,done:_.PropTypes.bool.isRequired,active:_.PropTypes.bool.isRequired,text:_.PropTypes.string.isRequired,required:_.PropTypes.bool.isRequired})).isRequired,isModalVisible:_.PropTypes.bool.isRequired,activePageId:_.PropTypes.number.isRequired,haveFilledFields:_.PropTypes.bool.isRequired,unfilledCounts:_.PropTypes.array.isRequired,workspace:_.PropTypes.shape({left:_.PropTypes.number.isRequired,top:_.PropTypes.number.isRequired,bottom:_.PropTypes.number.isRequired,framePadding:_.PropTypes.shape({top:_.PropTypes.number.isRequired,right:_.PropTypes.number.isRequired,bottom:_.PropTypes.number.isRequired,left:_.PropTypes.number.isRequired}).isRequired}),wizardFocus:_.PropTypes.oneOfType([_.PropTypes.object,_.PropTypes.array,_.PropTypes.bool]),wizardFocusId:_.PropTypes.oneOfType([_.PropTypes.bool,_.PropTypes.string]).isRequired,frameOffsets:_.PropTypes.oneOfType([_.PropTypes.bool,_.PropTypes.arrayOf(_.PropTypes.shape({top:_.PropTypes.number.isRequired,left:_.PropTypes.number.isRequired,scrollTop:_.PropTypes.number.isRequired,scrollLeft:_.PropTypes.number.isRequired}))]),scale:_.PropTypes.number,focusElement:_.PropTypes.oneOfType([_.PropTypes.bool,_.PropTypes.object]).isRequired,activeElemOverflow:_.PropTypes.oneOf((0,d.default)(B.elemOverflowStates)).isRequired,isFocusOnFillableElement:_.PropTypes.bool.isRequired,isFocusOnSimpleElement:_.PropTypes.bool.isRequired,wizardActive:_.PropTypes.bool.isRequired,pagesCount:_.PropTypes.number.isRequired,wizardTraverseMode:_.PropTypes.oneOf((0,d.default)(j.wizardTraverseModes)).isRequired,isFConstructorShown:_.PropTypes.bool.isRequired,isFConstructorPreviewShown:_.PropTypes.bool.isRequired,isPAConstructorShown:_.PropTypes.bool.isRequired,toggleWizard:_.PropTypes.shape({type:_.PropTypes.oneOf((0,d.default)(B.toggleWizardTypes)).isRequired,id:_.PropTypes.string}).isRequired,toggleWizardNextGroup:_.PropTypes.shape({type:_.PropTypes.oneOf((0,d.default)(B.toggleWizardTypes)).isRequired,id:_.PropTypes.string}).isRequired,updateElement:_.PropTypes.func.isRequired,setHaveFilledFields:_.PropTypes.func.isRequired,setUnfilledCounts:_.PropTypes.func.isRequired,setWizardActive:_.PropTypes.func.isRequired,setForceFocusElement:_.PropTypes.func.isRequired,setActiveElement:_.PropTypes.func.isRequired,changePage:_.PropTypes.func.isRequired,setActiveElemOverflow:_.PropTypes.func.isRequired,initializeWizard:_.PropTypes.func.isRequired,setWizardTraverseMode:_.PropTypes.func.isRequired},n.contextTypes={getIndexByPageId:_.PropTypes.func},l=function(){var e=this;this.onLoad=function(t){var i=e.props.list;if(i.length>0&&!q.thisDevice.hasTouch){var r=(0,K.getPartOfListOnPage)(i,t);if(r.length<1)return;e.onClickItem(r[0].el)()}},this.onClickItem=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r){(0,L.stopEvent)(r);var o=e.props,s=o.activeElement,n=o.activePageId,a=t.id?t:t[i];if(s===a.id&&(q.thisDevice.isAndroid||q.thisDevice.isIOS)&&n===a.pageId)return void e.props.setForceFocusElement(a.id);!s||!q.thisDevice.isIOS&&r||e.props.setActiveElement(s,!1),n!==a.pageId?(e.props.changePage(a.pageId),q.thisDevice.isIOS?e.setClickedActive(a.id):e.clickedItem=a):e.setClickedActive(a.id)}},this.setIE11Debounce=(0,C.default)(function(t,i){e.onClickItem(t,i)()},100),this.setClickedActive=function(t){var i=function(){return e.props.setActiveElement(t,!0)};q.thisDevice.isDesktop?setTimeout(i,100):i()},this.hideWizard=function(){var t=e.props.activeElement;t&&e.props.setActiveElement(t,!1),e.props.setWizardActive(!1)},this.getNextTraverseMode=function(t,i){return i?-1!==(0,A.default)(t,function(e){return e.required&&!e.done})?j.wizardTraverseModes.requiredUnfilled:-1!==(0,A.default)(t,function(e){return!e.done})?j.wizardTraverseModes.allUnfilled:j.wizardTraverseModes.all:e.props.wizardTraverseMode},this.wizardFocusItem=function(t,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.props.list;if(t.type===B.toggleWizardTypes.next||t.type===B.toggleWizardTypes.prev){var s=t.type===B.toggleWizardTypes.prev,n=i||o.findIndex(function(e){return!0===e.active});if(-1===n)return;var a=o[n];if(!r&&a.el.length){var l=a.el.findIndex(function(t){return t.id===e.props.activeElement}),u=a.el.length,d=l===u-1,p=0===l;if(!d&&!s||!p&&s){var c=l+(s?-1:1);if(a.el[c])return void e.props.setActiveElement(a.el[c].id,!0)}}var f=0===n&&s,g=n===o.length-1&&!s,m=e.getNextTraverseMode(o,g);m!==e.props.wizardTraverseMode&&e.props.setWizardTraverseMode(m);var v=(0,K.getNextItem)(o,{focusIndex:n,prev:s,unfilled:g||f||m!==j.wizardTraverseModes.all,required:m===j.wizardTraverseModes.requiredUnfilled});if(v){var h=s&&v.el.length&&v.el.length>0?v.el.length-1:0;q.thisDevice.isInternetExplorer11?e.setIE11Debounce(v.el,h):e.onClickItem(v.el,h)()}else e.hideWizard()}if(t.type===B.toggleWizardTypes.lastActive){var y=e.state.lastWizardFocus;y.length?e.onClickItem(y[0])():e.onClickItem(y)()}if(t.type===B.toggleWizardTypes.byElement){var T=t.el;e.onClickItem(T)()}}},s=a))||s;t.default=te,e.exports=t.default},1484:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(27),a=r(n),l=i(3),u=r(l),d=i(1),p=r(d),c=i(2),f=r(c),g=i(5),m=r(g),v=i(4),h=r(v),y=i(0),T=i(66),P=r(T),E=i(1272),b=(s=o=function(e){function t(e){(0,p.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.updateActiveElemOverflowIfNeed=(0,P.default)(function(e,t){var r=E.elemOverflowStates.visible;if(e){var o=i.props.workspace;e.bottom<o.top&&(r=E.elemOverflowStates.elemIsAbove),e.top>o.bottom&&(r=E.elemOverflowStates.elemIsBelow)}var s=i.props.lastWizardFocus;if(s){var n=s.length?s[0]:s,a=n.pageId,l=i.context.getIndexByPageId(t),u=i.context.getIndexByPageId(a);l>u&&(r=E.elemOverflowStates.elemIsAbove),l<u&&(r=E.elemOverflowStates.elemIsBelow)}i.props.activeElemOverflow!==r&&i.props.setActiveElemOverflow(r)},400),i.lastBounding=i.props.bounding,i}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.updateActiveElemOverflowIfNeed(this.lastBounding,this.props.activePageId)}},{key:"componentWillReceiveProps",value:function(e){var t=e.activePageId,i=e.bounding;i!==this.props.bounding&&i&&(this.lastBounding=i),t===this.props.activePageId&&i===this.props.bounding||this.updateActiveElemOverflowIfNeed(this.lastBounding,t)}},{key:"render",value:function(){return null}}]),t}(y.Component),o.propTypes={bounding:y.PropTypes.oneOfType([y.PropTypes.object,y.PropTypes.bool]).isRequired,activePageId:y.PropTypes.number.isRequired,lastWizardFocus:y.PropTypes.oneOfType([y.PropTypes.bool,y.PropTypes.object,y.PropTypes.array]).isRequired,activeElemOverflow:y.PropTypes.oneOf((0,a.default)(E.elemOverflowStates)).isRequired,workspace:y.PropTypes.shape({left:y.PropTypes.number.isRequired,top:y.PropTypes.number.isRequired,bottom:y.PropTypes.number.isRequired,framePadding:y.PropTypes.shape({top:y.PropTypes.number.isRequired,right:y.PropTypes.number.isRequired,bottom:y.PropTypes.number.isRequired,left:y.PropTypes.number.isRequired}).isRequired}),setActiveElemOverflow:y.PropTypes.func.isRequired},o.contextTypes={getIndexByPageId:y.PropTypes.func},s);t.default=b,e.exports=t.default},1485:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=i(86),y=r(h),T=i(1284),P=(s=o=function(e){function t(){var e,i,r,o;(0,u.default)(this,t);for(var s=arguments.length,n=Array(s),l=0;l<s;l++)n[l]=arguments[l];return i=r=(0,f.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(n))),r.updateUnfilledCountsIfNeed=function(e){var t=r.props,i=t.unfilledCounts,o=t.haveFilledFields,s=(0,T.getUnfilledCounts)(e,i.length);(0,y.default)(s,i)||r.props.setUnfilledCounts(s);var n=e.findIndex(function(e){return e.done})>-1;o!==n&&r.props.setHaveFilledFields(n)},o=i,(0,f.default)(r,o)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.updateUnfilledCountsIfNeed(this.props.list)}},{key:"componentWillReceiveProps",value:function(e){var t=e.list;t!==this.props.list&&this.updateUnfilledCountsIfNeed(t)}},{key:"render",value:function(){return null}}]),t}(v.Component),o.propTypes={list:v.PropTypes.arrayOf(v.PropTypes.shape({el:v.PropTypes.oneOfType([v.PropTypes.object,v.PropTypes.array]).isRequired,contentDone:v.PropTypes.bool.isRequired,done:v.PropTypes.bool.isRequired,active:v.PropTypes.bool.isRequired,text:v.PropTypes.string.isRequired,required:v.PropTypes.bool.isRequired})).isRequired,haveFilledFields:v.PropTypes.bool.isRequired,unfilledCounts:v.PropTypes.array.isRequired,setUnfilledCounts:v.PropTypes.func.isRequired,setHaveFilledFields:v.PropTypes.func.isRequired},s);t.default=P,e.exports=t.default},1486:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WizardUnfilledCountController=t.WizardPointerController=void 0;var o=i(1484),s=r(o),n=i(1485),a=r(n);t.WizardPointerController=s.default,t.WizardUnfilledCountController=a.default},1487:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n,a,l=i(3),u=r(l),d=i(1),p=r(d),c=i(2),f=r(c),g=i(5),m=r(g),v=i(4),h=r(v),y=i(0),T=r(y),P=i(23),E=i(7),b=i(128),_=i(19),z=i(15),w=i(17),R=i(16),k=i(31),C=i(127),S=i(53),I=i(22),x=i(1275),A=i(1304),q=i(1338),F=r(q),O=i(1488),L=r(O),W=i(1303),D=r(W),M="wizardMobileRef#4pht3049",N=function(e){return(0,C.wizardFocusSelector)(e)},j=function(e){return e.events.lastSignature},B=function(e){return e.events.lastInitials},U=function(e){return e.navigation.activePageId},V=function(e){return e.viewport.body},G=function(e){return e.wizard.cacheSignature},H=function(e,t){return t.signToReuse},Z=(0,b.createSelector)([_.selectors.getActiveElement,N,j,B,I.getEditorLocale,U,H],function(e,t,i,r,o,s,n){return(0,A.wizardAssistantToProps)({activeElement:e,wizardFocus:t,lastSignature:i,lastInitials:r,locale:o,pageId:s,signToReuse:n})}),K=(0,b.createSelector)([V],function(e){return(0,z.getOrientation)(e)}),X=(0,b.createSelector)([G,N],function(e,t){return(0,D.default)({cacheSignature:e,element:t})}),Y=(o=(0,E.connect)(function(e){var t=e.navigation.activePageId===e.pageId,i=X(e,{isActivePage:t});return{mobileWizardTodoListIsActive:e.wizard.mobileWizardTodoListIsActive,wizardFocus:(0,C.wizardFocusSelector)(e),wizardFooterHeight:e.viewport.wizardFooterHeight,keyboardSize:e.viewport.keyboardSize,activeElement:e.ws.activeElement,isKeyboardShown:e.viewport.isKeyboardShown,pageId:e.pageId,wizardAssistantDateView:(0,I.getEditorLocale)(e).wizardAssistantDateView,activePageId:e.navigation.activePageId,locale:(0,I.getEditorLocale)(e),assistantProps:Z(e,{signToReuse:i}),orientation:K(e)}},{setWizardFooterHeight:k.setWizardFooterHeight,toggleWizardNext:x.toggleWizardNext,updateElement:R.updateElement,updateActiveElement:S.updateActiveElement,triggerSelectSignatureClick:x.triggerSelectSignatureClick,triggerReuseSignatureClick:x.triggerReuseSignatureClick}))((a=n=function(e){function t(){var e,i,r,o;(0,p.default)(this,t);for(var s=arguments.length,n=Array(s),a=0;a<s;a++)n[a]=arguments[a];return i=r=(0,m.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(n))),r.onClickSelectSignature=function(){r.props.triggerSelectSignatureClick()},r.onClickReuseSignature=function(){r.props.triggerReuseSignatureClick()},r.onClickCheck=function(){r.props.updateActiveElement(r.props.activeElement,{checked:!0})},r.onClickUncheck=function(){r.props.updateActiveElement(r.props.activeElement,{checked:!1})},r.getNode=function(){return(0,P.findDOMNode)(r.refs[M])},o=i,(0,m.default)(r,o)}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidUpdate",value:function(){var e=this.getNode(),t=e?e.getBoundingClientRect().height:0;this.props.wizardFooterHeight!==t&&this.props.setWizardFooterHeight(t)}},{key:"render",value:function(){var e=this,t=this.props,i=t.wizardFocus,r=t.mobileWizardTodoListIsActive,o=t.isKeyboardShown;return!i||r||o&&w.thisDevice.isPhone?null:T.default.createElement("div",{className:w.thisDevice.isIOS?"jsf-device-ios":"jsf-device-android"},T.default.createElement("div",{className:"jsf-wizard-mobile",ref:M,style:{bottom:this.props.keyboardSize[this.props.orientation]+"px"}},this.props.assistantProps&&"date"===this.props.assistantProps.subType&&T.default.createElement(F.default,{updateActiveElement:this.props.updateActiveElement,date:this.props.assistantProps.date,format:this.props.assistantProps.format,months:this.props.wizardAssistantDateView.months,key:0}),this.props.assistantProps.buttons&&this.props.assistantProps.buttons.map(function(t){return T.default.createElement(L.default,{key:t.id,id:t.id,title:t.label,toggleWizardNext:e.props.toggleWizardNext,onClickSelectSignature:e.onClickSelectSignature,onClickReuseSignature:e.onClickReuseSignature,onClickCheck:e.onClickCheck,onClickUncheck:e.onClickUncheck})})))}}]),t}(y.Component),n.propTypes={wizardFocus:y.PropTypes.oneOfType([y.PropTypes.object,y.PropTypes.array,y.PropTypes.bool]),mobileWizardTodoListIsActive:y.PropTypes.bool.isRequired,wizardFooterHeight:y.PropTypes.number.isRequired,keyboardSize:y.PropTypes.object.isRequired,activeElement:y.PropTypes.oneOfType([y.PropTypes.bool,y.PropTypes.string]).isRequired,isKeyboardShown:y.PropTypes.bool.isRequired,assistantProps:y.PropTypes.shape({type:y.PropTypes.string,date:y.PropTypes.string,format:y.PropTypes.string,text:y.PropTypes.string,hint:y.PropTypes.bool,subType:y.PropTypes.string,buttons:y.PropTypes.arrayOf(y.PropTypes.shape({id:y.PropTypes.string.isRequired,label:y.PropTypes.string.isRequired}))}).isRequired,orientation:y.PropTypes.string.isRequired,setWizardFooterHeight:y.PropTypes.func.isRequired,toggleWizardNext:y.PropTypes.func.isRequired,updateElement:y.PropTypes.func.isRequired,updateActiveElement:y.PropTypes.func.isRequired,triggerSelectSignatureClick:y.PropTypes.func.isRequired,triggerReuseSignatureClick:y.PropTypes.func.isRequired,wizardAssistantDateView:y.PropTypes.shape({months:y.PropTypes.arrayOf(y.PropTypes.string).isRequired}).isRequired,locale:y.PropTypes.object.isRequired},s=a))||s;t.default=Y,e.exports=t.default},1488:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(1272),T=(s=o=function(e){function t(){var e,i,r,o;(0,u.default)(this,t);for(var s=arguments.length,n=Array(s),l=0;l<s;l++)n[l]=arguments[l];return i=r=(0,f.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(n))),r.onClick=function(){switch(r.props.id){case y.assistantButtonIds.check:r.props.onClickCheck();break;case y.assistantButtonIds.uncheck:r.props.onClickUncheck();break;case y.assistantButtonIds.replace:case y.assistantButtonIds.add:r.props.onClickSelectSignature();break;case y.assistantButtonIds.reuse:r.props.onClickReuseSignature();break;case y.assistantButtonIds.initial:break;case y.assistantButtonIds.next:default:r.props.toggleWizardNext()}},o=i,(0,f.default)(r,o)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props.title;return h.default.createElement("div",{className:"jsf-wizard-mobile-btn",onClick:this.onClick},e)}}]),t}(v.Component),o.propTypes={id:v.PropTypes.string.isRequired,title:v.PropTypes.string.isRequired,toggleWizardNext:v.PropTypes.func.isRequired,onClickSelectSignature:v.PropTypes.func.isRequired,onClickReuseSignature:v.PropTypes.func.isRequired,onClickCheck:v.PropTypes.func.isRequired,onClickUncheck:v.PropTypes.func.isRequired},s);t.default=T,e.exports=t.default},1489:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n,a,l=i(3),u=r(l),d=i(1),p=r(d),c=i(2),f=r(c),g=i(5),m=r(g),v=i(4),h=r(v),y=i(0),T=r(y),P=i(7),E=i(22),b=i(1272),_=i(1490),z=r(_),w=(o=(0,P.connect)(function(e){return{localeRequired:(0,E.getEditorLocale)(e).wizardTodoPopupView,localeAll:(0,E.getEditorLocale)(e).wizardAllFieldsFilledView,isRequiredCompleted:e.wizard.isRequiredCompleted,isAllCompleted:e.wizard.isAllCompleted}},{}))((a=n=function(e){function t(e){(0,p.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.onClickDocument=function(){i.setState({requiredCompletedVisible:!1,allCompletedVisible:!1})},i.attachEvent=function(){document.addEventListener("click",i.onClickDocument),setTimeout(function(){document.removeEventListener("click",i.onClickDocument),i.onClickDocument()},b.allCompleteTimeout)},i.state={requiredCompletedVisible:!1,allCompletedVisible:!1},i}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isRequiredCompleted,i=e.isAllCompleted;!this.props.isRequiredCompleted&&t&&(this.setState({requiredCompletedVisible:!0}),this.attachEvent()),!this.props.isAllCompleted&&i&&(this.setState({allCompletedVisible:!0}),this.attachEvent())}},{key:"render",value:function(){var e=this.state,t=e.requiredCompletedVisible,i=e.allCompletedVisible,r=this.props,o=r.localeRequired,s=r.localeAll;if(!t&&!i)return null;var n=t?o:s;return T.default.createElement(z.default,{locale:n})}}]),t}(y.Component),n.propTypes={localeRequired:y.PropTypes.shape({title:y.PropTypes.string.isRequired,description:y.PropTypes.string.isRequired}).isRequired,localeAll:y.PropTypes.shape({title:y.PropTypes.string.isRequired,description:y.PropTypes.string.isRequired}).isRequired,isRequiredCompleted:y.PropTypes.bool.isRequired,isAllCompleted:y.PropTypes.bool.isRequired},s=a))||s;t.default=w,e.exports=t.default},1490:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(9),T=r(y),P=(s=o=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=i(1351);return h.default.createElement("div",null,h.default.createElement("div",{className:(0,T.default)("jsf-popover",e.wizardTodoPopupView)},h.default.createElement("div",{className:"jsf-popover__arrow"}),h.default.createElement("div",{className:"jsf-popover-wrap"},h.default.createElement("div",{className:"jsf-popover__icon icon-svg-success"}),h.default.createElement("div",{className:"jsf-popover__title"},this.props.locale.title),h.default.createElement("div",{className:"jsf-popover__desc"},this.props.locale.description),h.default.createElement("div",{className:"jsf-popover__btn"},"ok"))))}}]),t}(v.Component),o.propTypes={locale:v.PropTypes.shape({title:v.PropTypes.string.isRequired,description:v.PropTypes.string.isRequired}).isRequired},s);t.default=P,e.exports=t.default},1491:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(1272),T={position:"absolute",width:0,height:0,opacity:0},P=(s=o=function(e){function t(){var e,i,r,o;(0,u.default)(this,t);for(var s=arguments.length,n=Array(s),l=0;l<s;l++)n[l]=arguments[l];return i=r=(0,f.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(n))),r.onFocusPrev=function(){r.props.wizardFocusItem({type:y.toggleWizardTypes.prev}),r.prev.blur()},r.onFocusNext=function(){r.props.wizardFocusItem({type:y.toggleWizardTypes.next}),r.next.blur()},r.setPrevRef=function(e){r.prev=e},r.setNextRef=function(e){r.next=e},o=i,(0,f.default)(r,o)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){return this.props.wizardFocus?h.default.createElement("div",{style:T},h.default.createElement("input",{type:"text",tabIndex:1,onFocus:this.onFocusPrev,ref:this.setPrevRef}),h.default.createElement("input",{type:"text",tabIndex:3,onFocus:this.onFocusNext,ref:this.setNextRef})):null}}]),t}(v.Component),o.propTypes={wizardFocus:v.PropTypes.oneOfType([v.PropTypes.object,v.PropTypes.array,v.PropTypes.bool]),wizardFocusItem:v.PropTypes.func.isRequired},s);t.default=P,e.exports=t.default},1492:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n,a,l=i(27),u=r(l),d=i(3),p=r(d),c=i(1),f=r(c),g=i(2),m=r(g),v=i(5),h=r(v),y=i(4),T=r(y),P=i(0),E=r(P),b=i(7),_=i(22),z=i(1272),w=i(1275),R=i(1493),k=r(R),C=(o=(0,b.connect)(function(e){return{haveFilledFields:e.wizard.haveFilledFields,activeElemOverflow:e.wizard.activeElemOverflow,locale:(0,_.getEditorLocale)(e).wizardPointer,wizardActive:e.wizard.wizardActive}},{toggleWizardLastActive:w.toggleWizardLastActive}))((a=n=function(e){function t(e){(0,f.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return i.onClick=function(){i.setState({hiddenAfterClick:!0},function(){i.props.toggleWizardLastActive(),i.afterClickTimeout=setTimeout(i.resetHiddenAfterClick,5e3)})},i.resetHiddenAfterClick=function(){return i.setState({hiddenAfterClick:!1})},i.state={hiddenAfterClick:!1},i}return(0,T.default)(t,e),(0,m.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.afterClickTimeout&&this.props.activeElemOverflow!==e.activeElemOverflow&&(clearTimeout(this.afterClickTimeout),this.resetHiddenAfterClick())}},{key:"render",value:function(){if(!this.props.wizardActive||this.state.hiddenAfterClick)return null;var e=this.props,t=e.haveFilledFields,i=e.locale,r=e.activeElemOverflow;return E.default.createElement(k.default,{onClick:this.onClick,haveFilledFields:t,activeElemOverflow:r,locale:i})}}]),t}(P.Component),n.propTypes={wizardActive:P.PropTypes.bool.isRequired,haveFilledFields:P.PropTypes.bool.isRequired,activeElemOverflow:P.PropTypes.oneOf((0,u.default)(z.elemOverflowStates)).isRequired,locale:P.PropTypes.shape({start:P.PropTypes.string.isRequired,continue:P.PropTypes.string.isRequired}).isRequired,toggleWizardLastActive:P.PropTypes.func.isRequired},s=a))||s;t.default=C,e.exports=t.default},1493:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(27),a=r(n),l=i(3),u=r(l),d=i(1),p=r(d),c=i(2),f=r(c),g=i(5),m=r(g),v=i(4),h=r(v),y=i(0),T=r(y),P=i(9),E=r(P),b=i(1272),_=(s=o=function(e){function t(){return(0,p.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=i(1542),t=this.props,r=t.haveFilledFields,o=t.locale,s=t.activeElemOverflow;if(s===b.elemOverflowStates.visible)return null;var n=r?o.continue:o.start,a=s===b.elemOverflowStates.elemIsBelow?"100%":"-200%";return T.default.createElement("div",{className:(0,E.default)("jsf-wizard jsf-wizard--navigation",e.wizardPointer,{"jsf-wizard--top":s===b.elemOverflowStates.elemIsBelow}),style:{transform:"translateY("+a+")"},onClick:this.props.onClick},T.default.createElement("div",{className:"jsf-wizard__arrow"}),T.default.createElement("div",{className:"jsf-wizard__text"},n))}}]),t}(y.Component),o.propTypes={onClick:y.PropTypes.func.isRequired,haveFilledFields:y.PropTypes.bool.isRequired,activeElemOverflow:y.PropTypes.oneOf((0,a.default)(b.elemOverflowStates)).isRequired,locale:y.PropTypes.shape({start:y.PropTypes.string.isRequired,continue:y.PropTypes.string.isRequired}).isRequired},s);t.default=_,e.exports=t.default},1494:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n,a,l=i(3),u=r(l),d=i(1),p=r(d),c=i(2),f=r(c),g=i(5),m=r(g),v=i(4),h=r(v),y=i(0),T=r(y),P=i(7),E=i(1495),b=r(E),_=(o=(0,P.connect)(function(e,t){var i=t.pageId;return function(e){return{wizardActive:e.wizard.wizardActive,unfilledCount:e.wizard.unfilledCounts[i]||0}}},!1))((a=n=function(e){function t(){return(0,p.default)(this,t),(0,m.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return T.default.createElement(b.default,{count:this.props.unfilledCount,wizardActive:this.props.wizardActive})}}]),t}(y.Component),n.propTypes={wizardActive:y.PropTypes.bool.isRequired,unfilledCount:y.PropTypes.number.isRequired},s=a))||s;t.default=_,e.exports=t.default},1495:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=(s=o=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){return 0===this.props.count?null:h.default.createElement("div",{className:"jsf-left-sb-editor-item__number-fillable",style:{display:this.props.wizardActive?"block":"none"}},this.props.count)}}]),t}(v.Component),o.propTypes={count:v.PropTypes.number.isRequired,wizardActive:v.PropTypes.bool.isRequired},s);t.default=y,e.exports=t.default},1496:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n,a,l=i(27),u=r(l),d=i(6),p=r(d),c=i(3),f=r(c),g=i(1),m=r(g),v=i(2),h=r(v),y=i(5),T=r(y),P=i(4),E=r(P),b=i(0),_=r(b),z=i(7),w=i(16),R=i(53),k=i(32),C=i(18),S=i(17),I=i(10),x=i(15),A=i(132),q=i(257),F=i(25),O=i(22),L=i(127),W=i(1272),D=i(1275),M=i(1284),N=i(1339),j=r(N),B=i(1498),U=r(B),V=(o=(0,z.connect)(function(e){return{logo:e.ws.features?e.ws.features.logo:null,activeElement:e.ws.activeElement,wizardFocus:(0,L.wizardFocusSelector)(e),wizardActive:e.wizard.wizardActive,sticker:(0,O.getEditorLocale)(e).assistant.sticker,todoListState:e.ws.defaults.todoListState,editType:e.query.editType,mobileWizardTodoListIsActive:e.wizard.mobileWizardTodoListIsActive,sigDateStampChangeable:e.ws.access.sigDateStampChangeable}},{updateElement:w.updateElement,clearElement:w.clearElement,setForceFocusElement:k.setForceFocusElement,setWizardItemDone:D.setWizardItemDone,setActiveElement:w.setActiveElement,todoListDragStarted:D.todoListDragStarted,todoListDragStopped:D.todoListDragStopped,updateTodoList:w.updateTodoList,toggleWizardByElement:D.toggleWizardByElement,updateActiveElement:R.updateActiveElement,toggleWizardNext:D.toggleWizardNext,toggleWizardPrev:D.toggleWizardPrev,setMobileTodoIsActive:D.setMobileTodoIsActive}))((a=n=function(e){function t(e){(0,m.default)(this,t);var i=(0,T.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return i.onClickItem=function(e,t,r){var o=r.active;if((0,x.stopEvent)(e),S.thisDevice.hasTouch&&(i.props.setMobileTodoIsActive(!1),o&&t.id&&(0,C.isTextToolBasedElement)(t)))return i.props.setForceFocusElement(t.id);i.props.toggleWizardByElement(t.id?t:t[0])},i.onDragStart=function(e){var t=(0,A.getEventPos)(e,S.thisDevice.hasTouch,i.props);t&&(i.props.todoListDragStarted(),i.setState({dragStartPoint:t,initialPosition:i.state.position}))},i.onDragMove=function(e){var t=(0,A.getEventPos)(e,S.thisDevice.hasTouch,i.props);if(t){var r=t.x-i.state.dragStartPoint.x,o=t.y-i.state.dragStartPoint.y;i.setState({position:(0,M.fixXY)({x:i.state.initialPosition.x+r,y:i.state.initialPosition.y+o},(0,M.getTodoListSize)(i.state.todoListState),i.getBodyBoundingBox())})}},i.onDragStop=function(){if(i.props.todoListDragStopped(),(0,M.needToPreventSafariDragBug)(i.state))return i.setState({position:i.state.initialPosition,initialPosition:{x:-1,y:-1},dragStartPoint:{x:-1,y:-1}}),void i.toggleCollapse();var e=i.fixTodoPositionIfNeed(i.props.bounding);i.setState((0,p.default)({initialPosition:{x:-1,y:-1},dragStartPoint:{x:-1,y:-1}},e?{position:e}:{}))},i.onClickPrev=function(){return i.props.toggleWizardPrev()},i.onClickNext=function(){return i.props.toggleWizardNext()},i.onClickTodo=function(){return i.props.setMobileTodoIsActive(!0)},i.onClickToggleStamp=function(){if((0,F.isSignature)(i.props.wizardFocus)){var e=i.props.wizardFocus.content.dateStamp;i.props.updateActiveElement(i.props.activeElement,{dateStamp:e?"":(0,x.formatDate)(new Date,I.defaultDateFormat)})}},i.onClickClear=function(){var e=i.props,t=e.wizardFocus,r=e.activeElement;r&&i.props.setActiveElement(r,!1),(t.length?t:[t]).map(function(e){var t=e.id;return i.props.clearElement(t)})},i.onClickKeyboard=function(){var e=i.props.activeElement;e&&i.props.setActiveElement(e,!1)},i.onClickOk=function(){var e=i.props.activeElement;e&&i.props.setActiveElement(e,!1)},i.onClickCheckbox=function(e,t,r){var o=t.id,s=r.required,n=r.done,a=r.contentDone;s||a||n||((0,x.stopEvent)(e),i.props.setWizardItemDone(o))},i.getBodyBoundingBox=function(){return{top:0,left:0,right:document.body.clientWidth-0,bottom:document.body.clientHeight-0}},i.toggleCollapse=function(){var e=i.state.todoListState===W.todoListStates.maximized?W.todoListStates.minimized:W.todoListStates.maximized;i.props.updateTodoList(e);var t=i.fixTodoPositionIfNeed(i.props.bounding,e);i.setState((0,p.default)({todoListState:e},t?{position:t}:{}))},i.fixTodoPositionIfNeed=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i.state.position,o=i.getBodyBoundingBox(),s=(0,M.getTodoListSize)(t||i.state.todoListState),n=!!e&&(0,M.addTodoListPaddingToBounding)(e);return!(0,M.isValidTodoPosition)(r,s,n,o)&&(0,M.getValidTodoPosition)(s,n,o)},i.state={todoListState:e.todoListState,complete:!1,position:(0,M.getValidTodoPosition)((0,M.getTodoListSize)(e.todoListState),(0,M.addTodoListPaddingToBounding)(e.bounding),i.getBodyBoundingBox()),dragStartPoint:{x:-1,y:-1}},i.isWizardJustCreated=!0,i.clickedItem=!1,i}return(0,E.default)(t,e),(0,h.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.bounding;if(t&&t!==this.props.bounding){var i=this.fixTodoPositionIfNeed(t);i&&this.setState({position:i})}}},{key:"render",value:function(){if(S.thisDevice.hasTouch&&!this.props.wizardFocus||this.state.todoListState===W.todoListStates.hidden)return null;var e=(0,q.getLogoUrls)(this.props.logo),t=e.large,i=e.small,r={todoListState:S.thisDevice.hasTouch?W.todoListStates.maximized:this.state.todoListState,title:(0,M.getTodoTitle)(this.props.sticker.messages,this.props.list),list:this.props.list,activeListIndex:this.props.list.findIndex(function(e){return!0===e.active}),position:this.state.position,toggleCollapse:this.toggleCollapse,onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragStop:this.onDragStop,hidden:!this.props.wizardActive,footerMarkup:this.props.sticker.footer,setWizardItemDone:this.props.setWizardItemDone,onClickItem:this.onClickItem,onClickCheckbox:this.onClickCheckbox};return S.thisDevice.hasTouch?_.default.createElement(U.default,{visible:!!this.props.wizardFocus,onClickPrev:this.onClickPrev,onClickNext:this.onClickNext,onClickTodo:this.onClickTodo,onClickClear:this.onClickClear,onClickToggleStamp:this.onClickToggleStamp,largeLogoUrl:t,smallLogoUrl:i,editType:this.props.editType,keyboardButton:this.props.wizardFocus.id&&(0,C.isTextToolBasedElement)(this.props.wizardFocus)&&!(0,F.isDate)(this.props.wizardFocus)||!1,todoListOpened:this.props.mobileWizardTodoListIsActive,todoListProps:(0,p.default)({},r,{mobile:!0}),sigDateStampChangeable:this.props.sigDateStampChangeable,onClickKeyboard:this.onClickKeyboard,onClickOk:this.onClickOk,onLogoClick:this.context.onLogoClick,isSignature:(0,F.isSignature)(this.props.wizardFocus)}):_.default.createElement(j.default,r)}}]),t}(b.Component),n.propTypes={bounding:b.PropTypes.oneOfType([b.PropTypes.object,b.PropTypes.bool]).isRequired,list:b.PropTypes.arrayOf(b.PropTypes.shape({el:b.PropTypes.oneOfType([b.PropTypes.object,b.PropTypes.array]).isRequired,contentDone:b.PropTypes.bool.isRequired,done:b.PropTypes.bool.isRequired,active:b.PropTypes.bool.isRequired,text:b.PropTypes.string.isRequired,required:b.PropTypes.bool.isRequired})).isRequired,activeElement:b.PropTypes.oneOfType([b.PropTypes.bool,b.PropTypes.string]).isRequired,wizardFocus:b.PropTypes.oneOfType([b.PropTypes.object,b.PropTypes.array,b.PropTypes.bool]),logo:b.PropTypes.object,wizardActive:b.PropTypes.bool.isRequired,todoListState:b.PropTypes.oneOf((0,u.default)(W.todoListStates)).isRequired,mobileWizardTodoListIsActive:b.PropTypes.bool.isRequired,sigDateStampChangeable:b.PropTypes.bool.isRequired,sticker:b.PropTypes.shape({footer:b.PropTypes.string.isRequired,messages:b.PropTypes.shape({allCompleted:b.PropTypes.string.isRequired,lessThan11:b.PropTypes.string.isRequired,moreThan10:b.PropTypes.string.isRequired}).isRequired}).isRequired,editType:b.PropTypes.string.isRequired,todoListDragStarted:b.PropTypes.func.isRequired,todoListDragStopped:b.PropTypes.func.isRequired,setMobileTodoIsActive:b.PropTypes.func.isRequired,updateTodoList:b.PropTypes.func.isRequired,setActiveElement:b.PropTypes.func.isRequired,updateElement:b.PropTypes.func.isRequired,updateActiveElement:b.PropTypes.func.isRequired,clearElement:b.PropTypes.func.isRequired,setForceFocusElement:b.PropTypes.func.isRequired,setWizardItemDone:b.PropTypes.func.isRequired,toggleWizardByElement:b.PropTypes.func.isRequired,toggleWizardNext:b.PropTypes.func.isRequired,toggleWizardPrev:b.PropTypes.func.isRequired},n.defaultProps={sigDateStampChangeable:!0},n.contextTypes={onLogoClick:b.PropTypes.func},s=a))||s;t.default=V,e.exports=t.default},1497:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(9),T=r(y),P=i(15),E=(s=o=function(e){function t(){var e,i,r,o;(0,u.default)(this,t);for(var s=arguments.length,n=Array(s),l=0;l<s;l++)n[l]=arguments[l];return i=r=(0,f.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(n))),r.onClickCheckbox=function(e){var t=r.props,i=t.required,o=t.done,s=t.contentDone;return r.props.onClickCheckbox(e,r.props.el,{required:i,done:o,contentDone:s})},r.onClickItem=function(e){return r.props.onClickItem(e,r.props.el,{active:r.props.active})},o=i,(0,f.default)(r,o)}return(0,m.default)(t,e),(0,p.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,P.scuHelper)(e,t,this,["done","active","text","required"])}},{key:"render",value:function(){var e=this.props,t=e.done,i=e.active,r=e.text,o=e.required;return h.default.createElement("li",{className:(0,T.default)({done:t,active:i}),onClick:this.onClickItem},h.default.createElement("div",{className:(0,T.default)("jsf-to-do-list-ul__checkbox",{checked:t}),onClick:this.onClickCheckbox},h.default.createElement("div",{className:"checkbox"})),h.default.createElement("div",{className:"jsf-to-do-list-ul__title"},r,o&&h.default.createElement("span",{className:"jsf-to-do-list-required"},"*")))}}]),t}(v.Component),o.propTypes={done:v.PropTypes.bool.isRequired,active:v.PropTypes.bool.isRequired,text:v.PropTypes.string.isRequired,required:v.PropTypes.bool.isRequired,contentDone:v.PropTypes.bool.isRequired,el:v.PropTypes.oneOfType([v.PropTypes.object,v.PropTypes.array]).isRequired,onClickItem:v.PropTypes.func.isRequired,onClickCheckbox:v.PropTypes.func.isRequired},s);t.default=E,e.exports=t.default},1498:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,n=i(3),a=r(n),l=i(1),u=r(l),d=i(2),p=r(d),c=i(5),f=r(c),g=i(4),m=r(g),v=i(0),h=r(v),y=i(35),T=i(1339),P=r(T),E={zIndex:3,minHeight:"44px"},b=(s=o=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.largeLogoUrl,i=e.smallLogoUrl,r=e.editType,o=e.sigDateStampChangeable;return h.default.createElement("div",null,this.props.visible&&h.default.createElement("div",{className:"jsf-header jsf-header--mobile",style:E},h.default.createElement(y.HeaderLogo,{largeLogoUrl:t,smallLogoUrl:i,onLogoClick:this.props.onLogoClick,editType:r}),h.default.createElement("div",{className:"jsf-header-nav"},h.default.createElement("div",{className:"jsf-header-nav-container"},h.default.createElement("div",{onClick:this.props.onClickPrev,className:"jsf-header-nav-item"},h.default.createElement("div",{className:"jsf-header-nav-item__icon icon-svg-prev-square"})),h.default.createElement("div",{onClick:this.props.onClickNext,className:"jsf-header-nav-item"},h.default.createElement("div",{className:"jsf-header-nav-item__icon icon-svg-next-square"})),h.default.createElement("div",{onClick:this.props.onClickTodo,className:"jsf-header-nav-item jsf-header-nav-item--separation-left"},h.default.createElement("div",{className:"jsf-header-nav-item__icon icon-svg-todo-min"})),this.props.keyboardButton&&h.default.createElement("div",{onClick:this.props.onClickKeyboard,className:"jsf-header-nav-item"},h.default.createElement("div",{className:"jsf-header-nav-item__icon icon-svg-keyboard"})),this.props.isSignature&&o&&h.default.createElement("div",{onClick:this.props.onClickToggleStamp,className:"jsf-header-nav-item"},h.default.createElement("div",{className:"jsf-header-nav-item__icon icon-svg-stamp-big"})))),h.default.createElement("div",{onClick:this.props.onClickOk,className:"jsf-header-action-btn"},h.default.createElement("div",{className:"g-btn g-btn-primary-link"},"OK"))),this.props.todoListOpened&&h.default.createElement(P.default,this.props.todoListProps))}}]),t}(v.Component),o.propTypes={onClickPrev:v.PropTypes.func.isRequired,onClickNext:v.PropTypes.func.isRequired,onClickTodo:v.PropTypes.func.isRequired,onLogoClick:v.PropTypes.func.isRequired,onClickToggleStamp:v.PropTypes.func.isRequired,keyboardButton:v.PropTypes.bool.isRequired,onClickKeyboard:v.PropTypes.func.isRequired,onClickOk:v.PropTypes.func.isRequired,todoListProps:v.PropTypes.object.isRequired,todoListOpened:v.PropTypes.bool.isRequired,visible:v.PropTypes.bool.isRequired,isSignature:v.PropTypes.bool.isRequired,largeLogoUrl:v.PropTypes.string.isRequired,smallLogoUrl:v.PropTypes.string.isRequired,editType:v.PropTypes.string.isRequired,sigDateStampChangeable:v.PropTypes.bool.isRequired},s);t.default=b,e.exports=t.default},1499:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.action.content,i=e.prevElement.template;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.put)((0,d.cacheSignature)({key:function(e){return e?(0,u.default)(e,["initials"])?"initials":t.subType:"null"}(i.restrictSubTypes||!1),content:t}));case 2:case"end":return e.stop()}},p,this)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(39),n=r(s);t.cacheSignature=o;var a=i(52),l=i(86),u=r(l),d=i(1275),p=n.default.mark(o)},1500:function(e,t,i){"use strict";function r(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,n.watchSetWizardFocus)(),(0,n.watchHideConstructor)(),(0,a.watchUpdateElement)(),(0,l.watchUpdateElementHint)(),(0,u.watchActivateTool)()];case 2:case"end":return e.stop()}},d,this)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(39),s=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r;var n=i(1501),a=i(1504),l=i(1503),u=i(1502),d=s.default.mark(r);e.exports=t.default},1501:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t,i,r;return d.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,f.select)(y.selectors.getIsFConstructorShown);case 2:return t=o.sent,o.next=5,(0,f.select)(y.selectors.getIsFConstructorPreviewShown);case 5:if(i=o.sent,!((r=!t||i)&&e.hasOwnProperty("id")&&(0,h.isDate)(e)&&!(0,h.isFilledTextElement)(e)&&k(e))){o.next=10;break}return o.next=10,(0,f.put)((0,g.updateActiveElement)(e.id,{text:C(e)},v.cancellableOpts));case 10:case"end":return o.stop()}},E,this)}function s(e){var t,i=e.id,r=e.activeStatus;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return e.next=3,(0,f.select)(y.selectors.getElement,i);case 3:if(t=e.sent,!(0,h.isFillable)(t)){e.next=7;break}return e.next=7,o(t);case 7:case"end":return e.stop()}},b,this)}function n(){var e;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.select)(y.selectors.getActiveElement);case 2:if(!(e=t.sent)){t.next=6;break}return t.next=6,o(e);case 6:case"end":return t.stop()}},_,this)}function a(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.takeEvery)(T.SET_ACTIVE_ELEMENT,s);case 2:case"end":return e.stop()}},z,this)}function l(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.takeEvery)([P.CONSTRUCTOR_HIDE,T.SHOW_CONSTRUCTOR_PREVIEW],n);case 2:case"end":return e.stop()}},w,this)}Object.defineProperty(t,"__esModule",{value:!0});var u=i(39),d=r(u);t.onChangeWizardFocus=o,t.onChangeActiveElement=s,t.onHideConstructor=n,t.watchSetWizardFocus=a,t.watchHideConstructor=l;var p=i(106),c=r(p),f=i(52),g=i(53),m=i(10),v=i(46),h=i(25),y=i(19),T=i(164),P=i(31),E=d.default.mark(o),b=d.default.mark(s),_=d.default.mark(n),z=d.default.mark(a),w=d.default.mark(l),R=function(e,t){var i=(0,c.default)(e,t.toUpperCase());return(0,c.default)([i.year(),i.month(),i.date()]).format(t.toUpperCase())===e},k=function(e){var t=e.template,i=t.initial,r=t.format;return null===i||""===i||R(i,r)},C=function(e){var t=e.template,i=t.initial,r=t.format;return null===i||""===i?(0,c.default)().format(r?r.toUpperCase():m.defaultDateFormat.toUpperCase()):R(i,r)?i:void console.error("getDateToSet error")}},1502:function(e,t,i){"use strict";function r(){var e;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.select)(c);case 2:if(!(e=t.sent)){t.next=6;break}return t.next=6,(0,a.put)((0,u.setWizardActive)(!1));case 6:case"end":return t.stop()}},d,this)}function o(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.takeEvery)(l.ACTIVATE_TOOL,r);case 2:case"end":return e.stop()}},p,this)}Object.defineProperty(t,"__esModule",{value:!0});var s=i(39),n=function(e){return e&&e.__esModule?e:{default:e}}(s);t.watchActivateTool=o;var a=i(52),l=i(164),u=i(1275),d=n.default.mark(r),p=n.default.mark(o),c=function(e){return e.wizard.wizardActive}},1503:function(e,t,i){"use strict";function r(e){var t,i,r,o,s,f,v,h=e.id;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.select)(u.selectors.getIsFConstructorShown);case 2:return t=e.sent,e.next=5,(0,a.select)(u.selectors.getIsFConstructorPreviewShown);case 5:if(i=e.sent,!t||i){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,(0,a.select)(p.getList);case 10:if((r=e.sent)&&0!==r.length){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,(0,a.select)(g);case 15:return o=e.sent,e.next=18,(0,a.select)(m);case 18:if(s=e.sent,f=(0,p.allRequiredFieldsFilled)(r),v=(0,p.allFieldsFilled)(r),!o||f){e.next=24;break}return e.next=24,(0,a.put)((0,d.setIsRequiredCompleted)(!1));case 24:if(!s||v){e.next=27;break}return e.next=27,(0,a.put)((0,d.setIsAllCompleted)(!1));case 27:if(!o||!s){e.next=29;break}return e.abrupt("return");case 29:if(r[r.length-1].el.id!==h||!v){e.next=34;break}return e.next=32,(0,a.put)((0,l.setActiveElement)(0,!1));case 32:return e.next=34,(0,a.put)((0,d.setWizardActive)(!1));case 34:if(!f){e.next=37;break}return e.next=37,(0,a.put)((0,d.setIsRequiredCompleted)(!0));case 37:if(!v){e.next=40;break}return e.next=40,(0,a.put)((0,d.setIsAllCompleted)(!0));case 40:case"end":return e.stop()}},c,this)}function o(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.takeEvery)([l.actionTypes.UPDATE_ELEMENT,l.actionTypes.UPDATE_ACTIVE_ELEMENT],r);case 2:case"end":return e.stop()}},f,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAllCompleted=t.getIsRequiredCompleted=void 0;var s=i(39),n=function(e){return e&&e.__esModule?e:{default:e}}(s);t.setShowHint=r,t.watchUpdateElementHint=o;var a=i(52),l=i(16),u=i(19),d=i(1275),p=i(1341),c=n.default.mark(r),f=n.default.mark(o),g=t.getIsRequiredCompleted=function(e){return e.wizard.isRequiredCompleted},m=t.getIsAllCompleted=function(e){return e.wizard.isAllCompleted}},1504:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e,t,i,r,o,s,a,l,u,d,p,c,z,w,R;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,f.select)(_);case 3:return e=n.sent,n.next=6,(0,f.take)([v.actionTypes.UPDATE_ACTIVE_ELEMENT,v.actionTypes.UPDATE_ELEMENT,v.actionTypes.REMOVE_ELEMENT]);case 6:if(t=n.sent,!t.id||e[t.id]){n.next=9;break}return n.abrupt("continue",0);case 9:if(t.type!==v.actionTypes.REMOVE_ELEMENT){n.next=15;break}if(i=e[t.id],!(0,h.isFillable)(i)||!(0,h.isDate)(i)){n.next=14;break}return n.next=14,(0,f.put)((0,T.toggleWizardNext)());case 14:return n.abrupt("continue",0);case 15:if(t.type!==v.actionTypes.UPDATE_ACTIVE_ELEMENT){n.next=21;break}return n.next=18,(0,f.select)(m.selectors.getActiveElement);case 18:n.t0=n.sent,n.next=24;break;case 21:return n.next=23,(0,f.select)(m.selectors.getElement,t.id);case 23:n.t0=n.sent;case 24:if(r=n.t0,o=t.id?t.id:r.id,r){n.next=28;break}return n.abrupt("continue",0);case 28:if(s=(0,h.isFillable)(r),a=(0,h.isCheckmarkElement)(r),l=(0,h.isElementInsideRadioGroup)(r),u=(0,h.isSignature)(r),d=(0,h.isPicture)(r),p=e[o],s){n.next=36;break}return n.abrupt("continue",0);case 36:if(!a||!l){n.next=43;break}if(c=(0,h.isFilledCheckmarkElement)(r)&&r.content&&r.content.checked,z=!p.content||!p.content.checked,!c||!z){n.next=43;break}return n.next=42,(0,f.put)((0,T.toggleWizardNextGroup)());case 42:return n.abrupt("continue",0);case 43:if(!a||l){n.next=50;break}if(w=(0,h.isFilledCheckmarkElement)(p),R=(0,h.isFilledCheckmarkElement)(r)&&r.content&&r.content.checked,w||!R){n.next=50;break}return n.next=49,(0,f.put)((0,T.toggleWizardNext)());case 49:return n.abrupt("continue",0);case 50:if(!u||!t.opts||!t.opts.byManager&&!t.opts.byReuse){n.next=60;break}if(!t.opts.byManager){n.next=54;break}return n.next=54,(0,f.spawn)(P.cacheSignature,{action:t,prevElement:p,nextElement:r});case 54:if(g.thisDevice.isSafariPhone||g.thisDevice.isChromeIOS){n.next=57;break}return n.next=57,b(y.wizardFocusTimeout);case 57:return n.next=59,(0,f.put)((0,T.toggleWizardNext)());case 59:return n.abrupt("continue",0);case 60:if(!d||!t.opts||!t.opts.byManager&&!t.opts.byReuse){n.next=67;break}if(g.thisDevice.isSafariPhone||g.thisDevice.isChromeIOS){n.next=64;break}return n.next=64,b(y.wizardFocusTimeout);case 64:return n.next=66,(0,f.put)((0,T.toggleWizardNext)());case 66:return n.abrupt("continue",0);case 67:n.next=0;break;case 69:case"end":return n.stop()}},E,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.elementsSelector=t.delay=void 0;var s=i(39),n=r(s),a=i(20),l=r(a),u=i(6),d=r(u),p=i(85),c=r(p);t.watchUpdateElement=o;var f=i(52),g=i(17),m=i(19),v=i(16),h=i(25),y=i(1272),T=i(1275),P=i(1499),E=n.default.mark(o),b=t.delay=function(e){return new c.default(function(t){return setTimeout(t,e)})},_=t.elementsSelector=function(e){return(0,d.default)({},e.ws.elementsMap,e.activeElement?(0,l.default)({},e.activeElement.id,e.activeElement):{})}},1542:function(e,t){e.exports={wizardPointer:"wizardPointer___3fvnu",fadein:"fadein___ss7YQ"}},1597:function(e,t,i){function r(e,t){var i=[];return o(e,function(e,r,o){t(e,r,o)&&i.push(e)}),i}var o=i(455);e.exports=r},1605:function(e,t,i){function r(e,t){return(a(e)?o:s)(e,n(t,3))}var o=i(1630),s=i(1597),n=i(109),a=i(72);e.exports=r},1606:function(e,t,i){function r(e,t){return e&&e.length?o(e,n(t,2),s):void 0}var o=i(1627),s=i(1631),n=i(109);e.exports=r},1627:function(e,t,i){e.exports=i(8)(218)},1628:function(e,t,i){e.exports=i(8)(309)},1629:function(e,t,i){e.exports=i(8)(310)},1630:function(e,t,i){e.exports=i(8)(484)},1631:function(e,t,i){e.exports=i(8)(492)}});
//# sourceMappingURL=2.a5db1a1cc5ac7e6b1f8b.js.map